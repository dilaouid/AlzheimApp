{"version":3,"sources":["assets/img/interface/profile.jpg","assets/img/activities/trophy.gif","assets/sound/simon/green.mp3","assets/img/username/chooseusername.gif","assets/img/home/loading_brain.gif","assets/img/home/addedUser.gif","assets/img/loading.gif","assets/img/tutorial/1.png","assets/img/tutorial/2.png","assets/img/tutorial/3.png","assets/img/tutorial/4.png","assets/img/tutorial/5.png","assets/img/tutorial/6.png","assets/img/tutorial/swipe-right.gif","assets/img/activities/brain.gif","assets/img/activities/bg.gif","assets/img/activities/simon/logo.png","assets/img/activities/quiz/logo.png","assets/img/activities/quiz/success.gif","assets/img/activities/sad.gif","assets/sound/simon/red.mp3","assets/sound/simon/yellow.mp3","assets/img/activities/quiz/thinking.gif","data/configApi.js","language/interface/index.js","language/tutorial/index.js","pages/ChooseUsername/styles.js","language/home/index.js","components/home/Rows.js","components/home/styles.js","components/utils/Lottie.js","components/home/PersonCreation/Success.js","data/dictaphoneApi.js","data/simonApi.js","data/quizApi.js","utils/helpers.js","data/personApi.js","components/home/PersonCreation/Form.js","components/home/PersonCreation/CreatePerson.js","pages/Home/styles.js","pages/Home/index.js","pages/ChooseUsername/index.js","components/utils/Loading.js","pages/Tutorial/styles.js","pages/Tutorial/index.js","components/utils/HomeOrTutorial.js","language/activities/index.js","pages/Activities/Settings/styles.js","pages/Activities/Settings/index.js","language/activities/dictaphone/index.js","components/activities/Dictaphone/Rows.js","components/activities/Dictaphone/styles.js","components/activities/Dictaphone/index.js","language/activities/simon/index.js","components/activities/Simon/styles.js","components/activities/Simon/Menu.js","components/activities/Simon/Game.js","components/activities/Simon/index.js","language/activities/quiz/index.js","components/activities/Quiz/styles.js","components/activities/Quiz/Menu.js","components/activities/Quiz/utils/quizFunc.js","components/activities/Quiz/Creation/QuestionList.js","components/activities/Quiz/utils/scoreFunc.js","components/activities/Quiz/QuizList.js","components/activities/Quiz/ViewQuizList.js","components/activities/Quiz/SuccessContent.js","components/activities/Quiz/Creation/FormQuizContent.js","components/activities/Quiz/ViewQuiz.js","components/activities/Quiz/Creation/CreateQuiz.js","components/activities/Quiz/Play/Menu.js","components/activities/Quiz/Play/Game.js","components/activities/Quiz/utils/gameFunc.js","components/activities/Quiz/Play/index.js","components/activities/Quiz/index.js","data/activities.js","pages/Activities/Activities/styles.js","pages/Activities/Activities/index.js","pages/Activities/Score/styles.js","pages/Activities/Score/index.js","pages/Activities/Tabs.js","pages/Activities/styles.js","pages/Activities/index.js","webpack:///./index.js?41f5","App.js"],"names":["module","exports","db","require","filename","storage","AsyncStorage","autoload","SawTutorial","bool","updateAsync","hasSeenTutorial","$exists","getConfig","a","async","findAsync","username","err","docs","length","insertAsync","then","resp","lang","fr","YourUsername","ImportImage","FullName","SetFullName","Description","SetDescription","RequiredField","LimitExceededField","limit","Save","CreatedPerson","EditedPerson","ReturnToForm","Yes","No","AreYouSure","DeletePerson","GlobalLoading","en","applyBoldStyle","text","numberOfItemsAdded","result","sentence","split","boldText","forEach","i","splice","Text","style","fontWeight","Step1Header","Step1Content","Step2Header","Step2Content","Step3Header","Step3Content","Step4Header","Step4Content","Step5Header","Step5Content","LastStepHeader","LastStepButton","ChooseUsername","WhatIsUsername","StyleSheet","create","wrapper","height","marginTop","container","flex","alignItems","alignContent","heading","fontSize","marginBottom","marginHorizontal","textAlign","color","description","textInput","borderColor","borderRadius","paddingHorizontal","backgroundColor","shadowOpacity","shadowRadius","shadowOffset","width","elevation","image","buttonContainer","button","marginLeft","buttonText","paddingTop","slide","padding","viewrow","flexDirection","flexWrap","justifyContent","Hello","WhatsUp","AddAPerson","Edit","Delete","ReturnToList","NobodyYet","WrongFullname","Search","Rows","props","navigate","useNavigate","TouchableScale","Platform","OS","default","mod","index","componentProps","Component","key","id","bottomDivider","containerStyle","onPress","state","source","picture","uri","DefaultProfilePicture","rounded","Content","Title","fullname","Subtitle","Chevron","rightButton","minHeight","imageSuccess","leftButton","view","alignSelf","marginVertical","btnImport","btnSave","profilePicture","successPageTitle","Lottie","LottieStyle","LottieSource","loop","hasOwnProperty","autoPlay","resizeMode","Image","ImageSource","ImageStyle","Success","View","SuccessImage","styles","edit","InterfaceLang","title","e","close","get","personId","find","sort","date","exec","datas","getScoreDay","score","data","console","error","createQuizContent","el","uuidv4","success","failed","includes","fileType","uploadQuizFile","path","FileSystem","from","to","updateScore","quizId","contentId","_id","quiz","contentIndex","content","findIndex","scoreIndex","pushErrors","errors","field","msg","randomNumber","min","max","Math","floor","random","person","trim","Object","keys","upd","$set","catch","log","Form","useState","fullnameError","setFullnameError","descriptionError","setDescriptionError","uriPreview","defaultProfilPicture","ImagePicker","mediaTypes","Images","allowsEditing","aspect","quality","cancelled","alert","setUriPreview","encoding","fsRead","setImage","titleStyle","buttonStyle","icon","name","size","placeholder","leftIcon","label","errorStyle","renderErrorMessage","maxLength","errorMessage","inputStyle","value","onChangeText","setFullname","setDescription","raised","cb","Person","intermediates","imgName","addPerson","persons","setFullnameHeader","scs","confirm","iconRight","CreatePerson","setSuccess","compProps","setPersons","topImage","zIndex","boldtext","subtitle","overflow","viewList","borderBottomColor","borderBottomWidth","safeContainer","nobodyYet","fontStyle","searchBar","searchInputStyle","Home","isLoading","setIsLoading","search","setSearch","setIndex","HomeLang","btnText","setBtnTxt","active","setActive","swiper","useRef","useLocation","useEffect","regex","RegExp","$regex","backHandler","BackHandler","addEventListener","remove","list","LoadingBrain","TouchableOpacity","activeOpacity","idx","ActivityIndicator","current","scrollBy","SafeAreaView","ref","showsButtons","scrollEnabled","pagingEnabled","showsPagination","onIndexChanged","setTimeout","ScrollView","inputContainerStyle","map","input","setInput","confirmed","setConfirmed","parseUsername","setUsername","response","ChooseUsernameGIF","TutorialLang","TextInput","underlineColorAndroid","animating","Loading","LoadingImage","slideOdd","paddingBottom","marginRight","borderWidth","Tutorial","res","SwipeImage","position","opacity","StepOne","StepTwo","StepThree","StepFour","StepFive","StepSixth","component","Config","HomeOrTutorial","Activities","Score","Settings","ChangeProfile","ShareProfile","DeleteProfile","ResetAccount","Simon","DoubleMemory","Dictaphone","Quiz","SuggestedActivities","Back","ReturnList","buttonStyleReturn","buttonStyleDelete","buttonStyleBack","buttonStyleDebug","setEdit","deletePerson","SimonDB","removeAsync","DictaphoneDB","deleted","type","iconContainerStyle","ActivitiesLang","Alert","multi","QuizDB","clear","Start","Pause","Stop","Continue","Untitled","ChooseTitle","PleaseChooseATitle","Cancel","Placeholder","DeleteTrack","SureDeleteTrack","NothingYet","isPlaying","setIsPlaying","progress","setProgress","Audio","Sound","sound","setSound","playingSounds","pauseAsync","pauseAll","setAudioModeAsync","staysActiveInBackground","shouldDuckAndroid","getStatusAsync","getSoundStatus","isLoaded","loadAsync","setPlayingSounds","playAsync","setOnPlaybackStatusUpdate","playbackStatus","didJustFinish","unloadAsync","positionMillis","playableDurationMillis","variant","animation","duration","reverse","deleteId","recordButton","titleButton","actionButtonsView","actionButtons","safeArea","loading","nothingYet","divider","overlay","paddingVertical","overlayTitle","overlayDescription","overlayInput","recording","setRecording","records","setRecords","setTitle","modal","setModal","setDeleteId","pause","setPause","stopRecording","stopAndUnloadAsync","API","stopPlayingSounds","setPage","saveRecord","getURI","folder","record","DictaphoneLang","Date","created","deleteRecord","goBack","visible","overlayStyle","onBackdropPress","ModalComponent","Modal","startAsync","requestPermissionsAsync","allowsRecordingIOS","playsInSilentModeIOS","Recording","createAsync","RECORDING_OPTIONS_PRESET_HIGH_QUALITY","toLocaleDateString","toLocaleTimeString","clr","Play","Help","Leave","ToGiveUp","BestScore","bestScore","DailyScore","dailyScore","YourTurn","WaitNSee","Failed","NiceHit","Tries","tries","BestScoreToday","Progress","order","game","Congratulations","SoBad","ScoreNotBeated","Retry","Exit","GiveUp","TimeToStop","logo","leaveButton","SimonButtonWeb","SimonButton","SimonLeftButton","SimonGreen","borderTopLeftRadius","SimonRed","borderTopRightRadius","SimonYellow","borderBottomLeftRadius","SimonBlue","borderBottomEndRadius","clickedButton","headerOverlay","textOverlay","Menu","SimonLogo","SimonLang","setTab","Game","start","setStart","setFailed","canPlay","setCanPlay","setLoading","setTries","round","setOrder","buttonClicked","setButtonClicked","setBestScore","setDailyScore","niceHit","setNiceHit","confetti","setConfetti","Array","setGame","scoreBeaten","setScoreBeaten","currentDate","SimonButtonStyle","playButtonDemo","pickCorrectSound","Promise","resolve","reject","playBackStatus","playButton","playedGame","push","time","failRound","successRound","completeGame","fadeOut","autoStart","fallSpeed","count","origin","x","y","TrophyImage","autoplay","onStartShouldSetResponder","onResponderGrant","disabled","tab","pos","Create","NoQuestionYet","SuccessfulRatio","AddQuestion","Complete","ImportFile","ReferenceFile","WhatIsTheQuestion","AddAnswer","WhatIsAnswer","OK","GiveUpQuizTitle","GiveUpQuiz","CreatedQuestion","EditedQuestion","PossibleAnswers","DeleteQuiz","SureDeleteQuiz","SureDeleteQuestion","CompleteQuizTitleHeader","CompleteQuizTitle","QuizTitle","CreatedQuiz","EditedQuiz","QuizListRedirection","selectedQuizz","quizName","Questions","SuccessTitle","FailedTitle","answers","join","SuccessQuizTitle","SuccessQuiz","fail","FailQuizTitle","FailQuiz","SaveContent","AddContent","answersText","leaveButtonPlay","createButton","overlayDescriptionReference","ScrollViewSuccess","modalTitle","modalDescription","quizTitleInputContainer","quizTitleInput","badgesView","quizzTitle","topMediaQuestion","gameQuestion","flexQuizGame","inputQuizGame","buttonQuizGameOK","QuizLogo","QuizLang","printFile","clearFile","pauseSound","playSound","QuestionList","quizEdit","newContent","quizEdition","Number","isInteger","questionId","tmp","setNewContent","setQuizEdit","setReload","reload","setEditedQuiz","contentList","setContent","pickOutQuestion","setEditContent","question","ScoreRatio","filter","parseInt","toFixed","QuizList","ViewQuizList","SuccessContent","FormQuizContent","answer","setAnswer","contentContainerStyle","setFileType","setFilename","setUri","DocumentPicker","mimeType","flexShrink","setQuestion","toLowerCase","setAnswers","addAnswer","badgeStyle","pickOutAnswer","ViewQuiz","newQuestion","setNewQuestion","editContent","editedQuiz","saveQuiz","concat","editedFile","buttonTop","mode","saveContent","pushContent","viewPage","CreateQuiz","createQuestion","setCreateQuestion","disable","setDisable","setName","ThinkingImage","quizLength","pickRandomQuizz","ThinkingLottie","setPlay","setCurrent","setFail","arr","j","shuffle","TrophyLottie","SadLottie","openAlertResultQuestion","SadImage","setMediaType","answerTrimedLowercase","answerQuestion","play","setQuiz","setRandom","rand","randomArrayElement","exclude","randNumber","returnComponent","page","ActivitiesList","iconPosition","Tab","createBottomTabNavigator","Tabs","Navigator","screenOptions","tabBarStyle","tabBarLabelStyle","Screen","options","headerShown","tabBarIcon","focused","children","topLottie","bgLottie","bgImage","tabViewItem","tabText","tabView","useParams","setPerson","BgSource","navTheme","DefaultTheme","colors","background","BackgroundImage","NavigationContainer","theme","registerRootComponent","config","setConfig","loadDataCallback","local","Localization","useCallback","fetchData","StatusBar","hidden","LangInterface","exact","element"],"mappings":"yEAAAA,EAAOC,QAAU,IAA0B,qC,oBCA3CD,EAAOC,QAAU,IAA0B,oC,ktyBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,4C,oBCA3CD,EAAOC,QAAU,IAA0B,2C,oBCA3CD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,qC,oBCA3CD,EAAOC,QAAU,IAA0B,+B,oBCA3CD,EAAOC,QAAU,IAA0B,+B,oBCA3CD,EAAOC,QAAU,IAA0B,+B,oBCA3CD,EAAOC,QAAU,IAA0B,+B,oBCA3CD,EAAOC,QAAU,IAA0B,+B,oBCA3CD,EAAOC,QAAU,IAA0B,+B,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,gC,oBCA3CD,EAAOC,QAAU,IAA0B,kC,oBCA3CD,EAAOC,QAAU,IAA0B,kC,oBCA3CD,EAAOC,QAAU,IAA0B,qC,u9fCA3CD,EAAOC,QAAU,IAA0B,iC,y24CCA3CD,EAAOC,QAAU,IAA0B,iC,oBCA3CD,EAAOC,QAAU,IAA0B,oC,khqBCA3CD,EAAOC,QAAU,IAA0B,sC,k+vJCI9BC,EAAK,IAFAC,EAAQ,KAER,CAAc,CAC5BC,SAAU,eACVC,QAASC,IACTC,UAAU,IAGP,SAASC,EAAYC,GACxB,OAAOP,EAAGQ,YACN,CAAEC,gBAAiB,CAAEC,SAAS,IAC9B,CAAED,gBAAiBF,IAcpB,SAAeI,IAAf,iBAAAC,EAAAC,OAAA,kEAAAD,EAAA,MAGoBZ,EAClBc,UAAU,CAAEC,SAAU,CAAEL,SAAS,KAAU,SAACM,EAAKC,GAC9C,OAAoB,IAAhBA,EAAKC,QACLlB,EAAGmB,YAAY,CACXJ,SAAU,KAEP,MAEAE,EAAK,GAAGF,YAGtBK,MAAK,SAACC,GAAU,IAAD,EACZ,OAAO,SAAAA,EAAK,SAAL,IAASN,WAAY,SAfjC,cAGGA,EAHH,kBAAAH,EAAA,MAkB2BZ,EACzBc,UAAU,CAAEL,gBAAiB,CAAEC,SAAS,KAAU,SAACM,EAAKC,GACrD,OAAoB,IAAhBA,EAAKC,QACLlB,EAAGmB,YAAY,CACXV,iBAAiB,KAEd,GAEAQ,EAAK,GAAGR,mBAGtBW,MAAK,SAACC,GAAU,IAAD,EACZ,OAAO,SAAAA,EAAK,SAAL,IAASZ,mBAAmB,MA9BxC,cAkBGA,EAlBH,yBAgCI,CAAEM,WAAUN,oBAhChB,4D,mBCVMa,EAAO,CAChBC,GAAI,CAEAC,aAAc,0BACdC,YAAa,qBACbC,SAAU,cACVC,YAAa,wCACbC,YAAa,2BACbC,eAAgB,uCAChBC,cACI,6DACJC,mBAAoB,SAACC,GACjB,MAAM,qCAAmCA,EAAzC,kBAEJC,KAAM,cACNC,cAAe,8DACfC,aAAc,oDACdC,aAAc,8BAGdC,IAAK,MACLC,GAAI,MACJC,WAAY,2BACZC,aAAc,SAACzB,GACX,MAAM,uDAAqDA,EAA3D,kLAIJ0B,cAAe,yCAEnBC,GAAI,CAEAlB,aAAc,gBACdC,YAAa,mBACbC,SAAU,YACVC,YAAa,0CACbC,YAAa,yBACbC,eAAgB,kCAChBC,cAAe,yBACfC,mBAAoB,SAACC,GACjB,MAAM,4BAA6BA,EAAnC,eAEJC,KAAM,OACNC,cAAe,uDACfC,aAAc,4CACdC,aAAc,qBAGdC,IAAK,MACLC,GAAI,KACJC,WAAY,gBACZC,aAAc,SAACzB,GACX,MAAM,2BAA4BA,EAAlC,yHAIJ0B,cAAe,2B,wCCvEjBE,EAAiB,SAACC,GACpB,IAAIC,EAAqB,EACnBC,EAASF,EAAKG,SAASC,MAAM,WAUnC,OATAJ,EAAKK,SAASC,SAAQ,SAACD,EAAUE,GAAX,OAClBL,EAAOM,SACDP,EAAqBM,EACvB,EACA,cAACE,EAAA,EAAD,CAAcC,MAAO,CAAEC,WAAY,QAAnC,SACKN,GADME,OAKZ,cAACE,EAAA,EAAD,UAAOP,KAGLxB,EAAO,CAChBC,GAAI,CAEAiC,YAAa,2BACbC,aAAc,WACV,OAAOd,EAAe,CAClBI,SACI,iNACJE,SAAU,CAAC,iBAKnBS,YAAa,oCACbC,aACI,iNAGJC,YAAa,oBACbC,aAAc,WACV,OAAOlB,EAAe,CAClBI,SACI,0LACJE,SAAU,CAAC,gBAKnBa,YAAa,eACbC,aAAc,WACV,OAAOpB,EAAe,CAClBI,SACI,4JACJE,SAAU,CAAC,gDAKnBe,YAAa,mBACbC,aACI,kLAGJC,eAAgB,8BAChBC,eAAgB,aAEhBC,eAAgB,qCAChBC,eAAgB,WACZ,OAAO1B,EAAe,CAClBI,SACI,+LACJE,SAAU,CAAC,iBAIvBP,GAAI,CAEAc,YAAa,wBACbC,aAAc,WACV,OAAOd,EAAe,CAClBI,SACI,6KACJE,SAAU,CAAC,iBAKnBS,YAAa,kCACbC,aACI,qKAGJC,YAAa,sBACbC,aAAc,WACV,OAAOlB,EAAe,CAClBI,SACI,qKACJE,SAAU,CAAC,gBAKnBa,YAAa,YACbC,aAAc,WACV,OAAOpB,EAAe,CAClBI,SACI,yHACJE,SAAU,CAAC,qCAKnBe,YAAa,kBACbC,aACI,oJAGJC,eAAgB,kBAChBC,eAAgB,QAEhBC,eAAgB,uBAChBC,eAAgB,WACZ,OAAO1B,EAAe,CAClBI,SACI,wJACJE,SAAU,CAAC,kB,yBCxHZqB,MAAWC,OAAO,CAC7BC,QAAS,CACLC,OAAQ,IACRC,UAAW,IAEfC,UAAW,CACPC,KAAM,EACNC,WAAY,SACZC,aAAc,UAElBC,QAAS,CACLC,SAAU,GACVzB,WAAY,OACZ0B,aAAc,GACdC,iBAAkB,GAClBA,iBAAkB,GAClBC,UAAW,SACXC,MAAO,SAEXC,YAAa,CACTL,SAAU,GACVC,aAAc,GACdC,iBAAkB,GAClBA,iBAAkB,GAClBC,UAAW,SACXC,MAAO,QAEXE,UAAW,CACPb,OAAQ,GACRc,YAAa,OACbC,aAAc,GACdC,kBAAmB,GACnBL,MAAO,QACPM,gBAAiB,QACjBC,cAAe,GACfC,aAAc,EACdC,aAAc,CACVpB,OAAQ,EACRqB,MAAO,GAEXC,UAAW,GAEfC,MAAO,CACHpB,KAAM,EACNkB,MAAO,KAEXG,gBAAiB,CACbpB,WAAY,UACZiB,MAAO,KAEXI,OAAQ,CACJR,gBAAiB,yBACjBF,aAAc,GACdM,MAAO,GACPK,WAAY,IAEhBC,WAAY,CACRC,WAAY,GACZjB,MAAO,QACPD,UAAW,UAEfmB,MAAO,CACH1B,KAAM,EACN2B,QAAS,IAEbC,QAAS,CACL1B,aAAc,SACdgB,MAAO,OACPW,cAAe,MACfC,SAAU,SACVC,eAAgB,Y,kDCtElBhE,EAAiB,SAACC,GACpB,IAAIC,EAAqB,EACnBC,EAASF,EAAKG,SAASC,MAAM,WAUnC,OATAJ,EAAKK,SAASC,SAAQ,SAACD,EAAUE,GAAX,OAClBL,EAAOM,SACDP,EAAqBM,EACvB,EACA,cAACE,EAAA,EAAD,CAAcC,MAAO,CAAEC,WAAY,OAAQ6B,MAAO,WAAlD,SACKnC,GADME,OAKZ,cAACE,EAAA,EAAD,UAAOP,KAGLxB,EAAO,CAChBC,GAAI,CACAqF,MAAO,SAAC7F,GACJ,OAAO4B,EAAe,CAClBI,SAAU,gBACVE,SAAU,CAAClC,MAGnB8F,QAAS,yCACTC,WAAY,uBACZC,KAAM,YACNC,OAAQ,YACRC,aAAc,uBACdC,UAAW,wCACXC,cACI,8EACJC,OAAQ,2BAEZ1E,GAAI,CACAkE,MAAO,SAAC7F,GACJ,OAAO4B,EAAe,CAClBI,SAAU,aACVE,SAAU,CAAClC,MAGnB8F,QAAS,uCACTC,WAAY,eACZC,KAAM,OACNC,OAAQ,SACRC,aAAc,qBACdC,UAAW,wCACXC,cACI,0EACJC,OAAQ,oB,0mBC3CD,SAASC,EAAKC,GACzB,IAAMC,EAAWC,cAEbC,EACgB,QAAhBC,IAASC,GACH1H,EAAQ,KAAgC2H,QACxC,KACNC,EACAP,EAAMQ,MAAQ,IAAM,EACd,CAAEpC,gBAAiB,SACnB,CAAEA,gBAAiB,WACzBqC,EACgB,QAAhBL,IAASC,GACH,CACIK,UAAWP,EACXQ,IAAKX,EAAMY,GACXC,eAAe,EACfC,eAAgBP,GAEpB,CAAEI,IAAKX,EAAMY,GAAIC,eAAe,EAAMC,eAAgBP,GAChE,OACI,eAAC,IAAD,OACQE,GADR,IAEIM,QAAS,WAAO,IAAD,EACXd,EAAS,eAAeD,EAAMY,GAAM,CAChCI,MAAO,CACHhH,KAAI,SAAEgG,EAAMhG,MAAR,EAAgB,KACpBP,SAAUuG,EAAMvG,aANhC,UAWI,cAAC,IAAD,CACIwH,OACS,MAALjB,KAAOkB,QACD,CAAEC,IAAKnB,EAAMkB,SACbE,IAEVC,SAAO,IAEX,eAAC,IAASC,QAAV,WACI,cAAC,IAASC,MAAV,UAAiBvB,EAAMwB,WACvB,cAAC,IAASC,SAAV,UAAoBzB,EAAMjC,iBAE9B,cAAC,IAAS2D,QAAV,CAAkB5D,MAAM,aCjDrBd,UAAWC,OAAO,CAC7B0E,YAAa,CACTC,UAAW,OACXxD,gBAAiB,OAErByD,aAAc,CACVrD,MAAO,IACPrB,OAAQ,KAEZ2E,WAAY,CACRF,UAAW,QAEfG,KAAM,CACFxE,WAAY,SACZyE,UAAW,SACXC,eAAgB,GAChBzD,MAAO,QAEX0D,UAAW,CACPhE,aAAc,GACdM,MAAO,KAEX2D,QAAS,CACL3D,MAAO,KAEX4D,eAAgB,CACZ5D,MAAO,IACPrB,OAAQ,IACRe,aAAc,IACdP,aAAc,IAElB0E,iBAAkB,CACdL,UAAW,SACXxD,MAAO,IACPX,UAAW,SACX5B,WAAY,OACZyB,SAAU,GACVI,MAAO,UACPH,aAAc,M,kBClBP2E,EAlBA,SAACtC,GAER,MAAuB,QAAhBI,IAASC,GACZ,cAAC,IAAD,CACIrE,MAAOgE,EAAMuC,YACbtB,OAAQjB,EAAMwC,aACdC,MAAMzC,EAAM0C,eAAe,SAAU1C,EAAMyC,KAC3CE,UACI3C,EAAM0C,eAAe,aAAc1C,EAAM2C,SAE7CC,WAAW,UAGf,cAACC,EAAA,EAAD,CAAO5B,OAAQjB,EAAM8C,YAAa9G,MAAOgE,EAAM+C,c,kBCN5C,SAASC,GAAQhD,GAC5B,IAAMwC,EAAe7J,EAAQ,KAE7B,OACI,eAACsK,EAAA,EAAD,WACI,cAAC,EAAD,CACIT,aAAcA,EACdM,YAAaI,IACbX,YAAaY,EAAOtB,aACpBkB,WAAYI,EAAOtB,aACnBY,MAAM,EACNE,UAAU,IAEd,cAAC5G,EAAA,EAAD,CAAMC,MAAOmH,EAAOd,iBAApB,UACoB,IAAfrC,EAAMoD,KACDC,EAAcrD,EAAMhG,MAAMY,cAC1ByI,EAAcrD,EAAMhG,MAAMa,eAEpC,cAAC,IAAD,CACIyI,MAAOD,EAAcrD,EAAMhG,MAAMc,aACjCkB,MAAO,CAAEoC,gBAAiB,QAC1B2C,QAAS,SAACwC,GACNvD,EAAMwD,c,8DC5Bb9K,GAAK,IAFAC,EAAQ,KAER,CAAc,CAC5BC,SAAU,mBACVC,QAASC,IACTC,UAAU,IAYP,SAAS0K,GAAIC,GAChB,OAAOhL,GACFiL,KAAK,CAAED,SAAUA,IACjBE,KAAK,CAAEC,MAAO,IACdC,MAAK,SAACpK,EAAKqK,GACR,OAAOA,KCvBnB,IAEarL,GAAK,IAFAC,EAAQ,KAER,CAAc,CAC5BC,SAAU,cACVC,QAASC,IACTC,UAAU,IAeP,SAASiL,GAAYN,EAAUG,GAClC,OAAOnL,GACFiL,KAAK,CAAED,SAAUA,EAAUG,KAAMA,IACjCD,KAAK,CAAEK,OAAQ,IACfH,MAAK,SAACpK,EAAKwK,GAIR,OAHIxK,GACAyK,QAAQC,MAAM1K,GAEXwK,K,qkBCxBnB,IA2CaxL,GAAK,IA3CAC,EAAQ,KA2CR,CAAc,CAC5BC,SAAU,aACVC,QAASC,IACTC,UAAU,IAGRsL,GAAoB,SAAOX,EAAUY,GAAjB,SAAAhL,EAAAC,OAAA,mDACtB+K,EAAG1D,GAAK2D,gBACRD,EAAGL,MAAQ,CAAC,CAACP,SAAUA,EAAUc,QAAS,EAAGC,OAAQ,KACjD,CAAC,QAAS,SAASC,SAASJ,EAAGK,UAHb,kCAAArL,EAAA,MAIZsL,GAAeN,IAJH,6DAQpBM,GAAiB,SAAON,GAAP,iBAAAhL,EAAAC,OAAA,uDACbX,EAAc2L,iBAA0B,SAAfD,EAAGK,SAAsB,OAAS,QAC3DE,EAAUC,KAFG,QAEiCR,EAAGK,SAFpC,eAAArL,EAAA,MAGbwL,KAAqB,CACvBC,KAAMT,EAAGnD,IACT6D,GAAG,GAAIH,EAAOjM,KALC,yBAAAU,EAAA,MAObwL,KAAuBR,EAAGnD,MAPb,OAQnBmD,EAAGnD,IAAH,GAAY0D,EAAOjM,EARA,6DA0ChB,SAAeqM,GAAYvB,EAAUwB,EAAQC,EAAWX,GAAxD,mBAAAlL,EAAAC,OAAA,kEAAAD,EAAA,MACgBZ,GAAGc,UAAU,CAAE4L,IAAKF,EAAQxB,SAAUA,IAAY,SAAChK,EAAKwK,GAEvE,OADIxK,GAAKyK,QAAQC,MAAM1K,GAChBwK,MAHR,cACGmB,EADH,OAKGC,EAAeD,EAAK,GAAGE,QAAQC,WAAU,SAAAlB,GAAE,OAAIA,EAAG1D,IAAMuE,KACxDM,EAAaJ,EAAK,GAAGE,QAAQD,GAAcrB,MAAMuB,WAAU,SAAAlB,GAAE,OAAIA,EAAGZ,SAAWA,KACjFc,EAASa,EAAK,GAAGE,QAAQD,GAAcrB,MAAMwB,GAAYjB,UACxDa,EAAK,GAAGE,QAAQD,GAAcrB,MAAMwB,GAAYhB,SARlD,kBASI/L,GAAGQ,YAAY,CAACkM,IAAKF,GAArB,MAAkCG,EAAK,MAT3C,4DCzGA,IAAMK,GAAa,SAACC,EAAQC,EAAOC,GAMtC,OALIF,EAAOjD,eAAekD,GACtBD,EAAOC,GAASC,EAIbF,GAGEG,GAAe,SAACC,EAAKC,GAC9B,OAAOC,KAAKC,MAAMD,KAAKE,UAAYH,EAAMD,EAAM,GAAKA,I,qkBCDxD,IAEarN,GAAK,IAFAC,EAAQ,KAER,CAAc,CAC5BC,SAAU,eACVC,QAASC,IACTC,UAAU,IAGP,SAASkE,GAAOmJ,GAAS,IAAD,gBACvB1M,EAAM,GAWV,IATI,MAAC0M,MAAQ5E,WACT,SAAA4E,EAAO5E,WAAP,WAAiB6E,aAAjB,IAAyBzM,QAAS,KAClC,SAAAwM,EAAO5E,WAAP,WAAiB6E,aAAjB,IAAyBzM,QAAS,IAElC8L,GAAWhM,EAAK,WAAY,MAEtB,MAAN0M,KAAQrI,cAAe,SAAAqI,EAAOrI,cAAP,WAAoBsI,aAApB,IAA4BzM,QAAS,KAC5D8L,GAAWhM,EAAK,cAAe,MAE/B4M,OAAOC,KAAK7M,GAAKE,OAAS,EAC1B,MAAO,CAAE4K,SAAS,EAAON,KAAMxK,GAEnC,IAAMwK,EAAO,CACT1C,SAAQ,SAAE4E,EAAO5E,eAAT,EAAE,EAAiB6E,OAC3BtI,YAAW,SAAEqI,EAAOrI,kBAAT,EAAE,EAAoBsI,OACjCnF,QAAS,MAEb,OAAOxI,GAAGmB,YAAH,MAAoBqK,IAAQ,SAACxK,EAAK8B,GACrC,OAAI9B,EACO,CAAE8K,SAAS,EAAON,KAAM,IAE5B,CACHM,SAAS,EACTN,KAAM1I,MAKX,SAAS4H,GAAKxC,EAAI4F,GACrB,IACoC,EAGG,EAGJ,EAP/BtC,EAAO,GACPsC,EAAI9D,eAAe,cACnBwB,EAAK1C,SAAL,SAAgBgF,EAAIhF,eAApB,EAAgB,EAAc6E,QAE9BG,EAAI9D,eAAe,iBACnBwB,EAAKnG,YAAL,SAAmByI,EAAIzI,kBAAvB,EAAmB,EAAiBsI,QAEpCG,EAAI9D,eAAe,aACnBwB,EAAKhD,QAAL,SAAesF,EAAItF,cAAnB,EAAe,EAAamF,QAEhC,OAAO3N,GAAGQ,YAAY,CAAEkM,IAAKxE,GAAM,CAAE6F,KAAK,MAAMvC,KAAUwC,OAAM,SAAChN,GAC7DyK,QAAQwC,IAAIjN,MC/CL,SAASkN,GAAK5G,GACzB,MAA0C6G,mBAAS,IAAnD,WAAOC,EAAP,KAAsBC,EAAtB,KACA,EAAgDF,mBAAS,IAAzD,WAAOG,EAAP,KAAyBC,EAAzB,KAgHA,OACI,eAAChE,EAAA,EAAD,CAAMjH,MAAOmH,EAAOpB,KAApB,UACI,cAACc,EAAA,EAAD,CACI5B,OACIjB,EAAMkH,WACA,CAAE/F,IAAKnB,EAAMkH,YACbC,IAEVnL,MAAOmH,EAAOf,iBAElB,cAAC,IAAD,CACIkB,MAAOD,EAAa,MAACrD,OAAD,EAACA,EAAOhG,MAAMG,YAClC4G,QA1CM,8BAAAzH,EAAAC,OAAA,kEAAAD,EAAA,MACK8N,KAAoC,CACnDC,WAAYD,KAA6BE,OACzCC,eAAe,EACfC,OAAQ,CAAC,EAAG,GACZC,QAAS,KALC,WAQW,KAPrBjM,EADU,QAQHkM,UARG,oDAYM,QAAhBtH,IAASC,GAZC,gBAaVsH,MAAM,QAbI,uCAgBFxG,EAAM3F,EAAO2F,IACjBnB,EAAM4H,cAAczG,GAjBd,YAAA7H,EAAA,MAkBewL,KAA6B3D,EAAK,CACnD0G,SAAU,WACXnB,OAAM,SAAChN,GACNyK,QAAQwC,IAAIjN,OArBV,QAkBAoO,EAlBA,OAuBN9H,EAAM+H,SAASD,GAvBT,kDAyBN3D,QAAQwC,IAAR,MAzBM,kEA2CNqB,WAAY,CAAEtK,SAAU,IACxBuK,YAAa9E,EAAOjB,UACpBgG,KACI,cAAC,IAAD,CACIC,KAAK,QACLC,KAAM,GACNtK,MAAM,QACN9B,MAAO,CAAE4B,iBAAkB,OAIvC,cAAC,IAAD,CACI5B,MAAO,CAAEwC,MAAO,OAAWyD,eAAgB,IAC3CzD,MAAO,IAEX,cAAC,IAAD,CACI6J,YAAahF,EAAa,MAACrD,OAAD,EAACA,EAAOhG,MAAMK,YACxCiO,SAAU,cAAC,IAAD,CAAMH,KAAK,SAASC,KAAM,GAAItK,MAAM,SAC9CyK,MAAOlF,EAAa,MAACrD,OAAD,EAACA,EAAOhG,MAAMI,SAClCoO,WAAY,CAAE1K,MAAO,OACrB2K,oBAAoB,EACpBC,UAAW,GACXC,aAAc7B,EACd8B,WAAY,CAAElL,SAAU,GAAIE,iBAAkB,IAC9CiL,MAAO7I,EAAMwB,SACbV,eAAgB,CAAEtC,MAAO,IAAKpB,WAAY,IAC1C0L,aAAc,SAACvF,GACXvD,EAAM+I,YAAYxF,MAI1B,cAAC,IAAD,CACI8E,YAAahF,EAAa,MAACrD,OAAD,EAACA,EAAOhG,MAAMO,eACxC+N,SAAU,cAAC,IAAD,CAAMH,KAAK,OAAOC,KAAM,GAAItK,MAAM,SAC5CyK,MAAOlF,EAAa,MAACrD,OAAD,EAACA,EAAOhG,MAAMM,YAClCkO,WAAY,CAAE1K,MAAO,OACrB4K,UAAW,IACXD,oBAAoB,EACpBE,aAAc3B,EACd4B,WAAY,CAAElL,SAAU,GAAIE,iBAAkB,IAC9CkD,eAAgB,CAAEtC,MAAO,IAAKb,aAAc,GAC5CkL,MAAO7I,EAAMjC,YACb+K,aAAc,SAACvF,GACXvD,EAAMgJ,eAAezF,MAI7B,cAAC,IAAD,CACI0F,QAAQ,EACR3F,MAAOD,EAAa,MAACrD,OAAD,EAACA,EAAOhG,MAAMW,KAClCoG,QAAS,SAACwC,IA7KN,iCAAAjK,EAAAC,OAAA,uDACRmK,EADQ,SACG1D,EAAM0D,UADT,EACqB,EAC3BwF,GACa,IAAflJ,EAAMoD,KACA+F,GAAYnJ,EAAM0D,SAAU,CACxBlC,SAAUxB,EAAMwB,SAChBzD,YAAaiC,EAAMjC,cAEvBoL,GACI,CACI3H,SAAUxB,EAAMwB,SAChBzD,YAAaiC,EAAMjC,aAEvBiC,EAAMhG,MAbR,WAAAV,EAAA,MAeS4P,GAfT,WAgBW,KADjB1N,EAfM,QAgBDgJ,QAhBC,wBAiBJhJ,EAAOkH,eAAe,aACtBqE,EAAiB1D,EAAa,MAACrD,OAAD,EAACA,EAAOhG,MAAMQ,eAE5CgB,EAAOkH,eAAe,gBACtBuE,EACI5D,EAAa,MAACrD,OAAD,EAACA,EAAOhG,MAAMS,mBAAmB,MAtB9C,mBAyBD,GAzBC,eA2BS,IAAbiJ,IACAA,EAAWlI,EAAO4J,KA5Bd,YAAA9L,EAAA,MA6BFwL,KAAiCA,KAAjC,WAAwEpB,EAAY,CAAC0F,eAAe,KA7BlG,cA8BJ,SAAApJ,EAAMtB,YAAN,IAAa9E,QAAS,GA9BlB,wBA+BAyP,EAAU9E,gBACRM,EAAUC,KAhCZ,WAgCmDpB,EAhCnD,kBAAApK,EAAA,MAiCEwL,KAA8BD,EAAM,CAACuE,eAAe,IAAO1C,OAAM,SAAChN,GACpEyK,QAAQwC,IAAI,gCAlCZ,QAoCJ7B,KACID,EAAI,IAAOwE,EAAP,OACJrJ,EAAMtB,MACN,CACImJ,SAAU,WAGb/N,MAAK,WACFqP,GAAYzF,EAAU,CAClBxC,QAAS2D,EAAI,IAAOwE,EAAP,SAEZvP,MAAK,SAACoK,GAOK,IAAD,GANY,IAAflE,EAAMoD,MACN5H,EAAO0F,QAAU2D,EAAI,IAAOwE,EAAP,OACrBrJ,EAAMsJ,WAAU,SAACC,GAAD,qBACTA,GADS,CAEZ/N,QAGJwE,EAAMwJ,kBAAN,SACIxJ,EAAMwB,eADV,EACI,EAAgB6E,QAGxBrG,EAAMyJ,SAET/C,OAAM,SAAChN,GAEJ,OADAyK,QAAQwC,IAAI,YAAajN,IAClB,QAGlBgN,OAAM,SAAChN,GACJyK,QAAQwC,IAAI,kBAAmBjN,MAnEnC,yBAsEe,IAAfsG,EAAMoD,KACNpD,EAAMsJ,WAAU,SAACC,GAAD,qBAAiBA,GAAjB,CAA0B/N,OAE1CwE,EAAMwJ,kBAAN,SAAwBxJ,EAAMwB,eAA9B,EAAwB,EAAgB6E,QAE5CrG,EAAMyJ,MA3EF,6DA8KAC,IAEJ1B,WAAY,CAAEtK,SAAU,IACxBuK,YAAa9E,EAAOhB,QACpBwH,WAAW,EACXzB,KACI,cAAC,IAAD,CACIC,KAAK,OACLC,KAAM,GACNtK,MAAM,QACN9B,MAAO,CAAE4B,iBAAkB,U,qkBClMpC,SAASgM,GAAa5J,GACjC,MAA0B6G,qBAA1B,WAAOnI,EAAP,KAAcqJ,EAAd,KACA,EAAgClB,mBAAS,IAAzC,WAAOrF,EAAP,KAAiBuH,EAAjB,KACA,EAAoClC,qBAApC,WAAOK,EAAP,KAAmBU,EAAnB,KACA,EAAsCf,mBAAS,IAA/C,WAAO9I,EAAP,KAAoBiL,EAApB,KACA,EAA8BnC,oBAAS,GAAvC,WAAOrC,EAAP,KAAgBqF,EAAhB,KAcMC,EAAY,CACd9P,KAAMgG,EAAMhG,KAEZwH,SAAUA,EACVuH,YAAaA,EAEbrK,MAAOA,EACPqJ,SAAUA,EAEVb,WAAYA,EACZU,cAAeA,EAEf7J,YAAaA,EACbiL,eAAgBA,GAGpB,OACI,cAAC/F,EAAA,EAAD,CAAMjH,MAAOmH,EAAOpB,KAApB,SACKyC,EACG,cAACxB,GAAD,SAAa8G,GAAb,IAAwBtG,MA3BtB,WACVuF,EAAY,IACZnB,EAAc,IACdG,EAAS,IACTiB,EAAe,IACfa,GAAW,IAsBmCzG,MAAM,KAE5C,cAACwD,GAAD,SACQkD,GADR,IAEI1G,MAAM,EACNmG,QAASvJ,EAAMuJ,QACfD,UAAWtJ,EAAM+J,WACjBN,IAtCH,WACTI,GAAW,SCbJ7M,WAAWC,OAAO,CAC7BI,UAAW,CACPC,KAAM,GAEVJ,QAAS,CACLE,UAAW,IACXS,UAAW,SACXN,WAAY,UAEhByM,SAAU,CACN1M,KAAM,EACNkB,MAAO,GACPpB,WAAY,KAEhBK,QAAS,CACLL,WAAY,IACZM,SAAU,GACVuM,OAAQ,GAEZC,SAAU,CACNjO,WAAY,OACZ6B,MAAO,WAEXqM,SAAU,CACNtM,UAAW,UAEfa,MAAO,CACHpB,KAAM,EACNkB,MAAO,KAEXI,OAAQ,CACJR,gBAAiB,UACjB6D,eAAgB,GAChB9E,OAAQ,GACRqB,MAAO,IACPN,aAAc,GACdkM,SAAU,UAEdtL,WAAY,CACRhB,MAAO,QACPD,UAAW,SACXT,UAAW,IAEfiN,SAAU,CACNxM,UAAW,SACXN,WAAY,SACZ+M,kBAAmB,OACnBC,kBAAmB,GACnBH,SAAU,UAEdI,cAAe,CACXlN,KAAM,GAEVmN,UAAW,CACP5M,UAAW,SACXoE,eAAgB,GAChBnE,MAAO,OACP4M,UAAW,UAEfC,UAAW,CACPhN,cAAe,IAEnBiN,iBAAkB,CACd/M,UAAW,SACXC,MAAO,UACPJ,SAAU,MC3CH,SAASmN,GAAK7K,GAAQ,IAAD,EAChC,EAAkC6G,oBAAS,GAA3C,WAAOiE,EAAP,KAAkBC,EAAlB,KACA,EAA8BlE,qBAA9B,WAAO0C,EAAP,KAAgBQ,EAAhB,KACA,EAA4BlD,qBAA5B,WAAOmE,EAAP,KAAeC,EAAf,KACA,EAA0BpE,mBAAS,GAAnC,WAAOrG,EAAP,KAAc0K,EAAd,KACA,EAA6BrE,mBACzBsE,EAASnL,EAAMhG,MAAQA,GAAMwF,YADjC,WAAO4L,EAAP,KAAgBC,EAAhB,KAGA,EAA4BxE,oBAAS,GAArC,WAAOyE,EAAP,KAAeC,EAAf,KAEMC,EAASC,iBAAO,MAChBzK,EAAK,SAAG0K,oBAAH,EAAG,EAAe1K,MACvBf,EAAWC,cAEXzG,GAAgB,MAALuH,OAAA,EAAAA,EAAOvH,WAAYuG,EAAMvG,SACpCO,GAAY,MAALgH,OAAA,EAAAA,EAAOhH,OAAQgG,EAAMhG,KAElC2R,qBAAU,WAAO,IAAD,GACPlS,IAAoB,MAARA,GAAA,SAAAA,EAAU4M,aAAV,IAAkBzM,QAAS,EACxCqG,EAAS,KJqBd,SAAakI,GAChB,IAAMyD,EAAQ,IAAIC,OAAO1D,EAAM,KAC/B,OAAOzP,GAAGc,UAAU,CAAEgI,SAAU,CAAEsK,OAAQF,KIrBlCzC,CAAW6B,GAAQlR,MAAK,SAACoK,GACrB6F,EAAW7F,GACX6G,GAAa,MAGrB,IAAMgB,EAAcC,IAAYC,iBAC5B,qBACA,WACI,OAAO,KAGf,OAAO,kBAAMF,EAAYG,YAC1B,CAAClB,EAAQvR,EAAUwG,IAEtB,IAmBmBkM,EAiBnB,OACI,eAAClJ,EAAA,EAAD,CAAMjH,MAAOmH,GAAO9F,UAApB,UACI,eAAC4F,EAAA,EAAD,CAAMjH,MAAOmH,GAAOjG,QAApB,UACI,cAAC2F,EAAA,EAAD,CACI5B,OAAQmL,IACRxJ,WAAW,UACX5G,MAAOmH,GAAO6G,WAElB,cAACjO,EAAA,EAAD,CAAMC,MAAOmH,GAAO1F,QAApB,SACK0N,EAASnR,GAAMsF,MAAM7F,QAG9B,cAACsC,EAAA,EAAD,CAAMC,MAAOmH,GAAOgH,SAApB,SAA+BgB,EAASnR,GAAMuF,UAC9C,cAAC0D,EAAA,EAAD,CAAMjH,MAAOmH,GAAOkH,SAApB,SACI,cAACgC,EAAA,EAAD,CACIrQ,MAAOmH,GAAOvE,OACd0N,cAAe,GACfvL,QAAS,SAACwC,GArDR,IAACgJ,GAsDgB,IAAXjB,IAGJC,GAAU,GACVF,EACI,cAACmB,EAAA,EAAD,CAAmB1O,MAAO,QAASsK,KAAM,YA1DhD,KADEmE,EA6DW/L,EAAQ,KA3D9B+L,EAAM,GAEVf,EAAOiB,QAAQC,SAASH,EAAM/L,GAAO,KA8C7B,SAcI,cAACzE,EAAA,EAAD,CAAMC,MAAOmH,GAAOrE,WAApB,SAAiCsM,QAGzC,cAACuB,EAAA,EAAD,CAAc3Q,MAAOmH,GAAOqH,cAA5B,SACKM,EACG,cAAC0B,EAAA,EAAD,CACI1O,MAAO,OACP9B,MAAO,CAAEoB,UAAW,MAGxB,eAAC,IAAD,CACIwP,IAAKpB,EACLqB,cAAc,EACdC,eAAe,EACfrK,MAAI,EACJsK,eAAa,EACbvM,MAAO,EACPwM,iBAAiB,EACjBC,eAAgB,SAAC1J,GA3EjB,IAACgJ,EACjBrB,EADiBqB,EA4EehJ,GA1EhC2J,YAAW,WACK,IAARX,EACAlB,EAAUF,EAASnR,GAAMwF,YACV,IAAR+M,GACPlB,EAAUF,EAASnR,GAAM2F,cAE7B4L,GAAU,KACX,MA0DS,UAYI,eAAC4B,EAAA,EAAD,WACI,cAAC,IAAD,CACI9E,YAAa8C,EAASnR,GAAM8F,OAC5BsN,oBAAqBjK,GAAOwH,UAC5B7B,aAAc,SAACvF,GACX0H,EAAU1H,IAEdsF,MAAOmC,EACPpC,WAAYzF,GAAOyH,mBAEtBrB,GAAWA,EAAQ3P,OAAS,GA7ElCuS,EA8EmB5C,EA7E3B4C,EAAKkB,KAAI,SAAC/I,EAAIzI,GACjB,OACI,cAACkE,EAAD,CACIS,MAAO3E,EAEPpC,SAAUA,EACVmH,GAAI0D,EAAGc,IACP5D,SAAU8C,EAAG9C,SACbzD,YAAauG,EAAGvG,YAChBmD,QAASoD,EAAGpD,QACZlH,KAAMA,GANDsK,EAAGc,SA2EI,cAACrJ,EAAA,EAAD,CAAMC,MAAOmH,GAAOsH,UAApB,SACKU,EAASnR,GAAM4F,eAI5B,cAACuN,EAAA,EAAD,UACI,cAACvD,GAAD,CACIL,QAASA,EACTQ,WAAYA,EACZ/P,KAAMA,MAGd,cAACmT,EAAA,EAAD,YCrJT,SAASrQ,GAAekD,GACnC,MAA0B6G,mBAAS,IAAnC,WAAOyG,EAAP,KAAcC,EAAd,KACA,EAAkC1G,oBAAS,GAA3C,WAAOiE,EAAP,KAAkBC,EAAlB,KACA,EAAkClE,oBAAS,GAA3C,WAAO2G,EAAP,KAAkBC,EAAlB,KACMxN,EAAWC,cAEjByL,qBAAU,WACN,IAUMI,EAAcC,IAAYC,iBAC5B,qBAXe,WACf,OAAOjT,GAAY,GACdc,MAAK,WAEF,OADAmG,EAAS,MACF,KAEVyG,OAAM,SAAChN,GACJ,OAAO,QAOnB,OAAO,kBAAMqS,EAAYG,YAC1B,IAEH,IAAMwB,EAAgB,SAACJ,GACnBvC,GAAa,GACb,IAAItR,GAAgB,MAAL6T,OAAA,EAAAA,EAAOjH,SAAU,KAC5B5M,IAAoB,MAARA,OAAA,EAAAA,EAAUG,SAAU,IAAa,MAARH,OAAA,EAAAA,EAAUG,QAAS,GlB/B7D,SAA2B0T,GAA3B,SAAAhU,EAAAC,OAAA,yEACIb,EAAGQ,YAAY,CAAEO,SAAU,CAAEL,SAAS,IAAU,CAAEK,SAAU6T,KADhE,4DkBgCKK,CAAYlU,GACPK,MAAK,SAAC8T,GACH7C,GAAa,GACbwC,EAAS9T,GACTgU,GAAa,MAEhB/G,OAAM,SAAChN,GACJyK,QAAQwC,IAAIjN,MAGpBqR,GAAa,IAIrB,OAAKyC,EAmDM,cAAC3C,GAAD,CAAMpR,SAAU6T,EAAOtT,KAAMgG,EAAMhG,OAjDtC,eAACiJ,EAAA,EAAD,CAAMjH,MAAOmH,EAAO9F,UAApB,UACI,cAAC4F,EAAA,EAAD,CAAMjH,MAAOmH,EAAOjG,QAApB,SACI,cAAC2F,EAAA,EAAD,CACI5B,OAAQ4M,IACRjL,WAAW,UACX5G,MAAOmH,EAAOzE,UAGtB,cAAC3C,EAAA,EAAD,CAAMC,MAAOmH,EAAO1F,QAApB,SACKqQ,EAAa9N,EAAMhG,MAAM8C,iBAE9B,cAACf,EAAA,EAAD,CAAMC,MAAOmH,EAAOpF,YAApB,SACK+P,EAAa9N,EAAMhG,MAAM+C,mBAE9B,eAACkG,EAAA,EAAD,CAAMjH,MAAOmH,EAAOjE,QAApB,UACI,cAAC6O,EAAA,EAAD,CACIC,sBAAsB,cACtBhS,MAAOmH,EAAOnF,UACd6K,MAAOyE,EACPjF,YAAahF,EAAcrD,EAAMhG,MAAME,aACvCwO,UAAW,GACXI,aAAc,SAACvF,GACXgK,EAAShK,MAGjB,cAAC8I,EAAA,EAAD,CACIrQ,MAAOmH,EAAOvE,OACd0N,cAAe,GACfvL,QAAS,SAACwC,GACNmK,EAAcJ,IAJtB,SAOI,eAACvR,EAAA,EAAD,CAAMC,MAAOmH,EAAOrE,WAApB,UACK,IACAgM,EACG,cAAC0B,EAAA,EAAD,CACI1O,MAAM,QACNsK,KAAK,QACL6F,WAAW,IAGf,gB,yBCpEjBC,GAhCC,SAAClO,GACb,IAAMwC,EAAe7J,EAAQ,KACvBwK,EAAS,CAAE3E,MAAO,IAAKpB,UAAW,KACxC,OACI,eAAC6F,EAAA,EAAD,CAAMjH,MAAOgE,EAAMhE,MAAnB,UACI,cAAC,EAAD,CACIwG,aAAcA,EACdD,YAAaY,EACbJ,WAAYI,EACZL,YAAaqL,OAEjB,cAACpS,EAAA,EAAD,CACIC,MAAO,CACHoB,UAAW,IACXU,MAAO,UACPU,MAAO,IACPX,UAAW,UALnB,SAQKmC,EAAM1E,OAEX,cAACS,EAAA,EAAD,CAAMC,MAAO,CAAEoB,UAAW,KAA1B,SACI,cAACoP,EAAA,EAAD,CACI1O,MAAO,UACPsK,KAAM,QACNpM,MAAO,CAAEoB,UAAW,Y,mJC7BzBJ,OAAWC,OAAO,CAC7BC,QAAS,CACLmC,eAAgB,SAChB9B,WAAY,UAEhByB,MAAO,CACH1B,KAAM,EACN2B,QAAS,IAEbmP,SAAU,CACN9Q,KAAM,EACN2B,QAAS,GACTb,gBAAiB,WAErBkF,MAAO,CACHxF,MAAO,QACPR,KAAM,EACNI,SAAU,GACVzB,WAAY,OACZmB,WAAY,GACZS,UAAW,UAEfvC,KAAM,CACFwC,MAAO,QACPJ,SAAU,GACVJ,KAAM,EACNF,WAAY,GACZS,UAAW,UAEfa,MAAO,CACHpB,KAAM,EACNkB,MAAO,OACPrB,OAAQ,KAEZwB,gBAAiB,CACbrB,KAAM,EACNF,WAAY,IAEhBwB,OAAQ,CACJxB,UAAW,GACX2B,WAAY,GACZsP,cAAe,GACfxP,WAAY,GACZyP,YAAa,GACblQ,gBAAiB,UACjBF,aAAc,GACdqQ,YAAa,EACbtQ,YAAa,QAEjBa,WAAY,CACRhB,MAAO,OACPD,UAAW,YC9BJ,SAAS2Q,GAASxO,GAC7B,IAAMwC,EAAe7J,EAAQ,KAc7B,OAZAgT,qBAAU,WrBLP,EAAArS,EAAAC,OAAA,yEACIb,EAAGc,UAAU,CAAEC,SAAU,CAAEL,SAAS,KAAU,SAACM,EAAKC,GACvD,OAAOA,MAFR,4DqBOMG,MAAK,SAAC2U,GAAS,IAAD,EACX,YAAIA,EAAI,KAAJ,EAAQhV,SACR,OAAO,cAACoR,GAAD,CAAMpR,SAAUgV,EAAKzU,KAAMgG,EAAMhG,UAG/C0M,OAAM,SAAChN,GACJyK,QAAQwC,IAAIjN,QAErB,IAGC,qCACI,cAAC,EAAD,CACI8I,aAAcA,EACdM,YAAa4L,KACbnM,YAAa,CACToM,SAAU,WACVxR,OAAQ,GACRC,UAAW,IACXyB,WAAY,GACZ+P,QAAS,IAEb7L,WAAY,CACR4L,SAAU,WACVxR,OAAQ,GACRC,UAAW,IACXyB,WAAY,GACZ+P,QAAS,MAGjB,eAAC,IAAD,CACI5S,MAAOmH,GAAOjG,QACd2P,cAAc,EACdG,iBAAiB,EACjBvK,MAAM,EAJV,UAMI,eAACQ,EAAA,EAAD,CAAMjH,MAAOmH,GAAOnE,MAApB,UACI,cAAC6D,EAAA,EAAD,CACI5B,OAAQ4N,KACRjM,WAAW,UACX5G,MAAOmH,GAAOzE,QAElB,cAAC3C,EAAA,EAAD,CAAMC,MAAOmH,GAAOG,MAApB,SACKwK,EAAa9N,EAAMhG,MAAMkC,cAE9B,cAACH,EAAA,EAAD,CAAMC,MAAOmH,GAAO7H,KAApB,SACKwS,EAAa9N,EAAMhG,MAAMmC,oBAIlC,eAAC8G,EAAA,EAAD,CAAMjH,MAAOmH,GAAOiL,SAApB,UACI,cAACvL,EAAA,EAAD,CACI5B,OAAQ6N,KACRlM,WAAW,UACX5G,MAAOmH,GAAOzE,QAElB,cAAC3C,EAAA,EAAD,CAAMC,MAAOmH,GAAOG,MAApB,SACKwK,EAAa9N,EAAMhG,MAAMoC,cAE9B,cAACL,EAAA,EAAD,CAAMC,MAAOmH,GAAO7H,KAApB,SACKwS,EAAa9N,EAAMhG,MAAMqC,kBAIlC,eAAC4G,EAAA,EAAD,CAAMjH,MAAOmH,GAAOnE,MAApB,UACI,cAAC6D,EAAA,EAAD,CACI5B,OAAQ8N,KACRnM,WAAW,UACX5G,MAAOmH,GAAOzE,QAElB,cAAC3C,EAAA,EAAD,CAAMC,MAAOmH,GAAOG,MAApB,SACKwK,EAAa9N,EAAMhG,MAAMsC,cAE9B,cAACP,EAAA,EAAD,CAAMC,MAAOmH,GAAO7H,KAApB,SACKwS,EAAa9N,EAAMhG,MAAMuC,oBAIlC,eAAC0G,EAAA,EAAD,CAAMjH,MAAOmH,GAAOiL,SAApB,UACI,cAACvL,EAAA,EAAD,CACI5B,OAAQ+N,KACRpM,WAAW,UACX5G,MAAOmH,GAAOzE,QAElB,cAAC3C,EAAA,EAAD,CAAMC,MAAOmH,GAAOG,MAApB,SACKwK,EAAa9N,EAAMhG,MAAMwC,cAE9B,cAACT,EAAA,EAAD,CAAMC,MAAOmH,GAAO7H,KAApB,SACKwS,EAAa9N,EAAMhG,MAAMyC,oBAIlC,eAACwG,EAAA,EAAD,CAAMjH,MAAOmH,GAAOnE,MAApB,UACI,cAAC6D,EAAA,EAAD,CACI5B,OAAQgO,KACRrM,WAAW,UACX5G,MAAOmH,GAAOzE,QAElB,cAAC3C,EAAA,EAAD,CAAMC,MAAOmH,GAAOG,MAApB,SACKwK,EAAa9N,EAAMhG,MAAM0C,cAE9B,cAACX,EAAA,EAAD,CAAMC,MAAOmH,GAAO7H,KAApB,SACKwS,EAAa9N,EAAMhG,MAAM2C,kBAIlC,eAACsG,EAAA,EAAD,CAAMjH,MAAOmH,GAAOiL,SAApB,UACI,cAACvL,EAAA,EAAD,CACI5B,OAAQiO,KACRtM,WAAW,UACX5G,MAAOmH,GAAOzE,QAElB,cAAC3C,EAAA,EAAD,CAAMC,MAAOmH,GAAOG,MAApB,SACKwK,EAAa9N,EAAMhG,MAAM4C,iBAE9B,cAACqG,EAAA,EAAD,CAAMjH,MAAOmH,GAAOxE,gBAApB,SACI,cAAC,IAAD,CACIqG,GAAG,YACHmK,UAAW9C,IACXrQ,MAAOmH,GAAOvE,OACdmC,QAAS,SAACwC,GACN6L,GAAmB,IAEvB9C,cAAe,GAPnB,SASI,eAACvQ,EAAA,EAAD,CAAMC,MAAOmH,GAAOrE,WAApB,UACK,IACAgP,EAAa9N,EAAMhG,MAAM6C,eAAgB,oBCrJ1E,IAUewS,GAVQ,SAACrP,GAAW,IAAD,EAC9B,OAAI,MAACA,KAAO7G,gBAGR,MAAC6G,MAAOvG,WAAiB,MAALuG,GAAA,SAAAA,EAAOvG,eAAP,IAAiBG,QAAS,EACvC,cAACkD,GAAD,CAAgB9C,KAAMgG,EAAMhG,OAEhC,cAAC6Q,GAAD,CAAM7Q,KAAMgG,EAAMhG,KAAMP,SAAUuG,EAAMvG,WALpC,cAAC+U,GAAD,CAAUxU,KAAMgG,EAAMhG,Q,0CCN/BqB,GAAiB,SAACC,GACpB,IAAIC,EAAqB,EACnBC,EAASF,EAAKG,SAASC,MAAM,WAUnC,OATAJ,EAAKK,SAASC,SAAQ,SAACD,EAAUE,GAAX,OAClBL,EAAOM,SACDP,EAAqBM,EACvB,EACA,cAACE,EAAA,EAAD,CAAcC,MAAO,CAAEC,WAAY,OAAQ6B,MAAO,WAAlD,SACKnC,GADME,OAKZ,cAACE,EAAA,EAAD,UAAOP,KAGLxB,GAAO,CAChBC,GAAI,CACAqF,MAAO,SAAC7F,GACJ,OAAO4B,GAAe,CAClBI,SAAU,gBACVE,SAAU,CAAClC,MAGnB6V,WAAY,eACZC,MAAO,QACPC,SAAU,gBACVC,cAAe,qBACfC,aAAc,qBACdC,cAAe,sBACfC,aAAc,2BACdC,MAAO,iBACPC,aAAc,gBACdC,WAAY,gBACZC,KAAM,qBACNC,oBAAqB,+BACrBC,KAAM,8BAENC,WAAY,UAEhB/U,GAAI,CACAkE,MAAO,SAAC7F,GACJ,OAAO4B,GAAe,CAClBI,SAAU,aACVE,SAAU,CAAClC,MAGnB6V,WAAY,aACZC,MAAO,QACPC,SAAU,WACVC,cAAe,qBACfC,aAAc,oBACdC,cAAe,qBACfC,aAAc,2BACdC,MAAO,gBACPE,WAAY,YACZC,KAAM,eACNF,aAAc,gBACdG,oBAAqB,uBACrBC,KAAM,0BAENC,WAAY,W,mBC5DLnT,OAAWC,OAAO,CAC7B6D,eAAgB,CACZvD,WAAY,SACZH,UAAW,GACXO,aAAc,IAElBsK,YAAa,CACTzJ,MAAO,IACPrB,OAAQ,IAEZiT,kBAAmB,CACf5R,MAAO,IACPrB,OAAQ,IAEZkT,kBAAmB,CACf7R,MAAO,IACPrB,OAAQ,GACRiB,gBAAiB,OAErBkS,gBAAiB,CACb9R,MAAO,IACPrB,OAAQ,GACRiB,gBAAiB,WAErBmS,iBAAkB,CACd/R,MAAO,IACPrB,OAAQ,GACRiB,gBAAiB,Y,qkBCbV,SAASoR,GAASxP,GAAQ,IAAD,YACpC,EAAwB6G,oBAAS,GAAjC,WAAOzD,EAAP,KAAaoN,EAAb,KACA,EAA8B3J,oBAAS,GAAvC,WAAOrC,EAAP,KAAgBqF,EAAhB,KACA,EAA0BhD,qBAA1B,WAAOnI,EAAP,KAAcqJ,EAAd,KACA,EAAgClB,mBAAS7G,EAAMoG,OAAO5E,UAAtD,WAAOA,EAAP,KAAiBuH,EAAjB,KACA,EAAoClC,mBAAS7G,EAAMoG,OAAOlF,SAA1D,WAAOgG,EAAP,KAAmBU,EAAnB,KACA,EAAsCf,mBAAS7G,EAAMoG,OAAOrI,aAA5D,WAAOA,EAAP,KAAoBiL,EAApB,KAEM/I,EAAWC,cAcX4J,EAAY,CACd9P,KAAMgG,EAAMhG,KAEZwH,SAAUA,EACVuH,YAAaA,EAEbrK,MAAOA,EACPqJ,SAAUA,EAEVb,WAAYA,EACZU,cAAeA,EAEf7J,YAAaA,EACbiL,eAAgBA,GAUdyH,EAAe,WZYlB,IAA0B7P,KYXPZ,EAAM0D,SZWzB,EAAApK,EAAAC,OAAA,kEAAAD,EAAA,MACGoX,GAAQC,YAAY,CAAEjN,SAAU9C,KADnC,yBAAAtH,EAAA,MAEGsX,GAAaD,YAAY,CAAEjN,SAAU9C,KAFxC,yBAAAtH,EAAA,MAGGwL,KAA0BA,KAA1B,WAAiElE,GAAM8F,OAAM,SAAAhN,GAC/EyK,QAAQC,MAAM,qBAAqB1K,OAJpC,gCAMIhB,GAAGiY,YAAY,CAAEvL,IAAKxE,KAN1B,6DYXmC9G,MAAK,SAAC+W,GACpC5Q,EAAS,aAqBjB,OACI,cAACgD,EAAA,EAAD,CAAMjH,MAAO,CAAEsB,KAAM,GAArB,UACc,IAAT8F,EACG,eAAC+J,EAAA,EAAD,CAAYnR,MAAO,CAAEsB,KAAM,GAA3B,UACI,cAAC,IAAD,CACI4K,KAAM,CACFC,KAAM,OACN2I,KAAM,eACN1I,KAAM,GACNtK,MAAO,SAEXiT,mBAAoB,CAAEzC,YAAa,IACnCrG,YAAa9E,GAAO8E,YACpBnH,eAAgBqC,GAAOrC,eACvBC,QAAS,WACLyP,GAAQ,IAEZlN,MAAK,SAAE0N,GAAehR,EAAMhG,YAAvB,EAAE,EAA4ByV,gBAEvC,cAAC,IAAD,CACIvH,KAAM,CACFC,KAAM,YACN2I,KAAM,eACN1I,KAAM,GACNtK,MAAO,SAEXiT,mBAAoB,CAAEzC,YAAa,IACnCrG,YAAa9E,GAAO8E,YACpBnH,eAAgBqC,GAAOrC,eACvBwC,MAAK,SAAE0N,GAAehR,EAAMhG,YAAvB,EAAE,EAA4B0V,eAEvC,cAAC,IAAD,CACIxH,KAAM,CACFC,KAAM,SACN2I,KAAM,eACN1I,KAAM,GACNtK,MAAO,SAEXiT,mBAAoB,CAAEzC,YAAa,IACnCrG,YAAa9E,GAAOkN,kBACpBvP,eAAgBqC,GAAOrC,eACvBwC,MAAK,SAAE0N,GAAehR,EAAMhG,YAAvB,EAAE,EAA4B2V,cACnC5O,QAAS,WA1DlBkQ,KAAMtJ,MACTtE,EAAcrD,EAAMhG,MAAMiB,WAC1BoI,EAAcrD,EAAMhG,MAAMkB,aAAa8E,EAAMvG,UAC7C,CACI,CACI6B,KAAM+H,EAAcrD,EAAMhG,MAAMe,IAChCgG,QAAS,WACL0P,MAGR,CACInV,KAAM+H,EAAcrD,EAAMhG,MAAMgB,SAmDhC,cAAC,IAAD,CACIkN,KAAM,CACFC,KAAM,aACN2I,KAAM,eACN1I,KAAM,GACNtK,MAAO,SAEXiT,mBAAoB,CAAEzC,YAAa,IACnCrG,YAAa9E,GAAOmN,gBACpBxP,eAAgBqC,GAAOrC,eACvBwC,MAAK,SAAE0N,GAAehR,EAAMhG,YAAvB,EAAE,EAA4BkW,KACnCnP,QAAS,WACLd,EAAS,YAGjB,cAAC,IAAD,CACIiI,KAAM,CACFC,KAAM,MACN2I,KAAM,eACN1I,KAAM,GACNtK,MAAO,SAEXiT,mBAAoB,CAAEzC,YAAa,IACnCrG,YAAa9E,GAAOoN,iBACpBzP,eAAgBqC,GAAOrC,eACvBwC,MAAK,SAAE0N,GAAehR,EAAMhG,YAAvB,EAAE,EAA4B4V,aACnC7O,QAtGN,oBAAAzH,EAAAC,OAAA,kEAAAD,EAAA,MZ4BX,EAAAA,EAAAC,OAAA,yEACIuL,KAA0BA,KAA1B,WAAiEhL,MAAK,SAAM2U,GAAN,SAAAnV,EAAAC,OAAA,kEAAAD,EAAA,MACnEoX,GAAQC,YAAY,GAAI,CAAEO,OAAO,KADkC,yBAAA5X,EAAA,MAEnE6X,GAAOR,YAAY,GAAI,CAAEO,OAAO,KAFmC,yBAAA5X,EAAA,MAGnEsX,GAAaD,YAAY,GAAI,CAAEO,OAAO,KAH6B,gCAIlExY,GAAGiY,YAAY,GAAI,CAAEO,OAAO,KAJsC,gEAD1E,6DY5BW,yBAAA5X,EAAA,MAEJR,IAAasY,SAFT,cAGVnR,EAAS,SAHC,mBAIH,GAJG,kEA0GF,eAACkN,EAAA,EAAD,CAAYnR,MAAO,CAAEsB,KAAM,EAAGc,gBAAiB,SAA/C,UACI,cAAC,IAAD,CACI8J,KAAM,CACFC,KAAM,oBACN2I,KAAM,eACN1I,KAAM,GACNtK,MAAO,SAEXiT,mBAAoB,CAAEzC,YAAa,IACnCrG,YAAa9E,GAAOiN,kBACpBtP,eAAgBqC,GAAOrC,eACvBwC,MAAK,SAAE0N,GAAehR,EAAMhG,YAAvB,EAAE,EAA4BmW,WACnCpP,QAAS,kBAAMyP,GAAQ,MAE1BhM,EACG,cAACxB,GAAD,SAAa8G,GAAb,IAAwBtG,MAjJ9B,WACVuF,EAAY/I,EAAMoG,OAAO5E,UACzBoG,EAAc5H,EAAMoG,OAAOlF,SAC3B6G,EAAS,IACTiB,EAAehJ,EAAMoG,OAAOrI,aAC5B8L,GAAW,IA4I2CzG,MAAM,KAE5C,cAACwD,GAAD,SACQkD,GADR,IAEI1G,MAAM,EACNmG,QAASvJ,EAAMoG,OACfoD,kBAAmBxJ,EAAM+I,YACzBrF,SAAU1D,EAAM0D,SAChB+F,IA7JX,WACTI,GAAW,Y,sBCVN7P,GAAO,CAChBC,GAAI,CACAoX,MAAO,cACPC,MAAO,QACPC,KAAM,OACNC,SAAU,YACVC,SAAU,aACVC,YAAa,uBACbC,mBAAoB,oDACpBpQ,MAAO,0BACPqQ,OAAQ,UACRjX,KAAM,cACNkX,YAAa,8CACbC,YAAa,kCACbC,gBACI,qGACJrS,OAAQ,YACRsS,WAAY,sCAEhB5W,GAAI,CACAiW,MAAO,kBACPC,MAAO,kBACPC,KAAM,iBACNC,SAAU,qBACVC,SAAU,WACVC,YAAa,iBACbC,mBAAoB,wCACpBpQ,MAAO,cACPqQ,OAAQ,SACRjX,KAAM,OACNkX,YAAa,qCACbC,YAAa,mBACbC,gBACI,oEACJrS,OAAQ,SACRsS,WAAY,sB,qkBC/CL,SAASjS,GAAKC,GACzB,MAAkC6G,oBAAS,GAA3C,WAAOoL,EAAP,KAAkBC,EAAlB,KACA,EAAgCrL,mBAAS,GAAzC,WAAOsL,EAAP,KAAiBC,EAAjB,KACA,EAA0BvL,mBAAS,IAAIwL,KAAMC,OAA7C,WAAOC,EAAP,KAAcC,EAAd,KAEA7G,qBAAU,WACNuG,GAAa,KACd,CAAClS,EAAMyS,gBAEV,IA2CItS,EACgB,QAAhBC,IAASC,GACH1H,EAAQ,KAAgC2H,QACxC,KACNC,EACAP,EAAMQ,MAAQ,IAAM,EACd,CAAEpC,gBAAiB,SACnB,CAAEA,gBAAiB,WACzBqC,EACgB,QAAhBL,IAASC,GACH,CACIK,UAAWP,EACXQ,IAAKX,EAAMoF,IACXvE,eAAe,EACfC,eAAgBP,GAEpB,CAAEI,IAAKX,EAAMoF,IAAKvE,eAAe,EAAMC,eAAgBP,GACjE,OACI,eAAC,IAAD,SACQE,GADR,IAEIM,QAASkR,EAzBE,oBAAA3Y,EAAAC,OAAA,kEAAAD,EAAA,MACTiZ,EAAMG,cADG,OAEfR,GAAa,GAFE,6DAtCD,0BAAA5Y,EAAAC,OAAA,2EAAAD,EAAA,MAEJ0G,EAAM2S,YAFF,yBAAArZ,EAAA,MAGJ+Y,KAAMO,kBAAkB,CAC1BC,yBAAyB,EACzBC,mBAAmB,KALb,cAOVZ,GAAa,GAPH,WAAA5Y,EAAA,YAQmBiZ,OARnB,EAQmBA,EAAOQ,kBAR1B,WASuB,KAAf,OADZC,EARI,aASN,EAAAA,EAAgBC,UATV,oCAAA3Z,EAAA,MAUAiZ,EAAMW,UAAU,CAAE/R,IAAKnB,EAAM6E,QAV7B,QAWN2N,EAASD,GACTvS,EAAMmT,iBAAN,eAA2BnT,EAAMyS,eAAjC,CAAgDF,KAZ1C,wBAcNvS,EAAMmT,iBAAN,KAA2BnT,EAAMyS,gBAd3B,2BAAAnZ,EAAA,MAgBJiZ,EAAMa,aAhBF,QAiBVb,EAAMc,2BAA0B,SAAOC,GAAP,SAAAha,EAAAC,OAAA,oDACxB+Z,EAAeC,cADS,kCAAAja,EAAA,MAElBiZ,EAAMiB,eAFY,OAGxBpB,EAAY,GACZF,GAAa,GAJW,sBAMxBoB,EAAeG,eACXH,EAAeI,uBACnB,GAEAtB,EACIkB,EAAeG,eACXH,EAAeI,wBAZC,+DAgBhCxB,GAAa,GAjCH,kDAmCV/N,QAAQC,MAAR,MAnCU,kEA6Dd,UAII,cAAC,IAAD,CACI6E,QAAM,EACNd,KAAM8J,EAAY,eAAiB,sBACnCnB,KAAM,UACNhT,MAAO,SAEX,eAAC,IAASwD,QAAV,WACI,cAAC,IAASC,MAAV,UAAiBvB,EAAMsD,QACvB,cAAC,IAAS7B,SAAV,UAAoBzB,EAAM6D,OAC1B,cAAC,IAAD,CACI7H,MAAO,CAAEiG,eAAgB,IACzB4G,MAAOsJ,EACPwB,QAAQ,cACRC,UAAW,CAAEC,SAAU,QAG/B,cAAC,IAAD,CACIC,SAAO,EACP1L,KAAM,GACNpM,MAAO,CAAEoC,gBAAiB,OAC1B+J,KAAM,gBACN2I,KAAM,UACNhT,MAAO,MACPiD,QAAS,SAACwC,GACNvD,EAAM+T,SAAS/T,EAAMoF,YCrG1BpI,WAAWC,OAAO,CAC7B8E,KAAM,CACFE,eAAgB,GAChB3E,KAAM,EACNC,WAAY,UAEhBuD,eAAgB,CACZtC,MAAO,OAEXwV,aAAc,CACV5V,gBAAiB,OAErB6V,YAAa,CACThY,WAAY,QAEhBiY,kBAAmB,CACf/U,cAAe,OAEnBgV,cAAe,CACXvW,iBAAkB,GAEtBwW,SAAU,CACNhW,gBAAiB,QACjBT,aAAc,GACdR,OAAQ,OACRqB,MAAO,QAEX6V,QAAS,CACL7W,aAAc,SACdJ,UAAW,IAEfkX,WAAY,CACRzW,UAAW,SACXC,MAAO,OACPV,UAAW,IAEfmX,QAAS,CACL/V,MAAO,OACPpB,UAAW,IAEfoX,QAAS,CACLtW,aAAc,GACdC,kBAAmB,GACnBsW,gBAAiB,GACjBlX,WAAY,UAEhBmX,aAAc,CACVzY,WAAY,OACZ4B,UAAW,SACXH,SAAU,GACVuE,eAAgB,IAEpB0S,mBAAoB,CAChB9W,UAAW,SACXoE,eAAgB,GAChBzD,MAAO,KAEXoW,aAAc,CACVlX,SAAU,GACVE,iBAAkB,MC9BX,SAASmS,GAAW/P,GAC/B,MAAkC6G,qBAAlC,WAAOgO,EAAP,KAAkBC,EAAlB,KACA,EAA8BjO,mBAAS,IAAvC,WAAOkO,EAAP,KAAgBC,EAAhB,KACA,EAA0BnO,qBAA1B,WAAOvD,EAAP,KAAc2R,EAAd,KACA,EAA0CpO,mBAAS,IAAnD,WAAO4L,EAAP,KAAsBU,EAAtB,KACA,EAA0BtM,oBAAS,GAAnC,WAAOqO,EAAP,KAAcC,EAAd,KACA,EAAgCtO,mBAAS,GAAzC,WAAOkN,EAAP,KAAiBqB,EAAjB,KACA,EAAkCvO,oBAAS,GAA3C,WAAOiE,EAAP,KAAkBC,EAAlB,KACA,EAA0BlE,oBAAS,GAAnC,WAAOwO,EAAP,KAAcC,EAAd,KA8CA,SAAeC,IAAf,SAAAjc,EAAAC,OAAA,uDACI+b,GAAS,GADb,WAAAhc,EAAA,MAEUub,EAAUW,sBAFpB,OAGIL,GAAS,GAHb,4DA5CAxJ,qBAAU,WAIN8J,GAAQzV,EAAM0D,UAAU5J,MAAK,SAACoK,GAC1B8Q,EAAW9Q,GACX6G,GAAa,MAIjB,IAUMgB,EAAcC,IAAYC,iBAC5B,qBAXe,WAQf,OAPI4I,GACAU,KAEa,MAAb9C,OAAA,EAAAA,EAAe7Y,QAAS,GACxB8b,IAEJ1V,EAAM2V,QAAQ,OACP,KAMX,OAAO,kBAAM5J,EAAYG,YAC1B,CAAC2I,EAAWpC,IAmCf,IAAMmD,EAAa,8BAAAtc,EAAAC,OAAA,mDACXsL,EAAOgQ,EAAUgB,SACD,QAAhBzV,IAASC,GAFE,uBAGLyV,EAAYhR,KAHP,WAG8C9E,EAAM0D,SAHpD,cAIL9K,EAAW2L,gBAJN,WAAAjL,EAAA,MAKLwL,KAAqB,CACvBC,KAAMF,EACNG,GAAI8Q,GAAYld,EAAN,WAPH,yBAAAU,EAAA,MASLwL,KAAuBD,IATlB,OAUXA,EAAOiR,GAAYld,EAAN,QAVF,QpB1FAmd,EoBsGJ,CACP5N,MAAW,MAAL7E,OAAA,EAAAA,EAAO+C,SAAU2P,GAAehW,EAAMhG,MAAMyX,SAClD5M,KAAMA,EACNnB,SAAU1D,EAAM0D,UpBxGjBhL,GAAGmB,YAAY,CAClBsO,KAAM4N,EAAO5N,KACbtE,KAAM,IAAIoS,KACVpR,KAAMkR,EAAOlR,KACbnB,SAAUqS,EAAOrS,YoBqGd5J,MAAK,SAACoc,GACDf,GAAS,GACTF,EAAS,IACTH,GAAa,MAClBpO,OAAM,SAAChN,GACNyK,QAAQwC,IAAIjN,MArBD,kCpB1FhB,IAAgBqc,IoB0FA,yBA0BbI,EAAe,YpBlGlB,SAAmBzS,EAAU9C,GAA7B,eAAAtH,EAAAC,OAAA,kEAAAD,EAAA,MACgBZ,GACdiL,KAAK,CAAED,SAAUA,EAAU0B,IAAKxE,IAChCkD,MAAK,SAACpK,EAAK+U,GACR,OAAOA,MAJZ,YACGvK,EADH,0CAAA5K,EAAA,MAOOwL,KAAuBZ,EAAK,GAAGW,OAPtC,gCASInM,GAAGiY,YAAY,CAAEvL,IAAKxE,EAAI8C,SAAUA,KATxC,6DoBmGC+R,CAAQzV,EAAM0D,SAAUqQ,GACnBja,MAAK,SAACoK,GACHkR,EAAY,GACZK,GAAQzV,EAAM0D,UACT5J,MAAK,SAACoK,GACH8Q,EAAW9Q,MAEdwC,OAAM,SAAChN,GACJyK,QAAQwC,IAAIjN,SAGvBgN,OAAM,SAAChN,GACJyK,QAAQwC,IAAIjN,OAIlB0c,EAAS,oBAAA9c,EAAAC,OAAA,kEAAAD,EAAA,YACLub,OADK,EACLA,EAAWW,sBADN,OAEXE,IACA1V,EAAM2V,QAAQ,GAHH,6DAOTD,EAAoB,WACtBjD,EAAcpF,KAAI,SAAC/I,EAAIzI,GACnByI,EAAGkP,kBAKLb,EAAW,oBAAArZ,EAAAC,OAAA,gDACTkZ,EAAc7Y,OAAS,IACV,MAAb6Y,KAAepF,KAAI,SAAO/I,EAAIzI,GAAX,SAAAvC,EAAAC,OAAA,kEAAAD,EAAA,MACTgL,EAAGoO,aAAahM,OAAM,SAAChN,GACzByK,QAAQwC,IAAI,4BAFD,gEAFV,6DAUjB,OACI,eAAC1D,EAAA,EAAD,CAAMjH,MAAOmH,GAAOpB,KAApB,UAEI,eAAC,IAAD,CACIsU,QAASnB,EACToB,aAAcnT,GAAOqR,QACrB+B,gBAAiB,kBAAMX,KACvBY,eAAgBC,KAJpB,UAMI,cAAC,IAAD,CAAMza,MAAOmH,GAAOuR,aAApB,SACKsB,GAAehW,EAAMhG,MAAM0X,cAEhC,cAAC,IAAD,CAAM1V,MAAOmH,GAAOuR,aAApB,SACKsB,GAAehW,EAAMhG,MAAM2X,qBAEhC,cAAC,IAAD,CACItJ,YAAa2N,GAAehW,EAAMhG,MAAM6X,YACxCvJ,SACI,cAAC,IAAD,CACIH,KAAK,eACLC,KAAM,GACNtK,MAAM,OACNgT,KAAK,YAGbvI,MAAOyN,GAAehW,EAAMhG,MAAMuH,MAClCmH,UAAW,GACXE,WAAYzF,GAAOyR,aACnB/L,MAAOvF,EACPwF,aAAc,SAACvF,GACX0R,EAAS1R,MAGjB,eAACN,EAAA,EAAD,CAAMjH,MAAO,CAAEmD,cAAe,OAA9B,UACI,cAAC,IAAD,CACImE,MAAO0S,GAAehW,EAAMhG,MAAM4X,OAClC3J,YAAa,CAAE7J,gBAAiB,OAChC0C,eAAgB,CAAEwN,YAAa,IAC/BvN,QAAS6U,IAEb,cAAC,IAAD,CACItS,MAAO0S,GAAehW,EAAMhG,MAAMW,KAClCsN,YAAa,CAAEhM,WAAY,QAC3B8E,QAAS6U,UAMrB,eAAC,IAAD,CACIS,QAAsB,IAAbtC,EACTuC,aAAcnT,GAAOqR,QACrBgC,eAAgBC,KAHpB,UAKI,cAAC,IAAD,CAAMza,MAAOmH,GAAOuR,aAApB,SACKsB,GAAehW,EAAMhG,MAAM8X,cAEhC,cAAC,IAAD,CAAM9V,MAAOmH,GAAOwR,mBAApB,SACKqB,GAAehW,EAAMhG,MAAM+X,kBAEhC,eAAC9O,EAAA,EAAD,CAAMjH,MAAO,CAAEmD,cAAe,OAA9B,UACI,cAAC,IAAD,CACImE,MAAO0S,GAAehW,EAAMhG,MAAM4X,OAClC3J,YAAa,CAAEhM,WAAY,QAC3B6E,eAAgB,CAAEwN,YAAa,IAC/BvN,QAAS,SAACwC,GACN6R,EAAY,MAGpB,cAAC,IAAD,CACI9R,MAAO0S,GAAehW,EAAMhG,MAAM0F,OAClCuI,YAAa,CAAE7J,gBAAiB,OAChC2C,QAAS,SAACwC,GACN4S,aAMftB,EAEG,eAAC5R,EAAA,EAAD,CAAMjH,MAAOmH,GAAO+Q,kBAApB,UACI,cAAC,IAAD,CACI5Q,MACI+R,EACMW,GAAehW,EAAMhG,MAAMwX,SAC3BwE,GAAehW,EAAMhG,MAAMsX,MAErCxQ,eAAgBqC,GAAOgR,cACvBjM,KAAM,CACFC,KAAMkN,EACA,sBACA,uBACNvE,KAAM,UACN1I,KAAM,GACNtK,MAAO,SAEXiD,QAASsU,EAzK7B,oBAAA/b,EAAAC,OAAA,uDACI+b,GAAS,GADb,WAAAhc,EAAA,MAEUub,EAAU6B,cAFpB,6DALA,oBAAApd,EAAAC,OAAA,uDACI+b,GAAS,GADb,WAAAhc,EAAA,MAEUub,EAAUnC,cAFpB,+DAiLgB,cAAC,IAAD,CACIpP,MAAO0S,GAAehW,EAAMhG,MAAMuX,KAClCzQ,eAAgBqC,GAAOgR,cACvBjM,KAAM,CACFC,KAAM,sBACN2I,KAAM,UACN1I,KAAM,GACNtK,MAAO,SAEXiD,QAASwU,IAEb,cAAC,IAAD,CACIzU,eAAgBqC,GAAOgR,cACvBjM,KAAM,CACFC,KAAM,qBACN2I,KAAM,UACN1I,KAAM,GACNtK,MAAO,SAEXmK,YAAa9E,GAAO6Q,aACpB1Q,MAAO,GACP0E,WAAY7E,GAAO8Q,YACnBlT,QAAS,kBAAMqV,UAKvB,eAACnT,EAAA,EAAD,CAAMjH,MAAOmH,GAAO+Q,kBAApB,UACA,cAAC,IAAD,CACIpT,eAAgBqC,GAAOrC,eACvBoH,KAAM,CACFC,KAAM,aACN2I,KAAM,UACN1I,KAAM,GACNtK,MAAO,SAEXmK,YAAa9E,GAAO6Q,aACpB1Q,MAAO0S,GAAehW,EAAMhG,MAAMqX,MAClCrJ,WAAY7E,GAAO8Q,YACnBlT,QA/OhB,4BAAAzH,EAAAC,OAAA,2EAAAD,EAAA,MAEc+Y,KAAMsE,2BAFpB,yBAAArd,EAAA,MAGc+Y,KAAMO,kBAAkB,CAC1BgE,oBAAoB,EACpBC,sBAAsB,EACtBhE,yBAAyB,KANrC,yBAAAvZ,EAAA,MAQoC+Y,KAAMyE,UAAUC,YACxC1E,KAAM2E,wCATlB,gBAQgBnC,EARhB,EAQgBA,UAGRC,EAAaD,GAXrB,kDAaQ1Q,QAAQC,MAAM,4BAAd,MAbR,oEAiPY,cAAC,IAAD,CACItD,eAAgBqC,GAAOgR,cACvBjM,KAAM,CACFC,KAAM,qBACN2I,KAAM,UACN1I,KAAM,GACNtK,MAAO,SAEXmK,YAAa9E,GAAO6Q,aACpB1Q,MAAO,GACP0E,WAAY7E,GAAO8Q,YACnBlT,QAAS,kBAAMqV,UAIvB,cAAC,IAAD,CAASpa,MAAOmH,GAAOoR,QAAS/V,MAAO,IACvC,cAACmO,EAAA,EAAD,CAAc3Q,MAAOmH,GAAOiR,SAA5B,SACI,cAACjH,EAAA,EAAD,CAAYnR,MAAO,CAAC2B,aAAc,IAAlC,SACKmN,EACG,cAAC0B,EAAA,EAAD,CACI1O,MAAO,OACPsK,KAAM,QACNpM,MAAOmH,GAAOkR,UAElBU,EAAQnb,OAAS,EACjBmb,EAAQ1H,KAAI,SAAC/I,EAAIzI,GACb,OACI,cAAC,GAAD,CACI8W,SAAUA,EACVF,cAAeA,EACfU,iBAAkBA,EAClBY,SAAUqB,EACV5U,MAAO3E,EAEPyH,MAAOgB,EAAG6D,KACV/C,IAAKd,EAAGc,IACRvB,KAASS,EAAGT,KAAKoT,mBACb,SADA,IAEC3S,EAAGT,KAAKqT,mBAAmB,SAChCrS,KAAMP,EAAGO,MANJP,EAAGc,QAWpB,cAAC,IAAD,CAAMpJ,MAAOmH,GAAOmR,WAApB,SACK0B,GAAehW,EAAMhG,MAAMgY,oBChWxD,IAAM3W,GAAiB,SAACC,EAAM6b,GAC1B,IAAIrZ,EAAQ,UACA,QAARqZ,EACArZ,EAAQ,UACO,UAARqZ,IACPrZ,EAAQ,WAEZ,IAAIvC,EAAqB,EACnBC,EAASF,EAAKG,SAASC,MAAM,WAUnC,OATAJ,EAAKK,SAASC,SAAQ,SAACD,EAAUE,GAAX,OAClBL,EAAOM,SACDP,EAAqBM,EACvB,EACA,cAACE,EAAA,EAAD,CAAcC,MAAO,CAAEC,WAAY,OAAQ6B,MAAOA,GAAlD,SACKnC,GADME,OAKZ,cAACE,EAAA,EAAD,UAAOP,KAGLxB,GAAO,CAChBC,GAAI,CACAmd,KAAM,QACNC,KAAM,OACNC,MAAO,SACPrc,WAAY,2BACZsc,SACI,gHACJC,UAAW,SAACC,GACR,OAAOpc,GAAe,CAClBI,SAAU,sBACVE,SAAU,CAAC8b,MAGnBC,WAAY,SAACC,GACT,OAAOtc,GAAe,CAClBI,SAAU,8BACVE,SAAU,CAACgc,MAGnBC,SAAU,WACN,OAAOvc,GAAe,CAClBI,SAAU,MACVE,SAAU,CAAC,qBAGnBkc,SAAU,WACN,OAAOxc,GAAe,CAClBI,SAAU,MACVE,SAAU,CAAC,gCAGnBmc,OAAQ,WACJ,OAAOzc,GACH,CACII,SAAU,MACVE,SAAU,CAAC,kBAEf,QAGRoc,QAAS,WACL,OAAO1c,GACH,CACII,SAAU,MACVE,SAAU,CAAC,oBAEf,UAGRqc,MAAO,SAACC,GACJ,OAAO5c,GACH,CACII,SAAU,2BACVE,SAAU,CAACsc,IAEf,QAGRC,eAAgB,SAACjU,GACb,OAAO5I,GAAe,CAClBI,SAAU,oDACVE,SAAU,CAACsI,MAGnBkU,SAAU,SAACC,EAAOC,GACd,OAAOhd,GAAe,CAClBI,SAAS,6BAAwB4c,EAAzB,SACR1c,SAAU,CAACyc,MAGnBE,gBAAiB,sBACjBC,MAAO,aACPC,eACI,yFACJC,MAAO,cACPC,KAAM,mBACNC,OAAQ,aACRtH,MAAO,uBACPO,OAAQ,UACRgH,WAAY,6BAEhBxd,GAAI,CACAgc,KAAM,OACNC,KAAM,OACNC,MAAO,UACPrc,WAAY,gBACZsc,SACI,qGACJC,UAAW,SAACC,GACR,OAAOpc,GAAe,CAClBI,SAAU,kBACVE,SAAU,CAAC8b,MAGnBC,WAAY,SAACC,GACT,OAAOtc,GAAe,CAClBI,SAAU,wBACVE,SAAU,CAACgc,MAGnBC,SAAU,WACN,OAAOvc,GAAe,CAClBI,SAAU,MACVE,SAAU,CAAC,iBAGnBkc,SAAU,WACN,OAAOxc,GAAe,CAClBI,SAAU,MACVE,SAAU,CAAC,wBAGnBmc,OAAQ,WACJ,OAAOzc,GACH,CACII,SAAU,MACVE,SAAU,CAAC,gBAEf,QAGRqc,MAAO,SAACC,GACJ,OAAO5c,GACH,CACII,SAAU,uBACVE,SAAU,CAACsc,IAEf,QAGRF,QAAS,WACL,OAAO1c,GACH,CACII,SAAU,MACVE,SAAU,CAAC,gBAEf,UAGRuc,eAAgB,SAACjU,GACb,OAAO5I,GAAe,CAClBI,SAAU,qCACVE,SAAU,CAACsI,MAGnBkU,SAAU,SAACC,EAAOC,GACd,OAAOhd,GAAe,CAClBI,SAAS,aAAc4c,EAAf,SACR1c,SAAU,CAACyc,MAGnBE,gBAAiB,oBACjBC,MAAO,YACPC,eACI,6DACJC,MAAO,QACPC,KAAM,OACNC,OAAQ,UACRtH,MAAO,eACPO,OAAQ,SACRgH,WAAY,wB,qBCtLL5b,OAAWC,OAAO,CAC7B8E,KAAM,CACFE,eAAgB,GAChB3E,KAAM,EACNC,WAAY,UAEhBsb,KAAM,CACFra,MAAO,GACPrB,OAAQ,GACR8E,eAAgB,GAChB2M,QAAS,GACTjR,aAAc,IAElBiB,OAAQ,CACJJ,MAAO,IACPb,aAAc,GACdO,aAAc,GACdN,iBAAkB,GAEtBkb,YAAa,CACTta,MAAO,IACPpB,UAAW,GACXgB,gBAAiB,MACjBF,aAAc,GACdN,iBAAkB,GAEtBmb,eAAgB,CACZzb,KAAM,EACNkB,MAAO,IACPrB,OAAQ,IACRe,aAAc,GACd0Q,QAAS,IAEboK,YAAa,CACT1b,KAAM,EACNkB,MAAO,GACPrB,OAAQ,IACRe,aAAc,GACd0Q,QAAS,IAEbqK,gBAAiB,CACbpa,WAAY,GACZyP,YAAa,IAEjB4K,WAAY,CACRC,oBAAqB,GACrB/a,gBAAiB,WAErBgb,SAAU,CACN9K,YAAa,GACb+K,qBAAsB,GACtBjb,gBAAiB,WAErBkb,YAAa,CACTza,WAAY,GACZyP,YAAa,GACbiL,uBAAwB,GACxBnb,gBAAiB,WAErBob,UAAW,CACPlL,YAAa,GACbmL,sBAAuB,GACvBrb,gBAAiB,WAErBsb,cAAe,CACX9K,QAAS,EACT3Q,YAAa,UACbsQ,YAAa,GAEjB+H,aAAc,CACVrX,QAAS,GACTf,aAAc,GACdf,OAAQ,IACRK,aAAc,SACdD,WAAY,UAEhBoc,cAAe,CACXjc,SAAU,GACVzB,WAAY,QAEhB2d,YAAa,CACTpb,MAAO,IACPd,SAAU,GACVC,aAAc,GACdE,UAAW,YC5EJ,SAASgc,GAAK7Z,GACzB,OACI,qCACI,cAAC6C,EAAA,EAAD,CAAO5B,OAAQ6Y,KAAW9d,MAAOmH,GAAO0V,OACxC,cAAC,IAAD,CACIvV,MAAOyW,GAAU/Z,EAAMhG,MAAMod,KAC7BtW,eAAgBqC,GAAOvE,OACvBqK,QAAM,EACNlI,QAAS,SAACwC,GAAD,OAAOvD,EAAMga,OAAO,IAC7B9R,KACI,cAAC,IAAD,CACIC,KAAM,eACN2I,KAAM,UACNhT,MAAO,QACPsK,KAAM,GACNpM,MAAO,CAAE4B,iBAAkB,OAIvC,cAAC,IAAD,CACI0F,MAAOyW,GAAU/Z,EAAMhG,MAAMqd,KAC7BvW,eAAgBqC,GAAOvE,OACvBqK,QAAM,EACNlI,QAAS,SAACwC,GAAD,OAAOvD,EAAMga,OAAO,IAC7B9R,KACI,cAAC,IAAD,CACIC,KAAM,sBACN2I,KAAM,UACNhT,MAAO,QACPsK,KAAM,GACNpM,MAAO,CAAE4B,iBAAkB,OAIvC,cAAC,IAAD,CACI0F,MAAOyW,GAAU/Z,EAAMhG,MAAMsd,MAC7BrP,YAAa,CAAE7J,gBAAiB,OAChC0C,eAAgBqC,GAAO2V,YACvB7P,QAAM,EACNlI,QAAS,kBAAMf,EAAM2V,QAAQ,OAC7BzN,KACI,cAAC,IAAD,CACIC,KAAM,qBACN2I,KAAM,UACNhT,MAAO,QACPsK,KAAM,GACNpM,MAAO,CAAE4B,iBAAkB,U,mCCxCpC,SAASqc,GAAKja,GACzB,MAA0B6G,oBAAS,GAAnC,WAAOqT,EAAP,KAAcC,EAAd,KACA,EAA4BtT,oBAAS,GAArC,WAAOpC,EAAP,KAAe2V,EAAf,KACA,EAA8BvT,oBAAS,GAAvC,WAAOwT,EAAP,KAAgBC,EAAhB,KACA,EAA8BzT,oBAAS,GAAvC,WAAOwN,EAAP,KAAgBkG,EAAhB,KACA,EAA0B1T,mBAAS,GAAnC,WAAOoR,EAAP,KAAcuC,EAAd,KACA,EAA0B3T,mBAAS,CAACZ,KAAKwU,MAAsB,EAAhBxU,KAAKE,YAApD,WAAOiS,EAAP,KAAcsC,EAAd,KACA,EAA8B7T,oBAAS,GAAvC,WAAOrC,EAAP,KAAgBqF,EAAhB,KACA,EAA0ChD,oBAAU,GAApD,WAAO8T,EAAP,KAAsBC,EAAtB,KACA,EAAkC/T,mBAAS,GAA3C,WAAO4Q,EAAP,KAAkBoD,EAAlB,KACA,EAAoChU,mBAAS,GAA7C,WAAO8Q,EAAP,KAAmBmD,EAAnB,KACA,EAA8BjU,oBAAS,GAAvC,WAAOkU,EAAP,KAAgBC,GAAhB,KACA,GAAgCnU,oBAAS,GAAzC,aAAOoU,GAAP,MAAiBC,GAAjB,MACA,GAAwBrU,mBAAS,IAAIsU,MAAM,IAA3C,aAAO9C,GAAP,MAAa+C,GAAb,MAEA,GAAsCvU,oBAAS,GAA/C,aAAOwU,GAAP,MAAoBC,GAApB,MAEM9Y,GAAe7J,EAAQ,KACvB4iB,IAAc,IAAItF,MAAOgB,mBAAmB,SAE5CuE,GAAkC,OAAfpb,IAASC,GAAc8C,GAAO4V,eAAiB5V,GAAO6V,YAE/ErN,qBAAU,0BAAArS,EAAAC,OAAA,oDAEQ,IAAV2gB,EAFE,gBAGFK,GAAW,IvB/BM7W,EuBgCA1D,EAAM0D,SvB/BxBhL,GACFiL,KAAK,CAAED,SAAUA,IACjBE,KAAK,CAAEK,OAAQ,IACfH,MAAK,SAACpK,EAAKwK,GAIR,OAHIxK,GACAyK,QAAQC,MAAM1K,GAEXwK,MuBwB0BpK,MAAK,SAACoK,GAC/BA,EAAKtK,OAAS,GACdihB,EAAa3W,EAAK,GAAGD,UAG7BwR,GAAgBzV,EAAM0D,SAAU6X,IAAazhB,MAAK,SAACoK,GAC3CA,EAAKtK,OAAS,GACdkhB,EAAc5W,EAAK,GAAGD,UAG9BsW,GAAW,GAdT,uBAgBFS,IAAW,GACXV,GAAW,GAIFze,EAAI,EArBX,aAqBcA,EAAIuc,EAAMxe,QArBxB,oBAsBO4K,EAtBP,oCAAAlL,EAAA,MAuBYmiB,GAAerD,EAAMvc,KAvBjC,QAqBgCA,IArBhC,wBA0BFye,GAAW,GA1BT,kCvB5BP,IAAsB5W,IuB4Bf,0BA4BP,CAACwW,EAAO9B,IAEX,IAAMtS,GAAe,WACjB,OAAOG,KAAKwU,MAAsB,EAAhBxU,KAAKE,WAGrBuV,GAAmB,SAACnP,GACtB,OAAQA,GACJ,KAAK,EACD,OAAO5T,EAAQ,KACnB,KAAK,EACD,OAAOA,EAAQ,KACnB,KAAK,EACD,OAAOA,EAAQ,KACnB,KAAK,EACD,OAAOA,EAAQ,OAMrB8iB,GAAiB,SAAOlP,GAAP,SAAAjT,EAAAC,OAAA,yEAEZ,IAAIoiB,SAAQ,SAAOC,EAASC,GAAhB,iBAAAviB,EAAAC,OAAA,kEAAAD,EAAA,MACS+Y,KAAMC,MAAMyE,YAChC2E,GAAiBnP,KAFN,uBACPgG,EADO,EACPA,MAGRvS,EAAMwS,SAASD,GACfqI,EAAiBrO,GALF,WAAAjT,EAAA,MAMTiZ,EAAMa,YAAYtZ,MAAK,SAAOgiB,GAAP,SAAAxiB,EAAAC,OAAA,gDACzB2T,YAAW,oBAAA5T,EAAAC,OAAA,uDACPqhB,GAAkB,GADX,WAAAthB,EAAA,MAEDiZ,EAAMiB,eAFL,OAGPoI,GAAQ,GAHD,8DAIRE,EAAepI,uBAAyB,KALlB,gEANd,gEAFA,6DA4BjBqI,GAAa,SAAOxP,GAAP,qBAAAjT,EAAAC,OAAA,mDACV8gB,EADU,sDAIXhC,GAAKze,QAAUwe,EAAMxe,QAJV,sDAOX2S,GAAO,GAAKA,GAAO,GAPR,qBAQPyP,EAAa3D,IACN4D,KAAK1P,GAChB6O,GAAQY,IAEJzJ,EAZO,oCAAAjZ,EAAA,MAaDiZ,EAAMiB,eAbL,eAeXoH,EAAiBrO,GAfN,YAAAjT,EAAA,MAgBa+Y,KAAMC,MAAMyE,YAChC2E,GAAiBnP,KAjBV,wBAgBHgG,EAhBG,EAgBHA,MAGRvS,EAAMwS,SAASD,GAnBJ,YAAAjZ,EAAA,MAqBMiZ,EAAMa,YAAYtZ,MAAK,SAACoK,GACrC,OAAOA,EAAKwP,2BAtBL,WAqBPwI,EArBO,OA2BXhP,YAAW,oBAAA5T,EAAAC,OAAA,kEAAAD,EAAA,MACDiZ,EAAMiB,eADL,OAEPoH,GAAkB,GAFX,8DAGRsB,EAAO,KACN7D,GAAKA,GAAKze,OAAS,KAAOwe,EAAMC,GAAKze,OAAS,GA/BvC,oCAAAN,EAAA,MAgCD6iB,GAAUD,IAhCT,mCAiCA7D,GAAKze,SAAWwe,EAAMxe,OAjCtB,oCAAAN,EAAA,MAkCD8iB,GAAaF,EAAM3J,IAlClB,8DAuCb4J,GAAY,SAAOD,GAAP,SAAA5iB,EAAAC,OAAA,gDACd6gB,GAAU,GACVgB,GAAQ,IACRd,GAAW,GACXE,EAASvC,EAAQ,GACbA,EAAQ,EACR/K,YAAW,0BAAA5T,EAAAC,OAAA,gDACEsC,EAAI,EADN,YACSA,EAAIuc,EAAMxe,QADnB,kCAAAN,EAAA,MAEGmiB,GAAerD,EAAMvc,KAFxB,OAC2BA,IAD3B,sBAIPye,GAAW,GACXF,GAAU,GALH,8DAMR8B,EAAO,KAEVG,KAdU,6DAkBZA,GAAe,oBAAA/iB,EAAAC,OAAA,uDACjByG,EAAMmV,UAAS,GADE,WAAA7b,EAAA,OvB9HGoK,EuBgIE1D,EAAM0D,SvBhIEO,EuBgIQmU,EAAMxe,OAAS,EvBhIhBiK,EuBgImB0X,GvB/HrD7iB,GAAGmB,YAAY,CAClB6J,SAAUA,EACVG,KAAMA,EACNI,MAAOA,MuB0HU,OAGjBqW,GAAW,GACXzQ,GAAW,GACP8N,EAAaS,EAAMxe,OAAS,EAC5B0hB,IAAe,GAEfA,IAAe,GARF,iCvB9HlB,IAAqB5X,EAAUO,EAAOJ,IuB8HpB,yBAYfuY,GAAe,SAAOF,EAAM3J,GAAb,SAAAjZ,EAAAC,OAAA,gDACjByhB,IAAW,GACXV,GAAW,GACXpN,YAAW,oBAAA5T,EAAAC,OAAA,kEAAAD,EAAA,MACDiZ,EAAMiB,eADL,OAEPkH,EAAS,GAAD,YAAKtC,GAAL,CAAYtS,QAFb,8DAGRoW,EAAO,KACVd,GAAQ,IAPS,6DA0DrB,OACI,qCACKH,GACG,cAAC,KAAD,CACIqB,SAAS,EACTC,WAAW,EACXC,UAAW,IACXC,MAAO,GACPC,OAAQ,CAAEC,GAAI,GAAIC,GAAI,MAG1B,6BAIHpY,EACG,eAAC,IAAD,CACI6R,QAAS7R,EACT8R,aAAcnT,GAAOmT,aACrBC,gBAAiB,kBAAM1M,GAAW,IAClC2M,eAAgBC,KAJpB,UAMK4E,IArERJ,IACDC,IAAY,GAGZ,qCACI,cAAC,IAAD,CAAMlf,MAAOmH,GAAOwW,cAApB,SACKI,GAAU/Z,EAAMhG,MAAMse,kBAE3B,cAAC,IAAD,CAAMtc,MAAOmH,GAAOyW,YAApB,SACKG,GAAU/Z,EAAMhG,MAAMke,eAAeE,EAAMxe,OAAS,KAEzD,cAAC,EAAD,CACI4I,aAAcA,GACdM,YAAa+Z,KACbC,UAAU,EACVra,MAAM,EACNF,YAAa,CAAEpF,OAAQ,IACvB4F,WAAY,CAAE5F,OAAQ,UAO9BkX,EACO,cAAC7H,EAAA,EAAD,IAGP,qCACI,cAAC,IAAD,CAAMxQ,MAAOmH,GAAOwW,cAApB,SACKI,GAAU/Z,EAAMhG,MAAMue,QAE3B,cAAC,IAAD,CAAMvc,MAAOmH,GAAOyW,YAApB,SACKG,GAAU/Z,EAAMhG,MAAMwe,oBAqCvB,eAACvV,EAAA,EAAD,CAAMjH,MAAO,CAAEmD,cAAe,MAAO/B,UAAW,IAAhD,UACI,cAAC,IAAD,CACI6L,QAAM,EACNlI,QAAS,WAjC7Bma,IAAY,GACZrR,GAAW,GACXuQ,GAAU,GACVI,EAAS,GACTE,EAAS,CAAC5U,QAgCUxC,MAAOyW,GAAU/Z,EAAMhG,MAAMye,MAC7B3X,eAAgB,CACZ5C,aAAc,GACdoQ,YAAa,MAGrB,cAAC,IAAD,CACIrF,QAAM,EACNlI,QAAS,WACLf,EAAMga,OAAO,IAEjB1W,MAAOyW,GAAU/Z,EAAMhG,MAAM0e,KAC7B5X,eAAgB,CAAE5C,aAAc,IAChC+J,YAAa,CAAE7J,gBAAiB,eAK5C,6BAIJ,eAAC,IAAD,CACIiY,QAASrW,EAAMkV,MACfoB,aAAcnT,GAAOmT,aACrBC,gBAAiB,kBAAMvW,EAAMmV,UAAS,IACtCqB,eAAgBC,KAJpB,UAMI,cAAC,IAAD,CAAMza,MAAOmH,GAAOwW,cAApB,SACKI,GAAU/Z,EAAMhG,MAAMiB,aAE3B,cAAC,IAAD,CAAMe,MAAOmH,GAAOyW,YAApB,SACKG,GAAU/Z,EAAMhG,MAAMud,WAE3B,eAACtU,EAAA,EAAD,CAAMjH,MAAO,CAAEmD,cAAe,MAAO/B,UAAW,IAAhD,UACI,cAAC,IAAD,CACI6L,QAAM,EACNlI,QAAS,WACLf,EAAMmV,UAAS,IAEnB7R,MAAOyW,GAAU/Z,EAAMhG,MAAM4X,OAC7B9Q,eAAgB,CAAE5C,aAAc,GAAIoQ,YAAa,MAErD,cAAC,IAAD,CACIrF,QAAM,EACNlI,QAAS,WACLsb,MAEJ/Y,MAAOyW,GAAU/Z,EAAMhG,MAAM4e,WAC7B9X,eAAgB,CAAE5C,aAAc,IAChC+J,YAAa,CAAE7J,gBAAiB,eAM5C,eAAC6E,EAAA,EAAD,CAAMjH,MAAO,CAAEmD,cAAe,MAAOxB,aAAc,IAAnD,UACI,cAACsF,EAAA,EAAD,CACIjH,MAAO,CACHwf,GACArY,GAAO8V,gBACP9V,GAAO+V,WACW,IAAlByB,EAAsBxX,GAAOuW,cAAgB,IAEjDqD,0BAA2B,kBAAM,GACjCC,iBAAkB,kBAAMjB,GAAW,MAEvC,cAAC9Y,EAAA,EAAD,CACIjH,MAAO,CACHwf,GACArY,GAAOiW,SACW,IAAlBuB,EAAsBxX,GAAOuW,cAAgB,IAEjDqD,0BAA2B,kBAAM,GACjCC,iBAAkB,kBAAMjB,GAAW,SAK3C,eAAC9Y,EAAA,EAAD,CAAMjH,MAAO,CAAEmD,cAAe,OAA9B,UACI,cAAC8D,EAAA,EAAD,CACIjH,MAAO,CACHwf,GACArY,GAAO8V,gBACP9V,GAAOmW,YACW,IAAlBqB,EAAsBxX,GAAOuW,cAAgB,IAEjDqD,0BAA2B,kBAAM,GACjCC,iBAAkB,kBAAMjB,GAAW,MAEvC,cAAC9Y,EAAA,EAAD,CACIjH,MAAO,CACHwf,GACArY,GAAOqW,UACW,IAAlBmB,EAAsBxX,GAAOuW,cAAgB,IAEjDqD,0BAA2B,kBAAM,GACjCC,iBAAkB,kBAAMjB,GAAW,SAI3C,eAAC9Y,EAAA,EAAD,CAAMjH,MAAO,CAAEoB,UAAW,IAA1B,UACI,cAAC,IAAD,CAAMpB,MAAO,CAAE6B,UAAW,UAA1B,SACKkc,GAAU/Z,EAAMhG,MAAMwd,UAAUC,KAErC,cAAC,IAAD,CAAMzb,MAAO,CAAE6B,UAAW,UAA1B,SACKkc,GAAU/Z,EAAMhG,MAAM0d,WAAWC,KAEtC,cAAC,IAAD,CAAM3b,MAAO,CAAE6B,UAAW,SAAUF,aAAc,IAAlD,SACKoc,GAAU/Z,EAAMhG,MAAMge,MAAMC,KAEhCiC,EACG,eAACjX,EAAA,EAAD,CACIjH,MAAO,CAAEwB,aAAc,SAAUD,WAAY,UADjD,UAGI,cAAC,IAAD,CAAMvB,MAAO,CAAE6B,UAAW,SAAUH,SAAU,IAA9C,SACK2c,GAAW5V,EAzR5BA,EACOsV,GAAU/Z,EAAMhG,MAAM8d,SACtBiD,EACAhB,GAAU/Z,EAAMhG,MAAM+d,UAEtBgC,GAAU/Z,EAAMhG,MAAM4d,WAsRPmC,GAAU/Z,EAAMhG,MAAM6d,aAEhC,cAAC,IAAD,CAAM7b,MAAO,CAAE6B,UAAW,UAA1B,SACKkc,GAAU/Z,EAAMhG,MAAMme,SACnBC,EAAMxe,OACNye,GAAKze,UAGb,cAAC,IAAD,CACIqjB,UAAW5C,EACXtZ,QAAS,kBAAMf,EAAMmV,UAAS,IAC9BlN,YAAa,CAAE7J,gBAAiB,OAChC0C,eAAgB,CACZ1D,UAAW,GACXoB,MAAO,IACPN,aAAc,IAElB+K,QAAM,EACN3F,MAAOyW,GAAU/Z,EAAMhG,MAAM2e,YAIrC,mCACI,eAAC1V,EAAA,EAAD,CACI9D,cAAe,MACfnD,MAAO,CACHwB,aAAc,SACdD,WAAY,UAJpB,UAOI,cAAC,IAAD,CACI0K,YAAa,CACTqG,YAAa,GACbpQ,aAAc,IAElBoF,MAAOyW,GAAU/Z,EAAMhG,MAAMqX,MAC7BtQ,QAAS,kBAAMoZ,GAAS,MAE5B,cAAC,IAAD,CACIlS,YAAa,CACT/J,aAAc,GACdE,gBAAiB,OAErBkF,MAAOyW,GAAU/Z,EAAMhG,MAAMsd,MAC7BvW,QAAS,kBAAMf,EAAMga,OAAO,iBCra7C,SAASnK,GAAM7P,GAC1B,MAAsB6G,mBAAS,GAA/B,WAAOqW,EAAP,KAAYlD,EAAZ,KACA,EAA0BnT,mBAAS,IAAIwL,KAAMC,OAA7C,WAAOC,EAAP,KAAcC,EAAd,KACA,EAA0B3L,oBAAS,GAAnC,WAAOqO,EAAP,KAAcC,EAAd,KAEAxJ,qBAAU,WAGN,IAeMI,EAAcC,IAAYC,iBAC5B,qBAhBe,WAaf,OAZIsG,GACAA,EAAMiB,cAEN0J,EAAM,EACM,IAARA,EACAlD,EAAO,GAEP7E,GAAS,GAGbnV,EAAM2V,QAAQ,OAEX,KAMX,OAAO,WACH5J,EAAYG,YAEjB,CAACgR,IA8BJ,OACI,mCACI,cAACja,EAAA,EAAD,CAAMjH,MAAOmH,GAAOpB,KAApB,SA7BQ,IAARmb,EAEI,cAACrD,GAAD,CACIG,OAAQA,EACRhgB,KAAMgG,EAAMhG,KACZ2b,QAAS3V,EAAM2V,UAGR,IAARuH,EAEH,cAACjD,GAAD,CACID,OAAQA,EACRhgB,KAAMgG,EAAMhG,KACZ0J,SAAU1D,EAAM0D,SAChB6O,MAAOA,EACPC,SAAUA,EACV0C,MAAOA,EACPC,SAAUA,IAGH,IAAR+H,EACA,cAAC,IAAD,2BAEA,cAAC,IAAD,8BClEnB,IAAM7hB,GAAiB,SAACC,EAAM6b,EAAKgG,GAC/B,IAAIrf,EAAQ,UACA,QAARqZ,EACArZ,EAAQ,UACO,UAARqZ,IACPrZ,EAAQ,WAEZ,IAAIvC,EAAqB,EACnBC,EAASF,EAAKG,SAASC,MAAM,WAUnC,OATAJ,EAAKK,SAASC,SAAQ,SAACD,EAAUE,GAAX,OAClBL,EAAOM,SACDP,EAAqBM,EACvB,EACA,cAACE,EAAA,EAAD,CAAcC,MAAO,CAAEC,WAAY,OAAQ6B,MAAOjC,GAAKshB,EAAMrf,EAAQ,WAArE,SACKnC,GADME,OAKZ,cAACE,EAAA,EAAD,UAAOP,KAGLxB,GAAO,CAChBC,GAAI,CACAmd,KAAM,QACNnU,KAAM,gBACNma,OAAQ,mBACR/F,KAAM,uBACNC,MAAO,SACPtF,WAAY,qCACZqL,cAAe,0CACfC,gBAAiB,iBACjBC,YAAa,uBACbC,SAAU,0BACVC,WAAY,yCACZC,cAAe,0NACfC,kBAAmB,2BACnBC,UAAW,yBACXC,aAAc,2PACdC,GAAI,UACJC,gBAAiB,qBACjBC,WAAY,qFACZljB,aAAc,0CACdmjB,gBAAiB,mDACjBC,eAAgB,wDAChBC,gBAAiB,4BACjBC,WAAY,oBACZC,eAAgB,0FAChBC,mBAAoB,iGACpBC,wBAAyB,mBACzBC,kBAAmB,6IACnBC,UAAW,cACXC,YAAa,gCACbC,WAAY,mCACZC,oBAAqB,oEACrBC,cAAe,SAACC,GACZ,OAAOzjB,GAAe,CAClBI,SAAU,sDACVE,SAAU,CAACmjB,MAGnBC,UAAW,cACXC,aAAc,+BACdhc,QAAS,4FACTic,YAAa,0BACbnH,OAAQ,SAACoH,GAEL,MAAM,+FADYA,EAAQC,KAAK,MAC/B,KAEJC,iBAAkB,iBAClBC,YAAa,SAACC,EAAM9a,GAChB,OAAOnJ,GAAe,CAClBI,SAAU,0GACVE,SAAU,CAAC6I,EAAS8a,IACrB,MAAO,IAEdC,cAAe,uBACfC,SAAU,SAACF,EAAM9a,GACb,OAAOnJ,GAAe,CAClBI,SAAU,wGACVE,SAAU,CAAC6I,EAAS8a,IACrB,MAAO,IAEd3kB,KAAM,sBACN8kB,YAAa,0BACbC,WAAY,uBAEhBtkB,GAAI,CACAgc,KAAM,OACNnU,KAAM,YACNma,OAAQ,gBACR/F,KAAM,oBACNC,MAAO,QACPtF,WAAY,gCACZqL,cAAe,oCACfC,gBAAiB,aACjBC,YAAa,iBACbC,SAAU,6BACVC,WAAY,0BACZC,cAAe,gJACfC,kBAAmB,wBACnBC,UAAW,gBACXC,aAAc,wJACdC,GAAI,UACJC,gBAAiB,UACjBC,WAAY,8DACZljB,aAAc,iCACdmjB,gBAAiB,6CACjBC,eAAgB,4CAChBC,gBAAiB,qBACjBC,WAAY,gBACZC,eAAgB,kEAChBC,mBAAoB,sEACpBC,wBAAyB,gBACzBC,kBAAmB,iHACnBC,UAAW,aACXC,YAAa,4BACbC,WAAY,2BACZC,oBAAqB,6CACrBC,cAAe,SAACC,GACZ,OAAOzjB,GAAe,CAClBI,SAAU,qCACVE,SAAU,CAACmjB,MAGnBC,UAAW,cACXC,aAAc,6BACdhc,QAAS,6EACTic,YAAa,uBACbnH,OAAQ,SAACoH,GACL,IAAIS,EAAcT,EAAQC,KAAK,MAC/B,MAAM,uDAAuDD,EAAQtlB,OAAS,EAAI,SAAW,QAA7F,MAAyG+lB,EAAzG,KAEJP,iBAAkB,cAClBC,YAAa,SAACC,EAAM9a,GAChB,OAAOnJ,GAAe,CAClBI,SAAU,6FACVE,SAAU,CAAC6I,EAAS8a,IACrB,MAAO,IAEdC,cAAe,uBACfC,SAAU,SAACF,EAAM9a,GACb,OAAOnJ,GAAe,CAClBI,SAAU,iGACVE,SAAU,CAAC6I,EAAS8a,IACrB,MAAO,IAEd3kB,KAAM,gBACN8kB,YAAa,oBACbC,WAAY,qB,qBCpJL1iB,OAAWC,OAAO,CAC7B8E,KAAM,CACFE,eAAgB,GAChB3E,KAAM,EACNC,WAAY,UAEhBsb,KAAM,CACFra,MAAO,GACPrB,OAAQ,GACR8E,eAAgB,GAChB2M,QAAS,GACTjR,aAAc,IAElBiB,OAAQ,CACJJ,MAAO,IACPb,aAAc,GACdO,aAAc,GACdN,iBAAkB,GAEtBkb,YAAa,CACTta,MAAO,IACPpB,UAAW,GACXgB,gBAAiB,MACjBF,aAAc,GACdN,iBAAkB,GAEtBgiB,gBAAiB,CACbphB,MAAO,IACPpB,UAAW,GACXgB,gBAAiB,MACjBF,aAAc,GACdN,iBAAkB,GAEtBme,WAAY,CACRvd,MAAO,IACPpB,UAAW,GACXgB,gBAAiB,OACjBF,aAAc,GACdN,iBAAkB,GAEtBiiB,aAAc,CACVrhB,MAAO,IACPN,aAAc,IAElBkW,SAAU,CACNhW,gBAAiB,QACjBhB,UAAW,EACXO,aAAc,GACdR,OAAQ,OACRqB,MAAO,QAEX8V,WAAY,CACRzW,UAAW,SACXC,MAAO,OACPV,UAAW,IAEfiX,QAAS,CACLjX,UAAW,IAEfoX,QAAS,CACLtW,aAAc,GACdC,kBAAmB,GACnBsW,gBAAiB,GACjBlX,WAAY,UAEhBuiB,4BAA6B,CACzBthB,MAAO,IACPX,UAAW,SACXC,MAAO,UACPmE,eAAgB,IAEpBkL,WAAY,CACR5P,WAAY,SACZ0E,eAAgB,GAChBoM,cAAe,IAEnB0R,kBAAmB,CACfxiB,WAAY,SACZ0E,gBAAiB,GACjBoM,cAAe,IAEnBxM,aAAc,CACVrD,MAAO,IACPrB,OAAQ,KAEZkF,iBAAkB,CACdL,UAAW,SACXxD,MAAO,IACPX,UAAW,SACX5B,WAAY,OACZyB,SAAU,GACVI,MAAO,UACPH,aAAc,IAElBuX,MAAO,CACHhX,aAAc,GACdC,kBAAmB,GACnBsW,gBAAiB,GACjBlX,WAAY,UAEhByiB,WAAY,CACRriB,aAAc,GACda,MAAO,IACPX,UAAW,SACX5B,WAAY,OACZyB,SAAU,IAEduiB,iBAAkB,CACdzhB,MAAO,IACPX,UAAW,SACXC,MAAO,WAGXoiB,wBAAyB,CACrB1hB,MAAO,IACPpB,UAAW,IAEf+iB,eAAgB,CACZziB,SAAU,IAEd0iB,WAAY,CACRjhB,cAAe,MACfE,eAAe,SACfD,SAAS,OACT7B,WAAW,SACXC,aAAa,SACbG,aAAc,IAElB0iB,WAAY,CACRpkB,WAAY,OACZyB,SAAU,GACVG,UAAW,SACXW,MAAO,KAEX8hB,iBAAkB,CACdpiB,aAAc,GACdM,MAAO,IACPrB,OAAQ,KAEZojB,aAAc,CACV7iB,SAAU,GACVN,UAAW,GACXnB,WAAY,OACZ6B,MAAO,WAEX0iB,aAAc,CACVljB,KAAM,EACN6B,cAAe,MACf/B,UAAW,GACXI,aAAa,SACbgB,MAAO,MACPa,eAAgB,cAEpBohB,cAAe,CACXriB,gBAAiB,QACjB+a,oBAAqB,GACrBE,qBAAsB,GACtBpb,YAAa,OACbsQ,YAAa,EACbpQ,kBAAmB,GACnBoM,kBAAmB,EACnBzM,MAAO,QAEX4iB,iBAAkB,CACdviB,kBAAmB,GACnBD,aAAc,MC7JP,SAAS2b,GAAK7Z,GACzB,OACI,qCACI,cAAC6C,EAAA,EAAD,CAAO5B,OAAQ0f,KAAU3kB,MAAOmH,GAAO0V,OAEvC,cAAC,IAAD,CACIvV,MAAOtD,EAAM8K,UAAY,cAAC0B,EAAA,EAAD,CAAmB1O,MAAO,OAAQsK,KAAM,UAAcwY,GAAS5gB,EAAMhG,MAAMod,KACpGtW,eAAgBqC,GAAOvE,OACvBmC,QAAS,kBAAMf,EAAMga,OAAO,IAC5B9R,KACI,cAAC,IAAD,CACIC,KAAM,eACN2I,KAAM,UACNhT,MAAO,QACPsK,KAAM,GACNpM,MAAO,CAAE4B,iBAAkB,KAGnCqf,SAAgC,IAAtBjd,EAAMqF,KAAKzL,SAGzB,cAAC,IAAD,CACI0J,MAAOsd,GAAS5gB,EAAMhG,MAAMiJ,KAC5BnC,eAAgBqC,GAAOvE,OACvBmC,QAAS,kBAAMf,EAAMga,OAAO,IAC5B9R,KACI,cAAC,IAAD,CACIC,KAAM,eACN2I,KAAM,UACNhT,MAAO,QACPsK,KAAM,GACNpM,MAAO,CAAE4B,iBAAkB,OAKvC,cAAC,IAAD,CACI0F,MAAOsd,GAAS5gB,EAAMhG,MAAMqd,KAC5BvW,eAAgBqC,GAAOvE,OACvBmC,QAAS,kBAAMf,EAAMga,OAAO,IAC5B9R,KACI,cAAC,IAAD,CACIC,KAAM,sBACN2I,KAAM,UACNhT,MAAO,QACPsK,KAAM,GACNpM,MAAO,CAAE4B,iBAAkB,OAKvC,cAAC,IAAD,CACI0F,MAAOsd,GAAS5gB,EAAMhG,MAAMsd,MAC5BrP,YAAa,CAAE7J,gBAAiB,OAChC0C,eAAgBqC,GAAO2V,YACvB/X,QAAS,kBAAMf,EAAM2V,QAAQ,OAC7BzN,KACI,cAAC,IAAD,CACIC,KAAM,qBACN2I,KAAM,UACNhT,MAAO,QACPsK,KAAM,GACNpM,MAAO,CAAE4B,iBAAkB,UCjE5C,IAAMijB,GAAY,SAAClc,EAAUxD,EAAK2f,EAAW7O,EAAW8O,EAAY7O,EAAcK,EAAOC,GAC5F,MAAiB,UAAb7N,EAEI,eAAC1B,EAAA,EAAD,WACI,cAAC,IAAD,CACInF,MAAM,MACN9B,MAAO,CAAC6C,WAAY,GAAI8P,SAAS,WAAY1E,OAAQ,GACrD7B,KAAK,QACLF,KAAM,CAACC,KAAM,uBAAwB2I,KAAM,UAAWhT,MAAM,SAC5DiD,QAAS,WACL+f,OAGR,cAACje,EAAA,EAAD,CAAO5B,OAAQ,CAACE,IAAKA,GAAMnF,MAAO,CAACwC,MAAO,IAAKrB,OAAQ,IAAKe,aAAc,IAAKP,aAAc,SAGjF,UAAbgH,EAEH,eAAC1B,EAAA,EAAD,WACI,cAAC,IAAD,CACInF,MAAM,MACN9B,MAAO,CAAC6C,WAAY,IAAK8P,SAAS,WAAY1E,OAAQ,GACtD7B,KAAK,QACLF,KAAM,CAACC,KAAM,uBAAwB2I,KAAM,UAAWhT,MAAM,SAC5DiD,QAAS,WACL+f,OAGR,cAAC,IAAD,CAAM/f,QAAS,kBAAMkR,EAAY8O,IAAeC,GAAU9O,EAAcK,EAAOC,EAAUrR,IAAO8H,QAAM,EAACb,KAAM,GAAID,KAAM8J,EAAY,uBAAyB,sBAAuBnU,MAAO,UAAWgT,KAAM,UAAWhQ,eAAgB,CAACnD,aAAc,GAAIsM,OAAQ,aAZtQ,GAkBE+W,GAAY,SAAO9O,EAAcK,EAAOC,EAAUrR,GAAtC,eAAA7H,EAAAC,OAAA,uDACrB2Y,GAAa,GADQ,WAAA5Y,EAAA,MAEf+Y,KAAMO,kBAAkB,CAC1BC,yBAAyB,EACzBC,mBAAmB,KAJF,yBAAAxZ,EAAA,YAMQiZ,OANR,EAMQA,EAAOQ,kBANf,WAOY,KAAf,OADZC,EANe,aAOjB,EAAAA,EAAgBC,UAPC,mCAAA3Z,EAAA,MAQXiZ,EAAMW,UAAU,CAAE/R,IAAKA,KARZ,OASjBqR,EAASD,GATQ,2BAAAjZ,EAAA,MAWfiZ,EAAMa,aAXS,QAYrBb,EAAMc,2BAA0B,SAAOC,GAAP,SAAAha,EAAAC,OAAA,oDACxB+Z,EAAeC,cADS,kCAAAja,EAAA,MAElBiZ,EAAMiB,eAFY,OAGxBtB,GAAa,GAHW,+DAZX,8D,qkBC3BV,SAAS+O,GAAajhB,GAAQ,IAAD,UD+CZ2E,EAAUxD,EC9CtC,EAA0B0F,oBAAS,GAAnC,WAAOqO,EAAP,KAAcC,EAAd,KAEMvb,GAAS,SAAAoG,EAAMkhB,WAAN,WAAgB3b,cAAhB,IAAyB3L,SAAzB,SAAkCoG,EAAMmhB,iBAAxC,EAAkC,EAAkBvnB,QAkC/DuG,EAAiC,QAAhBC,IAASC,GAAe1H,EAAQ,KAAgC2H,QAAU,KAC3FC,EAAMP,EAAMQ,MAAQ,GAAK,EAAI,CAACpC,gBAAiB,SAAW,CAACA,gBAAiB,WAC5EqC,EACgB,QAAhBL,IAASC,GACL,CAAEK,UAAUP,EAAgBQ,IAAIX,EAAMQ,MAAOK,eAAc,EAAMC,eAAeP,GAChF,CAAEI,IAAKX,EAAMQ,MAAOK,eAAc,EAAMC,eAAeP,GAC/D,OACI,qCACA,eAAC,IAAD,CACI8V,QAASnB,EACToB,aAAcnT,GAAOqR,QACrB+B,gBAAiB,kBAAMpB,GAAS,IAChCqB,eAAgBC,KAJpB,UAMI,cAAC1a,EAAA,EAAD,CAAMC,MAAO,CAAC2B,aAAc,GAAIa,MAAO,IAAKX,UAAW,UAAvD,SAAmE+iB,GAAS5gB,EAAMhG,MAAMskB,qBACxF,eAACrb,EAAA,EAAD,CAAMjH,MAAO,CAAEmD,cAAe,OAA9B,UACI,cAAC,IAAD,CACImE,MAAOsd,GAAS5gB,EAAMhG,MAAMsd,MAC5BrP,YAAa,CAAE7J,gBAAiB,OAChC0C,eAAgB,CAAEwN,YAAa,IAC/BvN,QAAS,kBAAMoU,GAAS,MAE5B,cAAC,IAAD,CACI7R,MAAOsd,GAAS5gB,EAAMhG,MAAM8jB,GAC5B7V,YAAa,CAAEhM,WAAY,QAC3B8E,QAAS,kBAzDD,WACpB,KAAInH,GAAU,GAAKoG,EAAMohB,aAAzB,CACA,IAA0B,IAAtBphB,EAAMohB,YACN,GAAIC,OAAOC,UAAUthB,EAAMuhB,YAAa,CAAC,IAAD,IAK9B/gB,EAAQR,EAAMuhB,YAAN,SAAmBvhB,EAAMkhB,WAAzB,SAAmB,EAAgB3b,cAAnC,EAAmB,EAAyB3L,QACpD4nB,EAAMxhB,EAAMmhB,WAClBK,EAAI1lB,OAAO0E,EAAO,GAGlBR,EAAMyhB,cAAN,KAAwBD,QACrB,CAGH,IAAMhhB,EAAQR,EAAMkhB,SAAS3b,QAAQC,WAAU,SAAAlB,GAAE,OAAIA,EAAG1D,IAAMZ,EAAMuhB,cAC9DC,EAAMxhB,EAAMkhB,SAClBM,EAAIjc,QAAQzJ,OAAO0E,EAAO,GAC1BR,EAAM0hB,YAAYF,GAClBxhB,EAAM2hB,WAAW3hB,EAAM4hB,QACvB5hB,EAAM6hB,eAAc,OAErB,CACH,IAAML,EAAMxhB,EAAMohB,YAAcphB,EAAMuF,QAAUvF,EAAM8hB,YACtDN,EAAI1lB,OAAOkE,EAAMQ,MAAO,GACxBR,EAAM+hB,WAAN,KAAqBP,IAEzBrM,GAAS,IA4BkB6M,YAIvB,eAAC,IAAD,SAAcvhB,GAAd,IAA8BM,QAAS,WAAQf,EAAMiiB,eAAejiB,EAAMuhB,aAA1E,WDnBoB5c,ECoBE3E,EAAMuF,QAAQZ,SDpBNxD,ECoBgBnB,EAAMuF,QAAQpE,IDnBnD,UAAbwD,EAEI,cAAC,IAAD,CACI1D,OAAQ,CAAEE,IAAKA,GACfE,SAAO,EACP+G,KAAM,SACNtH,eAAgB,CAAClD,iBAAkB,KAGvB,UAAb+G,EAEH,cAAC,IAAD,CACIsE,QAAM,EACNd,KAAM,wBACN2I,KAAM,UACNhT,MAAO,YAKX,cAAC,IAAD,CACImL,QAAM,EACNd,KAAM,eACN2I,KAAM,UACNhT,MAAO,aCJP,eAAC,IAASwD,QAAV,WACI,cAAC,IAASC,MAAV,UAAiBvB,EAAMuF,QAAQ2c,WAC/B,eAAC,IAASzgB,SAAV,YAAoB,SAAAzB,EAAMuF,UAAN,WAAe2Z,cAAf,IAAwBtlB,SAAU,EAAtD,IAA0DgnB,GAAS5gB,EAAMhG,MAAMmkB,sBAEnF,cAAC,IAAD,CAAMlB,SAA+B,GAArBjd,EAAMohB,aAAuBxnB,GAAU,EAAGka,SAAO,EAAC1L,KAAM,GAAIpM,MAAO,CAACoC,gBAAgB,OAAQ+J,KAAM,gBAAiB2I,KAAM,UAAWhT,MAAO,MAAOiD,QAAS,SAACwC,GAAQ4R,GAAS,aCtFtM,SAASgN,GAAY5c,EAAS7B,GACjC,IAAIc,EAAU,EACV8a,EAAO,EASX,OARA/Z,EAAQ8H,KAAK,SAAC/I,EAAIzI,GACAyI,EAAGL,MAAMme,QAAQ,SAAC9d,GAAD,OAAQA,EAAGZ,UAAYA,KAChD2J,KAAK,SAAC/I,EAAIzI,GACZ2I,GAAW6d,SAAS/d,EAAGE,SACvB8a,GAAQ+C,SAAS/d,EAAGG,eAInBD,GADKA,EAAU8a,GACI,KAAKgD,QAAQ,G,qkBCJ9B,SAASC,GAASviB,GAAQ,IAAD,IAChCG,EACgB,QAAhBC,IAASC,GACH1H,EAAQ,KAAgC2H,QACxC,KACNC,EACAP,EAAMQ,MAAQ,IAAM,EACd,CAAEpC,gBAAiB,SACnB,CAAEA,gBAAiB,WACzBqC,EACgB,QAAhBL,IAASC,GACH,CACIK,UAAWP,EACXQ,IAAKX,EAAMoF,IACXvE,eAAe,EACfC,eAAgBP,GAEpB,CAAEI,IAAKX,EAAMoF,IAAKvE,eAAe,EAAMC,eAAgBP,GAEjE,OACI,eAAC,IAAD,SAAcE,GAAd,IAA8BM,QAAS,WAC/Bf,EAAMwQ,SAAQ,GACdxQ,EAAM0hB,YAAY1hB,EAAMqF,OAFhC,UAII,eAAC,IAAS/D,QAAV,WACI,cAAC,IAASC,MAAV,UAAiBvB,EAAMqF,KAAK8C,OAC5B,eAAC,IAAS1G,SAAV,WACK0gB,GAAWniB,EAAMqF,KAAKE,QAASvF,EAAM0D,WAAa,EAAG,KACrDkd,GAAS5gB,EAAMhG,MAAMsjB,mBAE1B,eAAC,IAAS7b,SAAV,YACK,SAAAzB,EAAMqF,OAAN,WAAYE,cAAZ,IAAqB3L,SAAU,EAAG,IAClCgnB,GAAS5gB,EAAMhG,MAAM+kB,gBAG9B,cAAC,IAAD,CACIjL,SAAO,EACP1L,KAAM,GACNpM,MAAO,CAAEoC,gBAAiB,OAC1B+J,KAAM,gBACN2I,KAAM,UACNhT,MAAO,MACPiD,QAAS,WACL,OAAOkQ,KAAMtJ,MACTiZ,GAAS5gB,EAAMhG,MAAMokB,WACrBwC,GAAS5gB,EAAMhG,MAAMqkB,eACrB,CACI,CACI/iB,KAAMslB,GAAS5gB,EAAMhG,MAAMsd,MAC3BvW,QAAS,aACT/E,MAAO,UAEX,CACIV,KAAMslB,GAAS5gB,EAAMhG,MAAM8jB,GAC3B/c,QAAS,WACLf,EAAM+T,SAAS/T,EAAMqF,KAAKD,gBClD/C,SAASod,GAAaxiB,GAAQ,IAAD,IAElC+T,EAAW,SAAC7O,I/BuGf,SAAwBxB,EAAUwB,GAAlC,mBAAA5L,EAAAC,OAAA,kEAAAD,EAAA,MACgBZ,GAAGc,UAAU,CAAE4L,IAAKF,EAAQxB,SAAUA,IAAY,SAAChK,EAAKwK,GAEvE,OADIxK,GAAKyK,QAAQC,MAAM1K,GAChBwK,MAHR,OACGmB,EADH,OAKMxJ,EAAI,EALV,YAKaA,EAAIwJ,EAAK,GAAGE,QAAQ3L,QALjC,oBAMO0K,EAAKe,EAAK,GAAGE,QAAQ1J,IACvB,CAAC,QAAS,SAAS6I,SAASJ,EAAGK,UAPpC,kCAAArL,EAAA,MAQWwL,KAAuBR,EAAGnD,MARrC,OAKyCtF,IALzC,gDAUInD,GAAGiY,YAAY,CAAEvL,IAAKF,EAAQxB,SAAUA,KAV5C,8D+BtGC+R,CAAazV,EAAM0D,SAAUwB,GAAQpL,MAAK,SAACoK,GACvClE,EAAM2hB,WAAW3hB,EAAM4hB,YAI/B,OACI,cAACzU,EAAA,EAAD,UACKnN,EAAMqU,QACH,cAAC7H,EAAA,EAAD,CACI1O,MAAO,OACPsK,KAAM,QACNpM,MAAOmH,GAAOkR,WAElB,SAAArU,EAAMqF,WAAN,IAAYzL,QAAS,EAArB,SACAoG,EAAMqF,WADN,EACA,EAAYgI,KAAI,SAAC/I,EAAIzI,GACjB,OACI,cAAC0mB,GAAD,CACI/hB,MAAO3E,EAEPwJ,KAAMf,EACNtK,KAAMgG,EAAMhG,KACZ+Z,SAAUA,EACVrQ,SAAU1D,EAAM0D,SAChB8M,QAASxQ,EAAMwQ,QACfkR,YAAa1hB,EAAM0hB,aANdpd,EAAGc,QAWpB,cAACrJ,EAAA,EAAD,CAAMC,MAAOmH,GAAOmR,WAApB,SACKsM,GAAS5gB,EAAMhG,MAAMgY,e,mCClC3B,SAASyQ,GAAeziB,GACnC,IAAMwC,EAAe7J,EAAQ,KAE7B,OACI,eAACsK,EAAA,EAAD,WACI,cAAC,EAAD,CACIT,aAAcA,EACdM,YAAaI,KACbX,YAAaY,GAAOtB,aACpBkB,WAAYI,GAAOtB,aACnBY,MAAM,EACNE,UAAU,IAEd,cAAC5G,EAAA,EAAD,CAAMC,MAAOmH,GAAOd,iBAApB,UACoB,IAAfrC,EAAMoD,KACDwd,GAAS5gB,EAAMhG,MAAMikB,gBACrB2C,GAAS5gB,EAAMhG,MAAMkkB,iBAE/B,cAAC,IAAD,CACI5a,MAAOsd,GAAS5gB,EAAMhG,MAAMc,aAC5BkB,MAAO,CAAEoC,gBAAiB,QAC1B2C,QAAS,SAACwC,GACNvD,EAAMwD,cCjBX,SAASkf,GAAgB1iB,GACpC,MAA4B6G,qBAA5B,WAAO8b,EAAP,KAAeC,EAAf,KA2CA,OAAI5iB,EAAMwE,QAEF,cAACmI,EAAA,EAAD,CAAc3Q,MAAOmH,GAAOiR,SAA5B,SACI,cAACjH,EAAA,EAAD,CAAY0V,sBAAuB1f,GAAO4c,kBAA1C,SACI,cAAC0C,GAAD,CAAgBrf,MAAM,EAAOpJ,KAAMgG,EAAMhG,KAAMwJ,MARjD,WACVxD,EAAM6J,YAAW,UAcjB,cAAC8C,EAAA,EAAD,CAAc3Q,MAAOmH,GAAOiR,SAA5B,SACI,eAACjH,EAAA,EAAD,CAAY0V,sBAAuB1f,GAAOgK,WAA1C,UACM0T,GAAU7gB,EAAM2E,SAAU3E,EAAMmB,KAvC5B,WACdnB,EAAM8iB,cACN9iB,EAAM+iB,cACN/iB,EAAMgjB,WAoCoDhjB,EAAMiS,UAAWjS,EAAM+gB,WAAY/gB,EAAMkS,aAAclS,EAAMuS,MAAOvS,EAAMwS,UAC5H,cAAC,IAAD,CACIlP,MAAOsd,GAAS5gB,EAAMhG,MAAMyjB,WAC5BxV,YAAa,CAAE/J,aAAc,IAC7B6C,QArCC,0BAAAzH,EAAAC,OAAA,mDACO,QAAhB6G,SAASC,GADA,uBAETsH,MAAM,QAFG,4CAAArO,EAAA,MAMM2pB,KAAgC,CAACnS,KAAM,CAAC,UAAW,cANzD,UAOO,YADhBtV,EANS,QAOFsV,KAPE,iDAWb9Q,EAAMgjB,OAAOxnB,EAAO2F,KACpBnB,EAAM8iB,YAAYtnB,EAAO0nB,SAASxnB,MAAM,KAAK,IAC7CsE,EAAM+iB,YAAYvnB,EAAO2M,MAbZ,gEAuCL,cAACpM,EAAA,EAAD,CAAMC,MAAOmH,GAAO2c,4BAApB,SACKc,GAAS5gB,EAAMhG,MAAM0jB,gBAE1B,eAACza,EAAA,EAAD,CAAMjH,MAAO,CAACmD,cAAe,MAAO5B,WAAY,SAAUK,iBAAkB,GAAIulB,WAAY,EAAG/jB,SAAS,QAAxG,UACI,cAAC,IAAD,CACIyJ,MAAO7I,EAAMkiB,SACbtZ,WAAY,CAAClL,SAAU,IACvBoD,eAAgB,CAACnD,aAAc,IAC/B0K,YAAauY,GAAS5gB,EAAMhG,MAAM2jB,kBAClC7U,aAAc,SAACvF,GAAD,OAAOvD,EAAMojB,YAAY7f,MAE3C,eAACN,EAAA,EAAD,CAAMjH,MAAO,CAACmD,cAAe,MAAO5B,WAAY,SAAU4lB,WAAY,EAAG/jB,SAAS,SAAUZ,MAAO,OAAnG,UACA,cAAC,IAAD,CACI6J,YAAauY,GAAS5gB,EAAMhG,MAAM4jB,UAClChV,WAAY,CAAClL,SAAU,IACvBmL,MAAO8Z,EACP7Z,aAAc,SAACvF,GAAD,OAAOqf,EAAUrf,MAEnC,cAAC,IAAD,CACI2E,KACI,cAAC,IAAD,CACIC,KAAM,aACN2I,KAAM,UACNhT,MAAO,QACPsK,KAAM,GACNpM,MAAO,CAAE4B,iBAAkB,KAGnCmD,QAAS,kBAxFX,WAAO,IAAD,IAGyD,EAF7E,GAAI,MAAC4hB,MAAQtc,QAAUrG,EAAMkf,QAAQtlB,QAAU,GAC3C,OAAO,MAC2D,KAA3D,SAAAoG,EAAMkf,cAAN,IAAexa,SAAf,MAAwBie,GAAxB,SAAwBA,EAAQtc,aAAhC,EAAwB,EAAgBgd,iBAC/CrjB,EAAMsjB,WAAN,eAAqBtjB,EAAMkf,SAA3B,OAAoCyD,GAApC,SAAoCA,EAAQtc,aAA5C,EAAoC,EAAgBgd,iBAExDT,IAkF+BW,IACftG,SAAUjd,EAAMkf,QAAQtlB,QAAU,WAI1C,cAACmC,EAAA,EAAD,CAAMC,MAAOmH,GAAO2c,4BAApB,SACKc,GAAS5gB,EAAMhG,MAAM6jB,eAE1B,cAAC5a,EAAA,EAAD,CAAMjH,MAAOmH,GAAOid,WAApB,SACKpgB,EAAMkf,QAAQ7R,KAAK,SAAC/I,EAAIzI,GACrB,OACI,cAAC,IAAD,CAEIgN,MAAOvE,EACPkf,WAAY,CAACrlB,kBAAmB,GAAIhB,OAAQ,GAAIS,iBAAkB,GAAIqE,eAAgB,GACtFlB,QAAS,kBA9Ff,SAAClF,GACnB,IAAM2lB,EAAMxhB,EAAMkf,QAClBsC,EAAI1lB,OAAOD,EAAG,GACdmE,EAAMsjB,WAAN,KAAqB9B,IA2FkBiC,CAAc5nB,KAHxBA,aCjGtB,SAAS6nB,GAAS1jB,GAE7B,MAAwB6G,oBAAS,GAAjC,WAAOzD,EAAP,KAAaoN,EAAb,KAGA,EAAsC3J,oBAAS,GAA/C,WAAO8c,EAAP,KAAoBC,EAApB,KAGA,EAAsC/c,qBAAtC,WAAOgd,EAAP,KAAoB5B,EAApB,KAGA,EAAgCpb,qBAAhC,WAAOqa,EAAP,KAAiBQ,EAAjB,KAGA,EAAoC7a,mBAAS,IAA7C,WAAOsa,EAAP,KAAmBM,EAAnB,KAGA,EAAoC5a,oBAAS,GAA7C,WAAOid,EAAP,KAAmBjC,EAAnB,KAGA,EAAgChb,qBAAhC,WAAOqb,EAAP,KAAiBkB,EAAjB,KACA,EAA8Bvc,mBAAS,IAAvC,WAAOqY,EAAP,KAAgBoE,EAAhB,KACA,EAAsBzc,qBAAtB,WAAO1F,EAAP,KAAY6hB,EAAZ,KACA,EAAgCnc,qBAAhC,WAAOjO,EAAP,KAAiBmqB,EAAjB,KACA,EAAgClc,qBAAhC,WAAOlC,EAAP,KAAiBme,EAAjB,KACA,EAAkCjc,oBAAS,GAA3C,YAAOoL,GAAP,MAAkBC,GAAlB,MACA,GAA0BrL,mBAAS,IAAIwL,KAAMC,OAA7C,aAAOC,GAAP,MAAcC,GAAd,MACA,GAA8B3L,oBAAS,GAAvC,aAAOrC,GAAP,MAAgBqF,GAAhB,MAoEMka,GAAW,WACb,GAAKD,EAAL,CACA,IAAMve,EAAU2b,EAAS3b,QAAQye,OAAO7C,IlC+BzC,SAAwBzd,EAAUwB,EAAQK,GAA1C,mBAAAjM,EAAAC,OAAA,kEAAAD,EAAA,MACgBZ,GAAGc,UAAU,CAAE4L,IAAKF,IAAS,SAACxL,EAAKwK,GAElD,OADIxK,GAAKyK,QAAQC,MAAM,oBAAqB1K,GACpCwK,MAHT,UACGmB,EADH,wDAMMxJ,EAAI,EANV,YAMaA,EAAI0J,EAAQ3L,QANzB,qBAOO0K,EAAKiB,EAAQ1J,IACX+E,GART,oCAAAtH,EAAA,MASW+K,GAAkBX,EAAUY,IATvC,oCAUUA,EAAG1D,KAAM0D,EAAG2f,WAVtB,oCAAA3qB,EAAA,MAWWsL,GAAeN,IAX1B,eAYYA,EAAG2f,WAZf,QAMiCpoB,IANjC,8BAeHwJ,EAAK,GAAGE,QAAUA,EAff,kBAgBI7M,GAAGQ,YAAY,CAACkM,IAAKF,GAArB,MAAkCG,EAAK,MAhB3C,8DkC9BCoQ,CAAazV,EAAM0D,SAAUwd,EAAS9b,IAAKG,GAASzL,MAAK,SAACoK,GACtD,OAAO+M,KAAMtJ,MACTiZ,GAAS5gB,EAAMhG,MAAM2kB,WACrBiC,GAAS5gB,EAAMhG,MAAM4kB,oBACrB,CACI,CACItjB,KAAMslB,GAAS5gB,EAAMhG,MAAM8jB,GAC3B/c,QAAS,WACLf,EAAM2hB,WAAW3hB,EAAM4hB,QACvBH,EAAc,IACdrL,cAQlB2K,GAAa,oBAAAznB,EAAAC,OAAA,kEAAAD,EAAA,YACciZ,QADd,EACcA,GAAOQ,kBADrB,kBAEIE,SAFJ,kCAAA3Z,EAAA,MAGLiZ,GAAMG,cAHD,OAIfR,IAAa,GAJE,6DAgFbkE,GAAS,WACPyN,GA/GJP,EAAW,IACXF,IACAN,IACAC,IACAC,IACAxQ,GAAS,IAAIH,KAAMC,OA4Gf2P,IACA2B,GAAe,IACRD,EACPC,GAAe,GACVxgB,GACLye,GAAc,GACdrR,GAAQ,IAERxQ,EAAMga,OAAO,IAGfkK,GAAY,SAACC,GACf,GAAIN,EAAa,CAEb,GAAY,SAARM,EAAiB,OAAOvD,GAAS5gB,EAAMhG,MAAMylB,YAC5C,GAAY,YAAR0E,EAAoB,QAASjF,EAAQtlB,OAAS,GAAKsoB,EAAStoB,OAAS,GACzE,GAAY,WAARuqB,EAAmB,OArKhB,WAChB,IAAI5e,EACA/E,EAC+B,EAA/B6gB,OAAOC,UAAUuC,GAEjBte,EAAU4b,EAAW0C,GAAW,MAAG3C,GAAH,SAAGA,EAAU3b,cAAb,EAAG,EAAmB3L,UAMtD4G,EAAQ0gB,EAAS3b,QAAQC,WAAU,SAAAlB,GAAE,OAAIA,EAAG1D,IAAMijB,KAClDte,EAAU2b,EAAS3b,QAAQ/E,GACvBmE,GAAYY,EAAQZ,UAAYxD,GAAOoE,EAAQpE,MAC/CoE,EAAQ0e,YAAa,IAE7B1e,EAAQ3M,SAAUA,EAClB2M,EAAQZ,SAAWA,EACnBY,EAAQpE,IAAMA,EACdoE,EAAQ2Z,QAAUA,EAClB3Z,EAAQ2c,SAAWA,EACnBL,GAAc,GACdhY,IAAW,GACPwX,OAAOC,UAAUuC,GACQ,GAArB1C,EAAWvnB,OACX6nB,EAAc,CAAClc,IAEfkc,EAAc,KAAIlc,KAEtB2b,EAAS3b,QAAQ/E,GAAS+E,EAC1Bmc,EAAYR,IAuIuBkD,QAChC,GAAIT,EAAa,CAEpB,GAAY,SAARQ,EAAiB,OAAOvD,GAAS5gB,EAAMhG,MAAM0lB,WAC5C,GAAY,YAARyE,EAAoB,QAASjF,EAAQtlB,OAAS,GAAKsoB,EAAStoB,OAAS,GACzE,GAAY,WAARuqB,EAAmB,OA9LhB,WAChB,IAAMlI,EAAO,CACT9a,IAAKA,EACLvI,SAAUA,EACVsmB,QAASA,EACTgD,SAAUA,EACVvd,SAAUA,GAGdme,IACAE,IACAD,IACAO,EAAW,IACXF,IAEA3B,EAAc,GAAD,YAAKN,GAAL,CAAiBlF,KAC9B4F,GAAc,GACdhY,IAAW,GA6K4Bwa,QAChC,GAAIjhB,EAAM,CAEb,GAAY,SAAR+gB,EAAiB,OAAOvD,GAAS5gB,EAAMhG,MAAMW,KAC5C,GAAY,YAARwpB,EAAoB,OAASL,EACjC,GAAY,WAARK,EAAmB,OAAOJ,SAChC,CAEH,GAAY,SAARI,EAAiB,OAAOvD,GAAS5gB,EAAMhG,MAAMojB,OAC5C,GAAY,YAAR+G,QACJ,GAAY,WAARA,EAAmB,OAAOnkB,EAAMga,OAAO,KAIxD,OACI,qCACI,eAAC/W,EAAA,EAAD,CAAMjH,MAAO,CAAEmD,cAAe,OAA9B,UACI,cAAC,IAAD,CACImE,MAAQ4gB,GAAU,SAClBpjB,eAAgBqC,GAAO0c,aACvB3X,KACI,cAAC,IAAD,CACIC,KAAM/E,EAAO,eAAiB,oBAC9B0N,KAAM,UACNhT,MAAO,QACPsK,KAAM,GACNpM,MAAO,CAAE4B,iBAAkB,KAGnCmD,QAAS,WACLmjB,GAAU,YAEdjH,SAAWiH,GAAU,cAEzB,cAAC,IAAD,CACIpmB,MAAM,MACN9B,MAAO,CAAC6C,WAAY,IACpBuJ,KAAK,QACLF,KAAM,CAACC,KAAM,qBAAsB2I,KAAM,UAAWhT,MAAM,SAC1DiD,QAAS,kBAAMqV,WAGvB,cAAC,IAAD,CACItY,MAAO,OACPU,MAAO,EACPxC,MAAO,CAAEwC,MAAO,OAAWpB,UAAW,MAE1C,eAACuP,EAAA,EAAD,CAAc3Q,MAAOmH,GAAOiR,SAA5B,WAEQhR,GAASugB,GAAgBE,EAapB,6BAZL,cAAC,IAAD,CACIvgB,MAAOsd,GAAS5gB,EAAMhG,MAAMujB,YAC5BrV,KACI,cAAC,IAAD,CACIC,KAAM,qBACN2I,KAAM,UACNhT,MAAO,QACPsK,KAAM,GACNpM,MAAO,CAAE4B,iBAAkB,KAGnCmD,QAAS,kBAAM6iB,GAAe,MAGtC,cAACzW,EAAA,EAAD,CAAYnR,MAAO,CAAC2B,aAAc,IAAlC,SAjKK,WAsCqB,IAAD,IAnCzB4H,EAFR,IAAIse,GAAgBF,EAgBb,OAAIA,EACC,cAACjB,GAAD,CACI1oB,KAAMgG,EAAMhG,KACZspB,WAAYA,EACZR,YAAaA,EACbM,YAAaA,EACbJ,OAAQA,EACRD,YAAaA,EACblZ,WAAYA,GACZ2I,SAAUA,GACVN,aAAcA,GACd6O,WAAYA,GACZ5f,IAAKA,EACLvI,SAAUA,EACVsmB,QAASA,EACTva,SAAUA,EACVud,SAAUA,EACV1d,QAASA,GACT+N,MAAOA,GACPN,UAAWA,KAEhB7O,IAASugB,EAEhB,SAAQzC,EAAS3b,UAAjB,SAAO,EAAoBye,OAAO7C,SAAlC,EAAO,EAAwC9T,KAAI,SAAC/I,EAAIzI,GACpD,OAAQ,cAAColB,GAAD,CACJzgB,MAAO3E,EAEP+E,GAAIsgB,EAAS9b,KAAO,EACpB8b,SAAUA,EACVC,WAAYA,EACZ5b,QAASjB,EACTtK,KAAMgG,EAAMhG,KACZunB,WAAYjd,EAAG1D,IAAM/E,EACrBulB,aAAa,EACbQ,OAAQ5hB,EAAM4hB,OACdD,UAAW3hB,EAAM2hB,UACjBE,cAAeA,EACfI,eAAgBA,EAChBP,YAAaA,EACbD,cAAeA,GAbV5lB,MAkBL,cAAC2mB,GAAD,CACJnd,KAAMrF,EAAMqF,KACZgP,QAASrU,EAAMqU,QACfra,KAAMgG,EAAMhG,KACZ0J,SAAU1D,EAAM0D,SAChB8M,QAASA,EACTkR,YAAaA,EACbC,UAAW3hB,EAAM2hB,YAhErB,GAFInd,IAASqF,IAAW,GAEpBwX,OAAOC,UAAUuC,GAAc,CAAC,IAAD,EAC/Bte,EAAU4b,EAAW0C,GAAW,MAAG3C,GAAH,SAAGA,EAAU3b,cAAb,EAAG,EAAmB3L,aACnD,CACH,IAAM4G,EAAQ0gB,EAAS3b,QAAQC,WAAU,SAAAlB,GAAE,OAAIA,EAAG1D,IAAMijB,KACxDte,EAAU2b,EAAS3b,QAAQ/E,GAE1B+E,IACLwd,EAAYxd,EAAQ3M,UACpBkqB,EAAYvd,EAAQZ,UACpBqe,EAAOzd,EAAQpE,KACfiiB,EAAY7d,EAAQ2c,UACpBoB,EAAW,KAAI/d,EAAQ2Z,UACvB0E,GAAe,IAkJTU,WC7RH,SAASC,GAAWvkB,GAC/B,MAA4C6G,oBAAS,GAArD,WAAO2d,EAAP,KAAuBC,EAAvB,KACA,EAA8B5d,mBAAS,IAAvC,WAAOtB,EAAP,KAAgBwc,EAAhB,KACA,EAA8Blb,oBAAS,GAAvC,WAAO6d,EAAP,KAAgBC,EAAhB,KACA,EAAwB9d,mBAAS,IAAjC,WAAOsB,EAAP,KAAayc,EAAb,KACA,EAA0B/d,oBAAS,GAAnC,WAAOqO,EAAP,KAAcC,EAAd,KAEA,EAAsCtO,qBAAtC,WAAoBob,GAApB,WAGA,EAAsBpb,qBAAtB,WAAO1F,EAAP,KAAY6hB,EAAZ,KACA,EAAgCnc,qBAAhC,WAAOjO,EAAP,KAAiBmqB,EAAjB,KACA,EAAgClc,qBAAhC,WAAOlC,EAAP,KAAiBme,EAAjB,KACA,EAA8Bjc,mBAAS,IAAvC,WAAOqY,EAAP,KAAgBoE,EAAhB,KACA,EAAgCzc,qBAAhC,WAAOqb,EAAP,KAAiBkB,EAAjB,KACA,GAA8Bvc,oBAAS,GAAvC,aAAOrC,GAAP,MAAgBqF,GAAhB,MACA,GAAkChD,oBAAS,GAA3C,aAAOoL,GAAP,MAAkBC,GAAlB,MACA,GAA0BrL,mBAAS,IAAIwL,KAAMC,OAA7C,aAAOC,GAAP,MAAcC,GAAd,MAEA7G,qBAAW,YACI,MAAPuT,OAAA,EAAAA,EAAStlB,QAAS,GAAKsoB,EACvByC,GAAW,GAEXA,GAAW,KAEhB,CAACzF,EAASgD,IAEb,IA4CMnB,GAAa,oBAAAznB,EAAAC,OAAA,kEAAAD,EAAA,YACciZ,QADd,EACcA,GAAOQ,kBADrB,kBAEIE,SAFJ,kCAAA3Z,EAAA,MAGLiZ,GAAMG,cAHD,OAIfR,IAAa,GAJE,6DAiFnB,OACI,qCAEI,eAAC,IAAD,CACImE,QAASnB,EACToB,aAAcnT,GAAO+R,MACrBqB,gBAAiB,kBAAMpB,GAAS,IAChCqB,eAAgBC,KAJpB,UAMI,cAAC1a,EAAA,EAAD,CAAMC,MAAOmH,GAAO6c,WAApB,SAAiCY,GAAS5gB,EAAMhG,MAAMukB,0BACtD,cAACxiB,EAAA,EAAD,CAAMC,MAAOmH,GAAO8c,iBAApB,SAAuCW,GAAS5gB,EAAMhG,MAAMwkB,oBAC5D,eAACvb,EAAA,EAAD,CAAMjH,MAAO,CAAEmD,cAAe,OAA9B,UACI,cAAC,IAAD,CAAOkJ,YAAauY,GAAS5gB,EAAMhG,MAAMykB,UACrC3d,eAAgBqC,GAAO+c,wBACvBtX,WAAYzF,GAAOgd,eACnBrX,aAAc,SAACvF,GAAD,OAAOqhB,EAAO,MAACrhB,OAAD,EAACA,EAAG8C,WAEpC,cAAC,IAAD,CAAQvF,eAAgB,CAAE1D,UAAW,GAAIoB,MAAO,IAAM8E,MAAO,GAAI4E,KAC7D,cAAC,IAAD,CACIC,KAAM,2BACN2I,KAAM,UACNhT,MAAO,QACPsK,KAAM,KAEZ6U,UAAc,MAAJ9U,OAAA,EAAAA,EAAMvO,QAAS,EAAkBmH,QArJ1C,YnCqChB,SAAsB2C,EAAU2B,GAAhC,mBAAA/L,EAAAC,OAAA,mDACE8L,EAAK8C,MAAiC,KAAzB,SAAA9C,EAAKE,cAAL,IAAc3L,QAD7B,uBAECuK,QAAQC,MAAM,mCAFf,kBAGQ,MAHR,OAKMvI,EAAI,EALV,YAKaA,EAAIwJ,EAAKE,QAAQ3L,QAL9B,wBAMO0K,EAAKe,EAAKE,QAAQ1J,GANzB,WAAAvC,EAAA,MAOO+K,GAAkBX,EAAUY,IAPnC,OAKsCzI,IALtC,gDASInD,GAAGmB,YAAH,MAAoBwL,IAAQ,SAAC3L,EAAK8B,GACrC,OAAI9B,GACAyK,QAAQC,MAAM1K,GACP,MAEA8B,MAdZ,8DmCpCCia,CAAWzV,EAAM0D,SAAU,CACvByE,KAAMA,EACN5C,QAASA,EACT7B,SAAU1D,EAAM0D,WACjB5J,MAAK,SAAAoK,GACJ,OAAO+M,KAAMtJ,MACTiZ,GAAS5gB,EAAMhG,MAAM0kB,YACrBkC,GAAS5gB,EAAMhG,MAAM4kB,oBACrB,CACI,CACItjB,KAAMslB,GAAS5gB,EAAMhG,MAAM8jB,GAC3B/c,QAAS,WACLoU,GAAS,GACTnV,EAAMga,OAAO,UAK9BtT,OAAM,SAAAhN,GACLyK,QAAQwC,IAAIjN,eAqIZ,eAACuJ,EAAA,EAAD,CAAMjH,MAAO,CAAEmD,cAAe,OAA9B,UACI,cAAC,IAAD,CAEImE,MAAOkhB,EAAiB5D,GAAS5gB,EAAMhG,MAAM8jB,GAAK8C,GAAS5gB,EAAMhG,MAAMwjB,SACvE1c,eAAgBqC,GAAO0c,aACvB3X,KACI,cAAC,IAAD,CACIC,KAAMqc,EAAiB,eAAiB,gCACxC1T,KAAM,UACNhT,MAAO,QACPsK,KAAM,GACNpM,MAAO,CAAE4B,iBAAkB,KAGnCqf,YAAYuH,GAAkBE,IAAcF,IAAyB,MAAPjf,OAAA,EAAAA,EAAS3L,QAAS,GAChFmH,QAAS,WACLggB,KACIyD,EAjJJ,WAChB,IAAMrD,EAAa,CACfhgB,IAAKA,EACLvI,SAAUA,EACVsmB,QAASA,EACTgD,SAAUA,EACVvd,SAAUA,GAGdme,IACAE,IACAD,IACAO,EAAW,IACXF,IAEArB,EAAW,GAAD,YAAKxc,GAAL,CAAc4b,KACxBtX,IAAW,GAiIyBwa,GACflP,GAAS,MAGtB,cAAC,IAAD,CACIrX,MAAM,MACN9B,MAAO,CAAC6C,WAAY,IACpBuJ,KAAK,QACLF,KAAM,CAACC,KAAM,qBAAsB2I,KAAM,UAAWhT,MAAM,SAC1DiD,QAAS,WACLggB,KACAyD,EAAiBC,GAAkB,GAASzkB,EAAMga,OAAO,SAIrE,cAAC,IAAD,CACIlc,MAAO,OACPU,MAAO,EACPxC,MAAO,CAAEwC,MAAO,OAAWpB,UAAW,MAjH1ConB,EACO,cAAC9B,GAAD,CAEH1oB,KAAMgG,EAAMhG,KACZspB,WAAYA,EACZR,YAAaA,EACbM,YAAaA,EACbJ,OAAQA,EACRD,YAAaA,EACblZ,WAAYA,GACZ2I,SAAUA,GACVN,aAAcA,GACd6O,WAAYA,GACZ5f,IAAKA,EACLvI,SAAUA,EACVsmB,QAASA,EACTva,SAAUA,EACVud,SAAUA,EACV1d,QAASA,GACT+N,MAAOA,GACPN,UAAWA,KAGR,eAACtF,EAAA,EAAD,CAAc3Q,MAAOmH,GAAOiR,SAA5B,UACH,cAAC,IAAD,CACI9Q,MAAOsd,GAAS5gB,EAAMhG,MAAMujB,YAC5BrV,KACI,cAAC,IAAD,CACIC,KAAM,qBACN2I,KAAM,UACNhT,MAAO,QACPsK,KAAM,GACNpM,MAAO,CAAE4B,iBAAkB,KAGnCmD,QAAS,kBAAM0jB,GAAkB,MAErC,cAACtX,EAAA,EAAD,CAAYnR,MAAO,CAAC2B,aAAc,IAAlC,SACMqC,EAAMqU,QACJ,cAAC7H,EAAA,EAAD,CACI1O,MAAO,OACPsK,KAAM,QACNpM,MAAOmH,GAAOkR,UAjEX,IAAnB9O,EAAQ3L,OACA,cAACmC,EAAA,EAAD,CAAMC,MAAOmH,GAAOmR,WAApB,SACHsM,GAAS5gB,EAAMhG,MAAMqjB,gBAG1B,MAAO9X,OAAP,EAAOA,EAAS8H,KAAI,SAAC/I,EAAIzI,GACrB,OACI,cAAColB,GAAD,CACIzgB,MAAO3E,EAEP+E,GAAI/E,EACJ0J,QAASjB,EACTtK,KAAMgG,EAAMhG,KACZ+nB,WAAYA,EACZE,eAAgBA,EAChBH,YAAavc,GANR1J,c,cCrGd,SAASge,GAAK7Z,GACzB,IAAM6kB,EAAgBlsB,EAAQ,KAC9B,OACA,qCACMqH,EAAM8kB,WAAa,EAAI,cAAC,IAAD,CACrB9oB,MAAO,CAACoB,UAAW,IAAKuR,SAAU,WAAY1E,OAAQ,IACtDnJ,eAAgB,CAACjC,WAAY,KAC7BuJ,KAAK,QACLF,KAAM,CAACC,KAAM,eAAgB2I,KAAM,UAAWhT,MAAM,SACpDiD,QAAS,kBAAMf,EAAM+kB,qBACpB,6BACL,cAAC,EAAD,CAAQviB,aAAcwiB,GAAgBliB,YAAa+hB,EAAetiB,YAAa,CAACnF,WAAY,GAAID,OAAQ,IAAKQ,cAAe,MAC5H,cAAC,IAAD,CAAM3B,MAAOmH,GAAOkd,WAApB,SAAiCO,GAAS5gB,EAAMhG,MAAM6kB,cAAc7e,EAAMqF,KAAK8C,QAC/E,cAAC,IAAD,CACI7E,MAAOsd,GAAS5gB,EAAMhG,MAAMod,KAC5BtW,eAAgBqC,GAAO4Y,WACvBhb,QAAS,kBAAMf,EAAMilB,SAAQ,IAC7Btb,WAAW,EACXzB,KACI,cAAC,IAAD,CACIC,KAAM,wBACN2I,KAAM,UACNhT,MAAO,QACPsK,KAAM,GACNpM,MAAO,CAAE4B,iBAAkB,OAIvC,cAAC,IAAD,CACI0F,MAAOsd,GAAS5gB,EAAMhG,MAAMsd,MAC5BrP,YAAa,CAAE7J,gBAAiB,OAChC0C,eAAgBqC,GAAOyc,gBACvB7e,QAAS,kBAAMf,EAAMga,OAAO,IAC5B9R,KACI,cAAC,IAAD,CACIC,KAAM,qBACN2I,KAAM,UACNhT,MAAO,QACPsK,KAAM,GACNpM,MAAO,CAAE4B,iBAAkB,U,yBC9BhC,SAASqc,GAAKja,GACzB,MAAwB6G,mBAAS,IAAjC,WAAOwR,EAAP,KAAa+C,EAAb,KACA,EAA8BvU,oBAAS,GAAvC,WAAOwN,EAAP,KAAgBkG,EAAhB,KACA,EAA8B1T,mBAAS,GAAvC,WAAO4F,EAAP,KAAgByY,EAAhB,KACA,EAA4Bre,qBAA5B,WAAO8b,EAAP,KAAeC,EAAf,KACA,EAA0B/b,oBAAS,GAAnC,WAAOqO,EAAP,KAAcC,EAAd,KACA,EAAkCtO,oBAAS,GAA3C,WAAOoL,EAAP,KAAkBC,EAAlB,KACA,EAA0BrL,mBAAS,IAAIwL,KAAMC,OAA7C,WAAOC,EAAP,KAAcC,EAAd,KAEA,EAA8B3L,mBAAS,GAAvC,WAAOrC,EAAP,KAAgBqF,EAAhB,KACA,EAAwBhD,mBAAS,GAAjC,WAAOyY,EAAP,KAAa6F,EAAb,KACA,EAAgCte,oBAAS,GAAzC,WAAOoU,EAAP,KAAiBC,EAAjB,KAEAvP,qBAAW,WACPyP,EChCe,SAACgK,GACpB,IAAK,IAAIvpB,EAAIupB,EAAIxrB,OAAS,EAAGiC,EAAI,EAAGA,IAAK,CACrC,IAAMwpB,EAAIpf,KAAKC,MAAMD,KAAKE,UAAYtK,EAAI,IADL,EAElB,CAACupB,EAAIC,GAAID,EAAIvpB,IAA/BupB,EAAIvpB,GAFgC,KAE5BupB,EAAIC,GAFwB,KAIzC,OAAOD,ED2BKE,CAAQtlB,EAAMqF,OACtBkV,GAAW,KACZ,IAEH,IAAMgL,EAAe5sB,EAAQ,KACvB6sB,EAAY7sB,EAAQ,KAGpBooB,EAAa,oBAAAznB,EAAAC,OAAA,kEAAAD,EAAA,YACciZ,OADd,EACcA,EAAOQ,kBADrB,kBAEIE,SAFJ,kCAAA3Z,EAAA,MAGLiZ,EAAMG,cAHD,OAIfR,GAAa,GAJE,6DA6CbuT,EAA0B,SAACjqB,GAC7B,OACIyV,KAAMtJ,MACFnM,EAASolB,GAAS5gB,EAAMhG,MAAMglB,aAAe4B,GAAS5gB,EAAMhG,MAAMilB,YAClEzjB,EAASolB,GAAS5gB,EAAMhG,MAAMgJ,QAAU4d,GAAS5gB,EAAMhG,MAAM8d,OAAOO,EAAK5L,GAASyS,SAClF,CACI,CACI5jB,KAAMslB,GAAS5gB,EAAMhG,MAAM8jB,GAC3B/c,QAAS,WACD0L,EAAU,GAAK4L,EAAKze,OAAS,EAC7BsrB,EAAWzY,EAAU,IAEjBjI,GAAW8a,GAAMpE,GAAY,GACjC/F,GAAS,SA0BrC,OACA,mCACKd,EACG,cAAC7H,EAAA,EAAD,CAAmBpE,KAAM,QAASpM,MAAO,CAACoB,UAAW,IAAKU,MAAO,SAEjE,qCACKmd,GAAYzW,GAAW8a,EACpB,cAAC,KAAD,CACIhD,SAAS,EACTC,WAAW,EACXC,UAAW,IACXC,MAAO,GACPC,OAAQ,CAAEC,GAAI,GAAIC,GAAI,MAG1B,6BAEJ,eAAC,IAAD,CACIvG,QAASnB,EACToB,aAAcnT,GAAOqR,QACrB+B,gBAAiB,kBAAMvW,EAAMga,OAAO,IACpCxD,eAAgBC,KAJpB,UAMKjS,GAAW8a,EACR,qCACI,cAAC,EAAD,CAAQ9c,aAAc+iB,EAAcziB,YAAa+Z,KAAata,YAAa,CAACnF,WAAY,GAAID,OAAQ,IAAKQ,cAAe,IAAK8E,MAAM,IACnI,cAAC,IAAD,CAAMzG,MAAO,CAAC8B,MAAM,OAAQD,UAAW,SAAUH,SAAU,GAAIzB,WAAY,QAA3E,SAAqF2kB,GAAS5gB,EAAMhG,MAAMolB,mBAC1G,cAAC,IAAD,CAAMpjB,MAAO,CAAC6B,UAAW,SAAUT,UAAW,GAAIM,SAAU,IAA5D,SAAkEkjB,GAAS5gB,EAAMhG,MAAMqlB,YAAYC,EAAM9a,QAG7G,qCACI,cAAC,EAAD,CAAQhC,aAAcgjB,EAAW1iB,YAAa4iB,KAAUnjB,YAAa,CAACnF,WAAY,GAAID,OAAQ,IAAKQ,cAAe,MAClH,cAAC,IAAD,CAAM3B,MAAO,CAAC8B,MAAM,MAAOD,UAAW,SAAUH,SAAU,GAAIzB,WAAY,QAA1E,SAAoF2kB,GAAS5gB,EAAMhG,MAAMulB,gBACzG,cAAC,IAAD,CAAMvjB,MAAO,CAAC6B,UAAW,SAAUT,UAAW,GAAIM,SAAU,IAA5D,SAAkEkjB,GAAS5gB,EAAMhG,MAAMwlB,SAASF,EAAM9a,QAG9G,cAAC,IAAD,CAAQlB,MAAOsd,GAAS5gB,EAAMhG,MAAMsd,MAAOvW,QAAS,kBAAMf,EAAMga,OAAO,IAAIlZ,eAAgBqC,GAAO2V,YAAa5Q,KAC3G,cAAC,IAAD,CACIC,KAAM,qBACN2I,KAAM,UACNhT,MAAO,QACPsK,KAAM,GACNpM,MAAO,CAAE4B,iBAAkB,UA7F9B,WACjB,GAAKya,EAAK5L,GACV,OAAQ4L,EAAK5L,GAAS9H,UAClB,IAAK,QACD,OAAO,cAAC,IAAD,CAAO1D,OAAS,CAACE,IAAKkX,EAAK5L,GAAStL,KAAQnF,MAAOmH,GAAOmd,mBACrE,IAAK,QACD,OAAO,cAAC,IAAD,CAAMvf,QAAS,kBAAMkR,EAAY8O,IA1BlC,0BAAAznB,EAAAC,OAAA,uDACd2Y,GAAa,GADC,WAAA5Y,EAAA,MAER+Y,KAAMO,kBAAkB,CAC1BC,yBAAyB,EACzBC,mBAAmB,KAJT,yBAAAxZ,EAAA,YAMeiZ,OANf,EAMeA,EAAOQ,kBANtB,WAOmB,KAAf,OADZC,EANQ,aAOV,EAAAA,EAAgBC,UAPN,mCAAA3Z,EAAA,MAQJiZ,EAAMW,UAAU,CAAE/R,IAAKkX,EAAK5L,GAAStL,OARjC,OASVqR,EAASD,GATC,2BAAAjZ,EAAA,MAWRiZ,EAAMa,aAXE,QAYdb,EAAMc,2BAA0B,SAAOC,GAAP,SAAAha,EAAAC,OAAA,oDACxB+Z,EAAeC,cADS,kCAAAja,EAAA,MAElBiZ,EAAMiB,eAFY,OAGxBtB,GAAa,GAHW,+DAZlB,6DA0BiD8O,IAAc/X,QAAM,EAACb,KAAM,GAAID,KAAM8J,EAAY,uBAAyB,sBAAuBnU,MAAO,UAAWgT,KAAM,UAAWhQ,eAAgB,CAACnD,aAAc,MAC9N,QACI,OAAO,8BAyFLgoB,GACF,cAAC,IAAD,CAAM3pB,MAAOmH,GAAOod,aAApB,SAAmClI,EAAK5L,GAASyV,WACjD,eAACjf,EAAA,EAAD,CAAMjH,MAAOmH,GAAOqd,aAApB,UACI,cAAC,IAAD,CAAOxkB,MAAOmH,GAAOsd,cAAe3X,aAAc,SAACvF,GAAQqf,EAAUrf,IAAOsF,MAAO8Z,IACnF,cAAC,IAAD,CAAQ1a,YAAa9E,GAAOud,iBAAkBpd,MAAOsd,GAAS5gB,EAAMhG,MAAM8jB,GAAI/c,QAAS,YAnEhF,uBAAAzH,EAAAC,OAAA,mDACbqsB,EADa,MACWjD,GADX,SACWA,EAAQtc,aADnB,EACW,EAAgBgd,cA7DhC,EAAA/pB,EAAAC,OAAA,kEAAAD,EAAA,MACRynB,KADQ,cAEdvO,EAAS,IAAIH,KAAMC,OAFL,WAAAhZ,EAAA,YAGRiZ,OAHQ,EAGRA,EAAOiB,eAHC,4DA+DdoP,EAAU,KAEK,KADTpnB,EAAS6c,EAAK5L,GAASyS,QAAQxa,SAASkhB,IAJ3B,wBAOfT,EAAQ7F,EAAO,GAPA,WAAAhmB,EAAA,MAQTmc,GAAgBzV,EAAM0D,SAAU1D,EAAMkF,OAAQmT,EAAK5L,GAAS7L,IAAI,IARvD,sCAWfiJ,EAAWrF,EAAU,GAXN,YAAAlL,EAAA,MAYTmc,GAAgBzV,EAAM0D,SAAU1D,EAAMkF,OAAQmT,EAAK5L,GAAS7L,IAAI,IAZvD,QAcnB6kB,EAAwBjqB,GAdL,6DAmEwFqqB,cErKpG,SAASzO,GAAKpX,GACzB,MAAwB6G,oBAAS,GAAjC,WAAOif,EAAP,KAAab,EAAb,KAEA,OACA,cAAChiB,EAAA,EAAD,CAAMjH,MAAOmH,GAAOpB,KAApB,SACM+jB,EACE,cAAC,GAAD,CACI9rB,KAAMgG,EAAMhG,KACZkL,OAAQlF,EAAMqF,KAAKD,IACnB1B,SAAU1D,EAAM0D,SAChB2B,KAAMrF,EAAMqF,KAAKE,QACjByU,OAAQha,EAAMga,OACdiL,QAASA,IAGb,cAAC,GAAD,CACIjrB,KAAMgG,EAAMhG,KACZ+qB,gBAAiB/kB,EAAM+kB,gBACvB1f,KAAMrF,EAAMqF,KACZ2U,OAAQha,EAAMga,OACdiL,QAASA,EACTH,WAAY9kB,EAAM8kB,eCbnB,SAAS9U,GAAKhQ,GACzB,MAAkC6G,oBAAS,GAA3C,WAAOiE,EAAP,KAAkBC,EAAlB,KACA,EAAsBlE,mBAAS,GAA/B,WAAOqW,EAAP,KAAYlD,EAAZ,KACA,EAAwBnT,mBAAS,IAAjC,WAAOxB,EAAP,KAAa0gB,EAAb,KACA,EAA4Blf,mBAAS,GAArC,WAAOV,EAAP,KAAe6f,EAAf,KACA,EAA4Bnf,oBAAS,GAArC,WAAO+a,EAAP,KAAeD,EAAf,KAEAhW,qBAAU,WxCkDP,IAAajI,KwC/CJ1D,EAAM0D,SxCgDXhL,GACFiL,KAAK,CAAED,SAAUA,IACjBE,KAAK,CAAEC,MAAO,IACdC,MAAK,SAACpK,EAAKwK,GAIR,OAHIxK,GACAyK,QAAQC,MAAM1K,GAEXwK,MwCvDapK,MAAK,SAACoK,GACtBA,EAAKtK,OAAS,IACdmsB,EAAQ7hB,GACR8hB,EAAUlgB,GAAa,EAAGT,EAAKzL,OAAS,KAE5CmR,GAAa,MAIjB,IA2BMgB,EAAcC,IAAYC,iBAC5B,qBA5Be,WAyBf,OAxBIiR,EAAM,EACM,IAARA,EACAjM,KAAMtJ,MACFiZ,GAAS5gB,EAAMhG,MAAM+jB,gBACrB6C,GAAS5gB,EAAMhG,MAAMgkB,WACrB,CACI,CACI1iB,KAAMslB,GAAS5gB,EAAMhG,MAAMsd,MAC3BvW,QAAS,aACT/E,MAAO,UAEX,CACIV,KAAMslB,GAAS5gB,EAAMhG,MAAM8jB,GAC3B/c,QAAS,WACLiZ,EAAO,OAMtBA,EAAO,GAEZha,EAAM2V,QAAQ,OAEX,KAMX,OAAO,WACH5J,EAAYG,YAEjB,CAACgR,EAAK0E,IAET,IAAMmD,EAAkB,WACpB,GAAI1f,EAAKzL,OAAS,EAAG,CACjB,IAAIqsB,EvC7DkB,SAArBC,EAAsBC,EAASpgB,EAAKC,GAE7C,OADAogB,WAAatgB,GAAaC,EAAKC,GAC3BogB,YAAcD,EACPD,EAAmBC,EAASpgB,EAAKC,GACrCogB,WuCyDYF,CAAmB/f,EAAQ,EAAGd,EAAKzL,OAAS,GACvDosB,EAAUC,KAsDlB,OAAO,cAAChjB,EAAA,EAAD,CAAMjH,MAAOmH,GAAOpB,KAApB,SAjDS,IAARmb,EAEI,cAAC,GAAD,CACIlD,OAAQA,EACRhgB,KAAMgG,EAAMhG,KACZ2b,QAAS3V,EAAM2V,QACftQ,KAAMA,EACNyF,UAAWA,IAGJ,IAARoS,EACA,cAAC9F,GAAD,CACH/R,KAAMA,EAAKc,GACX2e,WAAYzf,EAAKzL,OACjBI,KAAMgG,EAAMhG,KACZ0J,SAAU1D,EAAM0D,SAChBsW,OAAQA,EACR+K,gBAAiBA,IAEN,IAAR7H,EAEH,cAACwG,GAAD,CACIrP,QAASvJ,EACTkP,OAAQA,EACRhgB,KAAMgG,EAAMhG,KACZ2b,QAAS3V,EAAM2V,QACftQ,KAAMA,EACN3B,SAAU1D,EAAM0D,SAChBke,OAAQA,EACRD,UAAWA,IAGJ,IAARzE,EACA,cAAC,IAAD,4BACQ,IAARA,EAEH,cAACqH,GAAD,CACI7gB,SAAU1D,EAAM0D,SAChBsW,OAAQA,EACRhgB,KAAMgG,EAAMhG,KACZ2b,QAAS3V,EAAM2V,QACfgM,UAAWA,IAIZ,cAAC,IAAD,4BCxHJ,SAASrS,GAAWtV,EAAM0J,GAAW,IAAD,UAC/C,MAAO,CACH,CACIyE,KAAI,SAAE6I,GAAehX,SAAjB,EAAE,EAAsB6V,MAC5B3H,KAAM,eACNme,gBAAiB,SAACrsB,EAAM2b,GACpB,OACI,cAAC9F,GAAD,CAAO7V,KAAMA,EAAM2b,QAASA,EAASjS,SAAUA,MAI3D,CACIyE,KAAI,SAAE6I,GAAehX,SAAjB,EAAE,EAAsB8V,aAC5B5H,KAAM,eACNme,gBAAiB,SAACrsB,EAAM2b,GACpB,OAAO,OAGf,CACIxN,KAAI,SAAE6I,GAAehX,SAAjB,EAAE,EAAsBgW,KAC5B9H,KAAM,sBACNme,gBAAiB,SAACrsB,EAAM2b,GACpB,OACI,cAAC3F,GAAD,CAAMhW,KAAMA,EAAM2b,QAASA,EAASjS,SAAUA,MAI1D,CACIyE,KAAI,SAAE6I,GAAehX,SAAjB,EAAE,EAAsBiW,oBAC5B/H,KAAM,wBACNme,gBAAiB,SAACrsB,EAAM2b,GACpB,OAAO,OAGf,CACIxN,KAAI,SAAE6I,GAAehX,SAAjB,EAAE,EAAsB+V,WAC5B7H,KAAM,cACNme,gBAAiB,SAACrsB,EAAM2b,GACpB,OACI,cAAC5F,GAAD,CACI/V,KAAMA,EACN2b,QAASA,EACTjS,SAAUA,OC7CnB1G,WAAWC,OAAO,CAC7B6D,eAAgB,CACZvD,WAAY,SACZH,UAAW,GACXO,aAAc,IAElBsK,YAAa,CACTzJ,MAAO,IACPrB,OAAQ,GACRkC,eAAgB,cAEpBgR,kBAAmB,CACf7R,MAAO,IACPrB,OAAQ,GACRiB,gBAAiB,OAErBmS,iBAAkB,CACd/R,MAAO,IACPrB,OAAQ,GACRiB,gBAAiB,YCdV,SAASkR,GAAWtP,GAC/B,MAAwB6G,qBAAxB,WAAOyf,EAAP,KAAa3Q,EAAb,KACA,OAAO2Q,GAGH,cAACnZ,EAAA,EAAD,CAAYnR,MAAO,CAAEsB,KAAM,GAA3B,SACKipB,GAAevmB,EAAMhG,MAAQ,KAAMgG,EAAM0D,UAAU2J,KAAI,SAAC/I,EAAIzI,GACzD,OACI,cAAC,IAAD,CACIqM,KAAM,CACFC,KAAM7D,EAAG4D,KACT4I,KAAM,UACN1I,KAAM,GACNtK,MAAO,SAGX0oB,aAAc,OACdzV,mBAAoB,CAAEzC,YAAa,IACnCrG,YAAa9E,GAAO8E,YACpBnH,eAAgBqC,GAAOrC,eACvBwC,MAAOgB,EAAG6D,KACVpH,QAAS,SAACwC,GACNoS,EACIrR,EAAG+hB,gBAAgBrmB,EAAMhG,MAAQ,KAAM2b,MAR1C9Z,QCpBdmB,IAAWC,OAAO,ICIlB,SAASsS,GAAMvP,GAC1B,OACI,cAACmN,EAAA,EAAD,CAAYnR,MAAO,CAAEsB,KAAM,GAA3B,SACI,cAACvB,EAAA,EAAD,qBCCZ,IAAM0qB,GAAMC,eAEG,SAASC,GAAK3mB,GAAQ,IAAD,MAChC,OACI,eAACymB,GAAIG,UAAL,CACIC,cAAe,CACXC,YAAa,CAAC,CAAE3pB,OAAQ,GAAIW,MAAO,YACnCipB,iBAAkB,CAAC,CAAEjpB,MAAO,UAAWH,aAAc,MAH7D,UAMI,cAAC8oB,GAAIO,OAAL,CACIC,QAAS,CACLC,aAAa,EACbC,WAAY,YAAkB,IAAfC,EAAc,EAAdA,QACX,OACI,cAAC,IAAD,CACItW,KAAM,UACNhT,MAAO,UACPqK,KAAI,mBACAif,EAAU,GAAK,gBAMnCjf,KAAI,SAAE6I,GAAehR,EAAMhG,YAAvB,EAAE,EAA4BsV,WAClC+X,SAAU,kBACN,cAAC,GAAD,CAAYrtB,KAAMgG,EAAMhG,KAAM0J,SAAU1D,EAAM0D,cAGtD,cAAC+iB,GAAIO,OAAL,CACIC,QAAS,CACLC,aAAa,EACbC,WAAY,YAAkB,IAAfC,EAAc,EAAdA,QACX,OACI,cAAC,IAAD,CACItW,KAAM,UACNhT,MAAO,UACPqK,KAAI,QAASif,EAAU,GAAK,gBAK5Cjf,KAAI,SAAE6I,GAAehR,EAAMhG,YAAvB,EAAE,EAA4BuV,MAClC8X,SAAU,kBAAM,cAAC9X,GAAD,CAAOvV,KAAMgG,EAAMhG,UAEvC,cAACysB,GAAIO,OAAL,CACIC,QAAS,CACLC,aAAa,EACbC,WAAY,YAAkB,IAAfC,EAAc,EAAdA,QACX,OACI,cAAC,IAAD,CACItW,KAAM,UACNhT,MAAO,UACPqK,KAAI,YAAaif,EAAU,GAAK,gBAKhDjf,KAAI,SAAE6I,GAAehR,EAAMhG,YAAvB,EAAE,EAA4BwV,SAClC6X,SAAU,SAAC9jB,GAAD,OACN,cAACiM,GAAD,CACIxV,KAAMgG,EAAMhG,KACZP,SAAQ,MAAEuG,OAAF,EAAEA,EAAOvG,SACjB2M,OAAQpG,EAAMoG,OACd1C,SAAU1D,EAAM0D,SAChBqF,YAAa/I,EAAM+I,oB,wBC1E5B/L,OAAWC,OAAO,CAC7BI,UAAW,CACPE,WAAY,SACZC,aAAc,SACdG,aAAc,GACda,MAAO,OACPJ,gBAAiB,SAErBkpB,UAAW,CACPlqB,WAAY,GACZoB,MAAO,IACPrB,OAAQ,IACRQ,cAAe,IAEnB4pB,SAAU,CACN/oB,MAAO,OACPoQ,QAAS,IAEb4Y,QAAS,CACL7Y,SAAU,WACVnQ,MAAO,OACPrB,OAAQ,OACRyR,QAAS,IAEb5E,SAAU,CACN5M,WAAY,GACZoB,MAAO,IACPrB,OAAQ,IACRQ,cAAe,GACfS,gBAAiB,SAErBX,QAAS,CACLC,SAAU,GACVI,MAAO,UACPV,UAAW,GACX6M,OAAQ,GAEZsK,QAAS,CACLjG,YAAa,GACb9P,MAAO,QAEXipB,YAAa,CACTnqB,KAAM,EACNkB,MAAO,QAEXkpB,QAAS,CACLhqB,SAAU,IAEdiqB,QAAS,CACLpqB,WAAY,SACZC,aAAc,SACdgB,MAAO,U,qkBCpCA,SAAS8Q,KAAc,IAAD,IACjC,EAAgCzI,mBAAS+gB,YAAU,OAAS,KAA5D,WAAOlkB,EAAP,KACA,GADA,KAC4BmD,sBAA5B,WAAOT,EAAP,KAAeyhB,EAAf,KACA,EAAgChhB,qBAAhC,WAAOrF,EAAP,KAAiBuH,EAAjB,KACA,EAAkClC,oBAAS,GAA3C,WAAOiE,EAAP,KAAkBC,EAAlB,KAEM9K,EAAWC,cACXc,EAAK,SAAG0K,oBAAH,EAAG,EAAe1K,MACvBhH,GAAY,MAALgH,OAAA,EAAAA,EAAOhH,OAAQ,KAEtBwI,EAAe7J,EAAQ,KACvBmvB,EAAWnvB,EAAQ,KAEzBgT,qBAAU,W9CuCP,IAAiB/K,K8CtCD8C,EAAS9C,G9CuCrBlI,GAAGc,UAAU,CAAE4L,IAAKxE,K8CtClB9G,MAAK,SAAC0B,GAAY,IAAD,EACTA,GAA6B,KAAb,MAANA,OAAA,EAAAA,EAAQ5B,SACnBqG,EAAS,SAEb4nB,EAAUrsB,EAAO,IACjBuN,EAAW,SAACvN,EAAO,SAAR,EAAC,EAAWgG,UACvBuJ,GAAa,MAEhBrE,OAAM,SAAChN,GACJyK,QAAQwC,IAAIjN,GACZuG,EAAS,QAAS,CACde,MAAO,CAAEvH,SAAQ,MAAEuH,OAAF,EAAEA,EAAOvH,SAAUO,KAAMA,QAGtD,IAMM+R,EAAcC,IAAYC,iBAC5B,qBAPe,WAIf,OAHAhM,EAAS,QAAS,CACde,MAAO,CAAEvH,SAAQ,MAAEuH,OAAF,EAAEA,EAAOvH,SAAUO,KAAMA,MAEvC,KAMX,OAAO,kBAAM+R,EAAYG,YAC1B,IAEH,IAAM6b,EAAQ,SACPC,MADO,IAEVC,OAAO,SACAD,KAAaC,QADd,IAEFC,WAAY,kBAIpB,OAAIpd,EAEI,cAAC0B,EAAA,EAAD,CACI1O,MAAO,OACPsK,KAAM,QACNpM,MAAO,CAAEoB,UAAW,OAK5B,qCACI,eAAC6F,EAAA,EAAD,CAAMjH,MAAOmH,GAAO9F,UAApB,UACI,cAAC,EAAD,CACImF,aAAcA,EACdM,YAAaI,KACbX,YAAaY,GAAOmkB,UACpBvkB,WAAYI,GAAO6G,SACnBvH,MAAM,EACNE,UAAU,IAEd,cAAC,IAAD,CAAM3G,MAAOmH,GAAO1F,QAApB,UACK,SAAAuT,GAAehX,SAAf,IAAsBsF,MAAMkC,KAAa,UAGlD,cAAC,IAAD,CAAS1D,MAAO,OAAQU,MAAO,EAAGxC,MAAOmH,GAAOoR,UAEhD,eAACtR,EAAA,EAAD,CAAMjH,MAAO,CAAEsB,KAAM,GAArB,UACI,cAAC2F,EAAA,EAAD,CAAMjH,MAAO,CAAEsB,KAAM,EAAGqR,SAAU,YAAlC,SACI,cAAC,EAAD,CACInM,aAAcslB,EACdhlB,YAAaqlB,KACb5lB,YAAaY,GAAOokB,SACpBxkB,WAAYI,GAAOqkB,QACnB/kB,MAAM,EACNE,UAAU,MAGlB,cAACylB,GAAA,EAAD,CAAqBC,MAAON,EAAU/rB,MAAO,CAAEiD,QAAS,KAAxD,SACI,cAAC0nB,GAAD,CACI3sB,KAAMA,EACNP,SAAQ,MAAE2M,OAAF,EAAEA,EAAQ5E,SAClBkC,SAAUA,EAAS9C,GACnBwF,OAAQA,EACR2C,YAAaA,YCvGrCuf,aCSe,WAAgB,IAAD,IAC1B,EAA4BzhB,qBAA5B,WAAO0hB,EAAP,KAAeC,EAAf,KACA,EAAkC3hB,oBAAS,GAA3C,WAAOiE,EAAP,KAAkBC,EAAlB,KAEAY,qBAAU,WACN8c,MACD,CAACA,IAEJ,IAAIC,GAAQ,SAAAC,UAAA,IAAqBjtB,MAAM,KAAK,KAAM,KAC5C1B,EAAO,CAAC,KAAM,MAAM0K,SAASgkB,GAASA,EAAQ,KAE9CD,EAAmBG,uBAAY,oBAAAtvB,EAAAC,OAAA,gDACjC,IACIsvB,IACF,MAAOnvB,GACLyK,QAAQC,MAAM1K,GAJe,8DAMlC,IAEGmvB,EAAY,oBAAAvvB,EAAAC,OAAA,gDACdF,IAAYS,MAAK,SAACC,GACdyuB,EAAUzuB,GACVgR,GAAa,MAHH,6DAOlB,OACI,eAAC9H,EAAA,EAAD,CAAMjH,MAAO,CAAEsB,KAAM,GAArB,UACI,cAACwrB,EAAA,EAAD,CAAWC,QAAQ,IAClBje,EACG,cAAC,GAAD,CACI9O,MAAO,CAAEsB,KAAM,EAAGC,WAAY,UAC9BjC,KAAI,SAAE0tB,EAAchvB,SAAhB,EAAE,EAAqBmB,gBAG/B,cAAC,IAAD,UACI,eAAC,IAAD,WACI,cAAC,IAAD,CACI8tB,OAAK,EACLpkB,KAAK,IACLqkB,QACI,cAAC,GAAD,CACI/vB,gBAAe,MAAEovB,OAAF,EAAEA,EAAQpvB,gBACzBa,KAAMA,EACNP,SAAQ,MAAE8uB,OAAF,EAAEA,EAAQ9uB,aAI9B,cAAC,IAAD,CACIwvB,OAAK,EACLpkB,KAAK,YACLqkB,QAAS,cAACpsB,GAAD,CAAgB9C,KAAMA,MAEnC,cAAC,IAAD,CACIivB,OAAK,EACLpkB,KAAK,QACLqkB,QACI,cAACre,GAAD,CACI1R,gBAAe,MAAEovB,OAAF,EAAEA,EAAQpvB,gBACzBa,KAAMA,EACNP,SAAQ,MAAE8uB,OAAF,EAAEA,EAAQ9uB,aAI9B,cAAC,IAAD,CACIoL,KAAK,kBACLqkB,QAAS,cAAC,GAAD,mB","file":"static/js/app.0b30a00a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/profile.5d930b6c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/trophy.04dc6604.gif\";","module.exports = __webpack_public_path__ + \"static/media/green.7a0722af.mp3\";","module.exports = __webpack_public_path__ + \"static/media/chooseusername.e9a02c29.gif\";","module.exports = __webpack_public_path__ + \"static/media/loading_brain.ef5884d9.gif\";","module.exports = __webpack_public_path__ + \"static/media/addedUser.8426bfb9.gif\";","module.exports = __webpack_public_path__ + \"static/media/loading.2460b043.gif\";","module.exports = __webpack_public_path__ + \"static/media/1.ede08671.png\";","module.exports = __webpack_public_path__ + \"static/media/2.b87932e3.png\";","module.exports = __webpack_public_path__ + \"static/media/3.3ed4e762.png\";","module.exports = __webpack_public_path__ + \"static/media/4.80535fcd.png\";","module.exports = __webpack_public_path__ + \"static/media/5.da0bedf3.png\";","module.exports = __webpack_public_path__ + \"static/media/6.7911d645.png\";","module.exports = __webpack_public_path__ + \"static/media/swipe-right.6dde9c7c.gif\";","module.exports = __webpack_public_path__ + \"static/media/brain.70fc8c58.gif\";","module.exports = __webpack_public_path__ + \"static/media/bg.59f6204f.gif\";","module.exports = __webpack_public_path__ + \"static/media/logo.097ce51b.png\";","module.exports = __webpack_public_path__ + \"static/media/logo.348cd96d.png\";","module.exports = __webpack_public_path__ + \"static/media/success.5d28b463.gif\";","module.exports = __webpack_public_path__ + \"static/media/sad.bfdab12f.gif\";","module.exports = __webpack_public_path__ + \"static/media/red.5974021a.mp3\";","module.exports = __webpack_public_path__ + \"static/media/yellow.9aaea662.mp3\";","module.exports = __webpack_public_path__ + \"static/media/thinking.e82f415e.gif\";","import AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst Datastore = require('react-native-local-mongodb');\n\nexport const db = new Datastore({\n    filename: 'ConfigSchema',\n    storage: AsyncStorage,\n    autoload: true,\n});\n\nexport function SawTutorial(bool) {\n    return db.updateAsync(\n        { hasSeenTutorial: { $exists: true } },\n        { hasSeenTutorial: bool }\n    );\n}\n\nexport async function setUsername(input) {\n    return db.updateAsync({ username: { $exists: true } }, { username: input });\n}\n\nexport async function getUsername() {\n    return db.findAsync({ username: { $exists: true } }, (err, docs) => {\n        return docs;\n    });\n}\n\nexport async function getConfig() {\n    // db.remove({});\n    // AsyncStorage.clear().then(() => console.log('Cleared'))\n    const username = await db\n        .findAsync({ username: { $exists: true } }, (err, docs) => {\n            if (docs.length === 0) {\n                db.insertAsync({\n                    username: '',\n                });\n                return null;\n            } else {\n                return docs[0].username;\n            }\n        })\n        .then((resp) => {\n            return resp[0]?.username || null;\n        });\n\n    const hasSeenTutorial = await db\n        .findAsync({ hasSeenTutorial: { $exists: true } }, (err, docs) => {\n            if (docs.length === 0) {\n                db.insertAsync({\n                    hasSeenTutorial: false,\n                });\n                return false;\n            } else {\n                return docs[0].hasSeenTutorial;\n            }\n        })\n        .then((resp) => {\n            return resp[0]?.hasSeenTutorial || false;\n        });\n    return { username, hasSeenTutorial };\n}\n\nexport function getPersons() {\n    return db.findAsync({ person: { $exists: true } });\n}\n\nexport function reset() {\n    return AsyncStorage.clear();\n}\n","import { Text } from 'react-native';\n\nconst applyBoldStyle = (text) => {\n    let numberOfItemsAdded = 0;\n    const result = text.sentence.split(/\\{\\d+\\}/);\n    text.boldText.forEach((boldText, i) =>\n        result.splice(\n            ++numberOfItemsAdded + i,\n            0,\n            <Text key={i} style={{ fontWeight: 'bold' }}>\n                {boldText}\n            </Text>\n        )\n    );\n    return <Text>{result}</Text>;\n};\n\nexport const lang = {\n    fr: {\n        // Input related\n        YourUsername: \"Votre nom d'utilisateur\",\n        ImportImage: 'Importer une image',\n        FullName: 'Nom complet',\n        SetFullName: 'Nom complet (2  25 caractres)',\n        Description: 'Description (facultatif)',\n        SetDescription: 'Courte description complmentaire',\n        RequiredField:\n            'Ce champs doit obligatoirement tre correctement rempli',\n        LimitExceededField: (limit) => {\n            return `Ce champs ne peut pas dpasser ${limit} caractres`;\n        },\n        Save: 'Enregistrer',\n        CreatedPerson: 'La personne a bien t rajoute  votre liste !',\n        EditedPerson: 'Le profil a t modifi avec succs !',\n        ReturnToForm: 'Retourner sur le formulaire',\n\n        // Modal related\n        Yes: 'Oui',\n        No: 'Non',\n        AreYouSure: 'En tes vous sr ?',\n        DeletePerson: (username) => {\n            return `Vous tes sur le point de supprimer le profil de ${username}. Cette action est irrversible ! Tout les scores et enregistrements attachs  cette personne seront aussi effacs. tes-vous sr(e) de vouloir continuer ?`;\n        },\n\n        // Loading related\n        GlobalLoading: 'Application en cours de chargement...',\n    },\n    en: {\n        // Input related\n        YourUsername: 'Your username',\n        ImportImage: 'Import a picture',\n        FullName: 'Full name',\n        SetFullName: 'Set full name (between 2-25 characters)',\n        Description: 'Description (optional)',\n        SetDescription: 'Short complementary description',\n        RequiredField: 'This field is required',\n        LimitExceededField: (limit) => {\n            return `This field cannot exceed ${limit} characters`;\n        },\n        Save: 'Save',\n        CreatedPerson: 'The person has been successfully added to your list!',\n        EditedPerson: 'The profile has been successfully edited!',\n        ReturnToForm: 'Return to the form',\n\n        // Modal related\n        Yes: 'Yes',\n        No: 'No',\n        AreYouSure: 'Are you sure?',\n        DeletePerson: (username) => {\n            return `You are about to delete ${username}'s profile. This action cannot be undone. All the score and recording will also be deleted. Are you sure to continue?`;\n        },\n\n        // Loading related\n        GlobalLoading: 'Application loading...',\n    },\n};\n","import { Text } from 'react-native';\n\nconst applyBoldStyle = (text) => {\n    let numberOfItemsAdded = 0;\n    const result = text.sentence.split(/\\{\\d+\\}/);\n    text.boldText.forEach((boldText, i) =>\n        result.splice(\n            ++numberOfItemsAdded + i,\n            0,\n            <Text key={i} style={{ fontWeight: 'bold' }}>\n                {boldText}\n            </Text>\n        )\n    );\n    return <Text>{result}</Text>;\n};\n\nexport const lang = {\n    fr: {\n        // First step of the tutorial\n        Step1Header: 'Bienvenue sur AlzheimApp',\n        Step1Content: () => {\n            return applyBoldStyle({\n                sentence:\n                    \"{0} est une application qui permet de raliser un suivi et d'accompagner les personnes atteintes de la maladie d'Alzheimer avec diffrents jeux et exercices tout aussi ludiques les uns que les autres.\",\n                boldText: ['AlzheimApp'],\n            });\n        },\n\n        // Second step of the tutorial\n        Step2Header: 'Aucune connexion internet requise',\n        Step2Content:\n            \"Vos donnes ne sont pas sauvegardes sur des serveurs. Vos donnes vous appartenant, tout est stock localement sur votre appareil. Mme en mode avion, l'application fonctionnera normalement.\",\n\n        // Third step of the tutorial\n        Step3Header: 'Partagez le suivi',\n        Step3Content: () => {\n            return applyBoldStyle({\n                sentence:\n                    \"Vous tes une structure hospitalire ou une famille, et dsirez partager le suivi d'une personne ? C'est possible, le partage est ralisable entre deux appareils par {0} !\",\n                boldText: ['Bluetooth'],\n            });\n        },\n\n        // Fourth step of the tutorial\n        Step4Header: '100% gratuit',\n        Step4Content: () => {\n            return applyBoldStyle({\n                sentence:\n                    \"{0}. Il n'y a pas de pige, seulement que l'accompagnement doit se faire gratuitement, la sant doit tre accessible pour tous, sans aucun prix.\",\n                boldText: ['Entirement gratuit, sans publicit'],\n            });\n        },\n\n        // Fifth step of the tutorial\n        Step5Header: '100% open source',\n        Step5Content:\n            \"Vous tes dveloppeur ? Le code de l'application est accessible par tous et pour tous ! Vous tes libres d'y ajouter les modifications que vous souhaitez localement !\",\n\n        // Last step of the tutorial\n        LastStepHeader: 'Prt(e)  commencer ?',\n        LastStepButton: 'PRT(E)',\n\n        ChooseUsername: \"Choisissez votre nom d'utilisateur\",\n        WhatIsUsername: () => {\n            return applyBoldStyle({\n                sentence:\n                    \"Ce nom d'utilisateur correspond au nom de la personne qui s'occupe de la personne atteinte de l'Alzheimer (ou {0} en anglais), ou de votre nom si vous tes vous mme un jeune malade.\",\n                boldText: ['Caregiver'],\n            });\n        },\n    },\n    en: {\n        // First step of the tutorial\n        Step1Header: 'Welcome to AlzheimApp',\n        Step1Content: () => {\n            return applyBoldStyle({\n                sentence:\n                    \"{0} is an application which would help you create a trace and to accompagny people with Alzheimer's disease with various games and exercices each just as fun as the next.\",\n                boldText: ['AlzheimApp'],\n            });\n        },\n\n        // Second step of the tutorial\n        Step2Header: 'No internet connection required',\n        Step2Content:\n            'Your data are not saved in a server. Your datas belongs to you, so everything is locally saved in your device. You can even use this application in airplane mode.',\n\n        // Third step of the tutorial\n        Step3Header: 'Share the follow-up',\n        Step3Content: () => {\n            return applyBoldStyle({\n                sentence:\n                    \"Your are a hospital or a family, and wants to share the follow-up of a specific person? It's possible, you can share data between two devices with {0} technology!\",\n                boldText: ['Bluetooth'],\n            });\n        },\n\n        // Fourth step of the tutorial\n        Step4Header: '100% free',\n        Step4Content: () => {\n            return applyBoldStyle({\n                sentence:\n                    '{0}. There is no trap, just that the accompaniment must be free, because health must be accessible to all, at no cost.',\n                boldText: ['Completly free, without any ad'],\n            });\n        },\n\n        // Fifth step of the tutorial\n        Step5Header: '100% opensource',\n        Step5Content:\n            'You are a developer? The source code of the application is available for everyone! You are free to modify it locally or asks for merge requests..',\n\n        // Last step of the tutorial\n        LastStepHeader: 'Ready to start?',\n        LastStepButton: 'READY',\n\n        ChooseUsername: 'Choose your username',\n        WhatIsUsername: () => {\n            return applyBoldStyle({\n                sentence:\n                    \"This is the Alzheimer ${0} username. If you are yourself diagnosed with the Alzheimer's disease, you can set your own name or username in this field.\",\n                boldText: ['Caregiver'],\n            });\n        },\n    },\n};\n","import { StyleSheet } from 'react-native';\n\nexport default StyleSheet.create({\n    wrapper: {\n        height: 200,\n        marginTop: 30,\n    },\n    container: {\n        flex: 1,\n        alignItems: 'center',\n        alignContent: 'center',\n    },\n    heading: {\n        fontSize: 20,\n        fontWeight: 'bold',\n        marginBottom: 20,\n        marginHorizontal: 25,\n        marginHorizontal: 40,\n        textAlign: 'center',\n        color: 'black',\n    },\n    description: {\n        fontSize: 15,\n        marginBottom: 20,\n        marginHorizontal: 25,\n        marginHorizontal: 40,\n        textAlign: 'center',\n        color: 'grey',\n    },\n    textInput: {\n        height: 40,\n        borderColor: 'gray',\n        borderRadius: 20,\n        paddingHorizontal: 20,\n        color: 'black',\n        backgroundColor: 'white',\n        shadowOpacity: 0.5,\n        shadowRadius: 3,\n        shadowOffset: {\n            height: 0,\n            width: 0,\n        },\n        elevation: 2,\n    },\n    image: {\n        flex: 1,\n        width: 200,\n    },\n    buttonContainer: {\n        alignItems: 'stretch',\n        width: 100,\n    },\n    button: {\n        backgroundColor: 'rgba(40, 30, 255, 0.8)',\n        borderRadius: 10,\n        width: 80,\n        marginLeft: 10,\n    },\n    buttonText: {\n        paddingTop: 10,\n        color: 'white',\n        textAlign: 'center',\n    },\n    slide: {\n        flex: 1,\n        padding: 20,\n    },\n    viewrow: {\n        alignContent: 'center',\n        width: 100 + '%',\n        flexDirection: 'row',\n        flexWrap: 'nowrap',\n        justifyContent: 'center',\n    },\n});\n","import { Text } from 'react-native';\n\nconst applyBoldStyle = (text) => {\n    let numberOfItemsAdded = 0;\n    const result = text.sentence.split(/\\{\\d+\\}/);\n    text.boldText.forEach((boldText, i) =>\n        result.splice(\n            ++numberOfItemsAdded + i,\n            0,\n            <Text key={i} style={{ fontWeight: 'bold', color: '#3B8EFF' }}>\n                {boldText}\n            </Text>\n        )\n    );\n    return <Text>{result}</Text>;\n};\n\nexport const lang = {\n    fr: {\n        Hello: (username) => {\n            return applyBoldStyle({\n                sentence: 'Bonjour {0} !',\n                boldText: [username],\n            });\n        },\n        WhatsUp: \"Que souhaitez-vous faire aujourd'hui ?\",\n        AddAPerson: 'Ajouter une personne',\n        Edit: 'diter',\n        Delete: 'Supprimer',\n        ReturnToList: 'Retour  la liste',\n        NobodyYet: 'La liste est vide (pour le moment...)',\n        WrongFullname:\n            'Le nom complet est obligatoire et doit contenir entre 2 et 25 caractres',\n        Search: 'Rechercher une personne',\n    },\n    en: {\n        Hello: (username) => {\n            return applyBoldStyle({\n                sentence: 'Hello {0}!',\n                boldText: [username],\n            });\n        },\n        WhatsUp: 'What are you about to produce today?',\n        AddAPerson: 'Add a person',\n        Edit: 'Edit',\n        Delete: 'Delete',\n        ReturnToList: 'Return to the list',\n        NobodyYet: 'The list is empty (for the moment...)',\n        WrongFullname:\n            'The full name is required and must contains between 2 and 25 characters',\n        Search: 'Search a person',\n    },\n};\n","import React from 'react';\nimport { ListItem, Avatar } from 'react-native-elements';\nimport { Platform } from 'react-native';\n\nimport DefaultProfilePicture from '../../assets/img/interface/profile.jpg';\nimport { useNavigate } from 'react-router-native';\n\nexport default function Rows(props) {\n    const navigate = useNavigate();\n\n    var TouchableScale =\n        Platform.OS !== 'web'\n            ? require('react-native-touchable-scale').default\n            : null;\n    let mod =\n        props.index % 2 === 0\n            ? { backgroundColor: 'white' }\n            : { backgroundColor: '#f3f3f3' };\n    let componentProps =\n        Platform.OS !== 'web'\n            ? {\n                  Component: TouchableScale,\n                  key: props.id,\n                  bottomDivider: true,\n                  containerStyle: mod,\n              }\n            : { key: props.id, bottomDivider: true, containerStyle: mod };\n    return (\n        <ListItem\n            {...componentProps}\n            onPress={() => {\n                navigate(`/activities/${props.id}`, {\n                    state: {\n                        lang: props.lang ?? 'fr',\n                        username: props.username,\n                    },\n                });\n            }}\n        >\n            <Avatar\n                source={\n                    props?.picture\n                        ? { uri: props.picture }\n                        : DefaultProfilePicture\n                }\n                rounded\n            />\n            <ListItem.Content>\n                <ListItem.Title>{props.fullname}</ListItem.Title>\n                <ListItem.Subtitle>{props.description}</ListItem.Subtitle>\n            </ListItem.Content>\n            <ListItem.Chevron color=\"grey\" />\n        </ListItem>\n    );\n}\n","import { StyleSheet } from 'react-native';\n\nexport default StyleSheet.create({\n    rightButton: {\n        minHeight: '100%',\n        backgroundColor: 'red',\n    },\n    imageSuccess: {\n        width: 300,\n        height: 300,\n    },\n    leftButton: {\n        minHeight: '100%',\n    },\n    view: {\n        alignItems: 'center',\n        alignSelf: 'center',\n        marginVertical: 20,\n        width: 100 + '%',\n    },\n    btnImport: {\n        borderRadius: 50,\n        width: 220,\n    },\n    btnSave: {\n        width: 290,\n    },\n    profilePicture: {\n        width: 100,\n        height: 100,\n        borderRadius: 100,\n        marginBottom: 10,\n    },\n    successPageTitle: {\n        alignSelf: 'center',\n        width: 250,\n        textAlign: 'center',\n        fontWeight: 'bold',\n        fontSize: 24,\n        color: '#788bff',\n        marginBottom: 10,\n    },\n});\n","import React from 'react';\nimport LottieView from 'lottie-react-native';\nimport { Platform, Image } from 'react-native';\n\nconst Lottie = (props) => {\n    {\n        return Platform.OS !== 'web' ? (\n            <LottieView\n                style={props.LottieStyle}\n                source={props.LottieSource}\n                loop={props.hasOwnProperty('loop') ? props.loop : true}\n                autoPlay={\n                    props.hasOwnProperty('autoPlay') ? props.autoPlay : true\n                }\n                resizeMode=\"cover\"\n            />\n        ) : (\n            <Image source={props.ImageSource} style={props.ImageStyle} />\n        );\n    }\n};\n\nexport default Lottie;\n","import React from 'react';\nimport { View, Text, Platform } from 'react-native';\nimport { Button, Image } from 'react-native-elements';\nimport Lottie from '../../../components/utils/Lottie';\n\nimport SuccessImage from '../../../assets/img/home/addedUser.gif';\n\nimport styles from '../styles';\n\nimport { lang as InterfaceLang } from '../../../language/interface';\n\nexport default function Success(props) {\n    const LottieSource = require('../../../assets/img/home/addedUser.json');\n\n    return (\n        <View>\n            <Lottie\n                LottieSource={LottieSource}\n                ImageSource={SuccessImage}\n                LottieStyle={styles.imageSuccess}\n                ImageStyle={styles.imageSuccess}\n                loop={false}\n                autoPlay={true}\n            />\n            <Text style={styles.successPageTitle}>\n                {props.edit === false\n                    ? InterfaceLang[props.lang].CreatedPerson\n                    : InterfaceLang[props.lang].EditedPerson}\n            </Text>\n            <Button\n                title={InterfaceLang[props.lang].ReturnToForm}\n                style={{ backgroundColor: 'grey' }}\n                onPress={(e) => {\n                    props.close();\n                }}\n            />\n        </View>\n    );\n}\n","import AsyncStorage from '@react-native-async-storage/async-storage';\nimport * as FileSystem from 'expo-file-system';\n\nconst Datastore = require('react-native-local-mongodb');\n\nexport const db = new Datastore({\n    filename: 'DictaphoneSchema',\n    storage: AsyncStorage,\n    autoload: true,\n});\n\nexport function create(record) {\n    return db.insertAsync({\n        name: record.name,\n        date: new Date(),\n        path: record.path,\n        personId: record.personId,\n    });\n};\n\nexport function get(personId) {\n    return db\n        .find({ personId: personId })\n        .sort({ date: -1 })\n        .exec((err, datas) => {\n            return datas;\n        });\n};\n\nexport async function del(personId, id) {\n    const data = await db\n        .find({ personId: personId, _id: id })\n        .exec((err, res) => {\n            return res;\n        });\n    if (data) {\n        await FileSystem.deleteAsync(data[0].path);\n    }\n    return db.removeAsync({ _id: id, personId: personId });\n};\n\nexport function clear() {\n    return db.removeAsync({}, { multi: true });\n};","import AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst Datastore = require('react-native-local-mongodb');\n\nexport const db = new Datastore({\n    filename: 'SimonSchema',\n    storage: AsyncStorage,\n    autoload: true,\n});\n\nexport function getBestScore(personId) {\n    return db\n        .find({ personId: personId })\n        .sort({ score: -1 })\n        .exec((err, data) => {\n            if (err) {\n                console.error(err);\n            }\n            return data;\n        });\n}\n\nexport function getScoreDay(personId, date) {\n    return db\n        .find({ personId: personId, date: date })\n        .sort({ score: -1 })\n        .exec((err, data) => {\n            if (err) {\n                console.error(err);\n            }\n            return data;\n        });\n}\n\nexport function getScore(personId) {\n    return db\n        .find({ personId: personId })\n        .sort({ date: -1 })\n        .exec((err, data) => {\n            if (err) {\n                console.error(err);\n            }\n            return data;\n        });\n}\n\nexport function insertScore(personId, score, date) {\n    return db.insertAsync({\n        personId: personId,\n        date: date,\n        score: score,\n    });\n}\n\nexport function clear(personId) {\n    return db.removeAsync({ personId: personId }, { multi: true });\n}\n","import AsyncStorage from '@react-native-async-storage/async-storage';\nimport { _DEFAULT_PROGRESS_UPDATE_INTERVAL_MILLIS } from 'expo-av/build/AV';\nimport * as FileSystem from 'expo-file-system';\n\nimport { v4 as uuidv4 } from 'uuid';\n\nconst Datastore = require('react-native-local-mongodb');\n\n/* ******************** ******************* ****************  ****************  **************** ///\n\n                                Please don't take this seriously, it's just a draft\n                            (but before i go and hit the road, i gotta know THE SCHEMA)\n                                     ------------------------------------------\n\n    quizs = [\n        {\n            _id: somerandomidofaquiz,\n            name: the_quiz_name, (string)\n            personId: [personIdNumber1, personIdNumber2, ...], (array of personId, so a quiz can be shared in the future)\n            content: [\n                {\n                    id: randomUuid, (string)\n                    type: 'text' | 'audio' | 'image', (the kind of imported file)\n                    uri: theFileUri, (the file uri if there's one)\n                    question: 'When can I see you again?',\n                    answers: [\n                        'where we can do this again',\n                        'i gotta know'\n                    ], (array of possible answers)\n                    score: [\n                        {\n                            personId: personIdNumber1,\n                            success: 12,\n                            failed: 3\n                        },\n                        {\n                            personId: personIdNumber2,\n                            success: 39,\n                            failed: 0\n                        },\n                    ]\n                }\n            ] (array of the questions)\n        }\n    ]\n\n                                (it's been fun but now i got to gooooo)\n/* ******************** ******************* ****************   ****************  **************** */\n\nexport const db = new Datastore({\n    filename: 'QuizSchema',\n    storage: AsyncStorage,\n    autoload: true,\n});\n\nconst createQuizContent = async (personId, el) => {\n    el.id = uuidv4();\n    el.score = [{personId: personId, success: 0, failed: 0}];\n    if (['audio', 'image'].includes(el.fileType)) {\n        await uploadQuizFile(el);\n    }\n};\n\nconst uploadQuizFile = async (el) => {\n    const filename = `${uuidv4()}${el.fileType == 'audio' ? '.m4a' : '.png'}`;\n    const path = `${FileSystem.documentDirectory}quiz/${el.fileType}/`;\n    await FileSystem.copyAsync({\n        from: el.uri,\n        to: `${path}${filename}`\n    });\n    await FileSystem.deleteAsync(el.uri);\n    el.uri = `${path}${filename}`;\n};\n\nexport function get(personId) {\n    return db\n        .find({ personId: personId })\n        .sort({ date: -1 })\n        .exec((err, data) => {\n            if (err) {\n                console.error(err);\n            }\n            return data;\n        });\n}\n\nexport async function create(personId, quiz) {\n    if (!quiz.name || quiz.content?.length === 0) {\n        console.error('Please fill the required fields');\n        return null;\n    }\n    for (let i = 0; i < quiz.content.length; i++) {\n        const el = quiz.content[i];\n        await createQuizContent(personId, el);\n    }\n    return db.insertAsync({ ...quiz }, (err, result) => {\n        if (err) {\n            console.error(err);\n            return null;\n        } else {\n            return result;\n        }\n    });\n};\n\nexport async function updateScore(personId, quizId, contentId, success) {\n    const quiz = await db.findAsync({ _id: quizId, personId: personId }, (err, data) => {\n        if (err) console.error(err);\n        return data;\n    });\n    const contentIndex = quiz[0].content.findIndex(el => el.id == contentId );\n    const scoreIndex = quiz[0].content[contentIndex].score.findIndex(el => el.personId = personId);\n    if (success) quiz[0].content[contentIndex].score[scoreIndex].success++\n    else quiz[0].content[contentIndex].score[scoreIndex].failed++\n    return db.updateAsync({_id: quizId}, {...quiz[0]});\n};\n\nexport async function deleteId(personId, quizId) {\n    const quiz = await db.findAsync({ _id: quizId, personId: personId }, (err, data) => {\n        if (err) console.error(err);\n        return data;\n    });\n    for (let i = 0; i < quiz[0].content.length; i++) {\n        const el = quiz[0].content[i];\n        if (['audio', 'image'].includes(el.fileType))\n            await FileSystem.deleteAsync(el.uri);\n    }\n    return db.removeAsync({ _id: quizId, personId: personId });\n};\n\nexport async function deleteQuestion(quizId, questionId) {\n    const quiz = await db.findAsync({ _id: quizId}, (err, data) => {\n        if (err) console.error('cannot find quiz:', err);\n        return (data);\n    });\n    const content = quiz[0].content;\n    const contentIndex = content.findIndex(el => el.id == questionId );\n    if (['audio', 'image'].includes(content[contentIndex]))\n        await FileSystem.deleteAsync(content.uri);\n    quiz[0].content = content.splice(0, contentIndex);\n    return db.updateAsync({_id: quizId}, {...quiz[0]})\n};\n\nexport async function getById(quizId) {\n    return db.findAsync({ _id: quizId }, (err, data) => {\n        if (err) console.error('cannot find quiz:', err);\n        return (data);\n    });\n};\n\nexport async function saveQuiz(personId, quizId, content) {\n    const quiz = await db.findAsync({ _id: quizId}, (err, data) => {\n        if (err) console.error('cannot find quiz:', err);\n        return (data);\n    });\n    if (!quiz) return;\n    for (let i = 0; i < content.length; i++) {\n        const el = content[i];\n        if (!el.id)\n            await createQuizContent(personId, el);\n        else if (el.id && el.editedFile) {\n            await uploadQuizFile(el);\n            delete el.editedFile;\n        }\n    }\n    quiz[0].content = content;\n    return db.updateAsync({_id: quizId}, {...quiz[0]});\n};\n\nexport async function reset() {\n    return db.removeAsync({}, { multi: true });\n};\n","export const pushErrors = (errors, field, msg) => {\n    if (errors.hasOwnProperty(field)) {\n        errors[field] = msg;\n    } else {\n        errors[field] = msg;\n    }\n    return errors;\n};\n\nexport const randomNumber = (min, max) => {\n    return Math.floor(Math.random() * (max - min + 1) + min)\n};\n\nexport const randomArrayElement = (exclude, min, max) => {\n    randNumber = randomNumber(min, max);\n    if (randNumber == exclude)\n        return randomArrayElement(exclude, min, max);\n    return randNumber;\n};","import AsyncStorage from '@react-native-async-storage/async-storage';\nimport * as FileSystem from 'expo-file-system';\n\nimport { db as DictaphoneDB } from './dictaphoneApi';\nimport { db as SimonDB } from './simonApi';\nimport { db as QuizDB } from './quizApi'\n\nimport { pushErrors } from '../utils/helpers';\n\nconst Datastore = require('react-native-local-mongodb');\n\nexport const db = new Datastore({\n    filename: 'PersonSchema',\n    storage: AsyncStorage,\n    autoload: true,\n});\n\nexport function create(person) {\n    var err = [];\n    if (\n        !person?.fullname ||\n        person.fullname?.trim()?.length > 25 ||\n        person.fullname?.trim()?.length < 2\n    ) {\n        pushErrors(err, 'fullname', null);\n    }\n    if (person?.description && person.description?.trim()?.length > 100) {\n        pushErrors(err, 'description', null);\n    }\n    if (Object.keys(err).length > 0) {\n        return { success: false, data: err };\n    }\n    const data = {\n        fullname: person.fullname?.trim(),\n        description: person.description?.trim(),\n        picture: null,\n    };\n    return db.insertAsync({ ...data }, (err, result) => {\n        if (err) {\n            return { success: false, data: {} };\n        }\n        return {\n            success: true,\n            data: result,\n        };\n    });\n};\n\nexport function edit(id, upd) {\n    var data = {};\n    if (upd.hasOwnProperty('fullname')) {\n        data.fullname = upd.fullname?.trim();\n    }\n    if (upd.hasOwnProperty('description')) {\n        data.description = upd.description?.trim();\n    }\n    if (upd.hasOwnProperty('picture')) {\n        data.picture = upd.picture?.trim();\n    }\n    return db.updateAsync({ _id: id }, { $set: { ...data } }).catch((err) => {\n        console.log(err);\n    });\n};\n\nexport function get(name) {\n    const regex = new RegExp(name, 'i');\n    return db.findAsync({ fullname: { $regex: regex } });\n};\n\nexport function getById(id) {\n    return db.findAsync({ _id: id });\n};\n\nexport async function deleteById(id) {\n    await SimonDB.removeAsync({ personId: id });\n    await DictaphoneDB.removeAsync({ personId: id });\n    await FileSystem.deleteAsync(`${FileSystem.documentDirectory}persons/${id}`).catch(err => {\n        console.error('folder delete err:',err);\n    });\n    return db.removeAsync({ _id: id });\n};\n\nexport async function reset() {\n    return FileSystem.deleteAsync(`${FileSystem.documentDirectory}persons`).then(async res => {\n        await SimonDB.removeAsync({}, { multi: true });\n        await QuizDB.removeAsync({}, { multi: true });\n        await DictaphoneDB.removeAsync({}, { multi: true });\n        return db.removeAsync({}, { multi: true });\n    });\n};","import React, { useState } from 'react';\nimport { Image, View, Platform } from 'react-native';\nimport { Button, Divider, Icon, Input } from 'react-native-elements';\nimport * as ImagePicker from 'expo-image-picker';\nimport * as FileSystem from 'expo-file-system';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport defaultProfilPicture from '../../../assets/img/interface/profile.jpg';\nimport styles from '../styles';\n\nimport * as Person from '../../../data/personApi';\nimport { lang as InterfaceLang } from '../../../language/interface';\n\nexport default function Form(props) {\n    const [fullnameError, setFullnameError] = useState('');\n    const [descriptionError, setDescriptionError] = useState('');\n\n    const confirm = async () => {\n        var personId = props.personId ?? 0;\n        const cb =\n            props.edit === true\n                ? Person.edit(props.personId, {\n                      fullname: props.fullname,\n                      description: props.description,\n                  })\n                : Person.create(\n                      {\n                          fullname: props.fullname,\n                          description: props.description,\n                      },\n                      props.lang\n                  );\n        const result = await cb;\n        if (result.success === false) {\n            if (result.hasOwnProperty('fullname')) {\n                setFullnameError(InterfaceLang[props?.lang].RequiredField);\n            }\n            if (result.hasOwnProperty('description')) {\n                setDescriptionError(\n                    InterfaceLang[props?.lang].LimitExceededField(100)\n                );\n            }\n            return false;\n        } else {\n            if (personId === 0)\n                personId = result._id;\n            await FileSystem.makeDirectoryAsync(`${FileSystem.documentDirectory}persons/${personId}`, {intermediates: true})\n            if (props.image?.length > 0) {\n                let imgName = uuidv4();\n                const path = `${FileSystem.documentDirectory}persons/${personId}/pp`;\n                await FileSystem.makeDirectoryAsync(path, {intermediates: true}).catch((err) => {\n                    console.log('directory already exists');\n                });\n                FileSystem.writeAsStringAsync(\n                    path + `/${imgName}.jpg`,\n                    props.image,\n                    {\n                        encoding: 'base64',\n                    }\n                )\n                    .then(() => {\n                        Person.edit(personId, {\n                            picture: path + `/${imgName}.jpg`,\n                        })\n                            .then((data) => {\n                                if (props.edit === false) {\n                                    result.picture = path + `/${imgName}.jpg`;\n                                    props.addPerson((persons) => [\n                                        ...persons,\n                                        result,\n                                    ]);\n                                } else {\n                                    props.setFullnameHeader(\n                                        props.fullname?.trim()\n                                    );\n                                }\n                                props.scs();\n                            })\n                            .catch((err) => {\n                                console.log('mongo err', err);\n                                return false;\n                            });\n                    })\n                    .catch((err) => {\n                        console.log('filesystem err:', err);\n                    });\n            } else {\n                if (props.edit === false) {\n                    props.addPerson((persons) => [...persons, result]);\n                } else {\n                    props.setFullnameHeader(props.fullname?.trim());\n                }\n                props.scs();\n            }\n        }\n    };\n\n    const pickImage = async () => {\n        let result = await ImagePicker.launchImageLibraryAsync({\n            mediaTypes: ImagePicker.MediaTypeOptions.Images,\n            allowsEditing: true,\n            aspect: [1, 1],\n            quality: 1,\n        });\n\n        if (result.cancelled === true) {\n            return;\n        }\n\n        if (Platform.OS === 'web') {\n            alert('todo');\n        } else {\n            try {\n                let uri = result.uri;\n                props.setUriPreview(uri);\n                const fsRead = await FileSystem.readAsStringAsync(uri, {\n                    encoding: 'base64',\n                }).catch((err) => {\n                    console.log(err);\n                });\n                props.setImage(fsRead);\n            } catch (err) {\n                console.log(err);\n            }\n        }\n    };\n\n    return (\n        <View style={styles.view}>\n            <Image\n                source={\n                    props.uriPreview\n                        ? { uri: props.uriPreview }\n                        : defaultProfilPicture\n                }\n                style={styles.profilePicture}\n            />\n            <Button\n                title={InterfaceLang[props?.lang].ImportImage}\n                onPress={pickImage}\n                titleStyle={{ fontSize: 15 }}\n                buttonStyle={styles.btnImport}\n                icon={\n                    <Icon\n                        name=\"image\"\n                        size={15}\n                        color=\"white\"\n                        style={{ marginHorizontal: 5 }}\n                    />\n                }\n            />\n            <Divider\n                style={{ width: 100 + '%', marginVertical: 20 }}\n                width={2}\n            />\n            <Input\n                placeholder={InterfaceLang[props?.lang].SetFullName}\n                leftIcon={<Icon name=\"person\" size={24} color=\"grey\" />}\n                label={InterfaceLang[props?.lang].FullName}\n                errorStyle={{ color: 'red' }}\n                renderErrorMessage={true}\n                maxLength={25}\n                errorMessage={fullnameError}\n                inputStyle={{ fontSize: 14, marginHorizontal: 10 }}\n                value={props.fullname}\n                containerStyle={{ width: 300, marginTop: -10 }}\n                onChangeText={(e) => {\n                    props.setFullname(e);\n                }}\n            />\n\n            <Input\n                placeholder={InterfaceLang[props?.lang].SetDescription}\n                leftIcon={<Icon name=\"info\" size={24} color=\"grey\" />}\n                label={InterfaceLang[props?.lang].Description}\n                errorStyle={{ color: 'red' }}\n                maxLength={100}\n                renderErrorMessage={true}\n                errorMessage={descriptionError}\n                inputStyle={{ fontSize: 14, marginHorizontal: 10 }}\n                containerStyle={{ width: 300, marginBottom: 0 }}\n                value={props.description}\n                onChangeText={(e) => {\n                    props.setDescription(e);\n                }}\n            />\n\n            <Button\n                raised={true}\n                title={InterfaceLang[props?.lang].Save}\n                onPress={(e) => {\n                    confirm();\n                }}\n                titleStyle={{ fontSize: 15 }}\n                buttonStyle={styles.btnSave}\n                iconRight={true}\n                icon={\n                    <Icon\n                        name=\"save\"\n                        size={15}\n                        color=\"white\"\n                        style={{ marginHorizontal: 5 }}\n                    />\n                }\n            />\n        </View>\n    );\n}\n","import React, { useState } from 'react';\nimport { View } from 'react-native';\nimport styles from '../styles';\n\nimport Success from './Success';\nimport Form from './Form';\n\nexport default function CreatePerson(props) {\n    const [image, setImage] = useState();\n    const [fullname, setFullname] = useState('');\n    const [uriPreview, setUriPreview] = useState();\n    const [description, setDescription] = useState('');\n    const [success, setSuccess] = useState(false);\n\n    const good = () => {\n        setSuccess(true);\n    };\n\n    const clear = () => {\n        setFullname('');\n        setUriPreview('');\n        setImage('');\n        setDescription('');\n        setSuccess(false);\n    };\n\n    const compProps = {\n        lang: props.lang,\n\n        fullname: fullname,\n        setFullname: setFullname,\n\n        image: image,\n        setImage: setImage,\n\n        uriPreview: uriPreview,\n        setUriPreview: setUriPreview,\n\n        description: description,\n        setDescription: setDescription,\n    };\n\n    return (\n        <View style={styles.view}>\n            {success ? (\n                <Success {...compProps} close={clear} edit={false} />\n            ) : (\n                <Form\n                    {...compProps}\n                    edit={false}\n                    persons={props.persons}\n                    addPerson={props.setPersons}\n                    scs={good}\n                />\n            )}\n        </View>\n    );\n}\n","import { StyleSheet } from 'react-native';\n\nexport default StyleSheet.create({\n    container: {\n        flex: 1,\n    },\n    wrapper: {\n        marginTop: 100,\n        textAlign: 'center',\n        alignItems: 'center',\n    },\n    topImage: {\n        flex: 1,\n        width: 80,\n        marginTop: -270,\n    },\n    heading: {\n        marginTop: -190,\n        fontSize: 20,\n        zIndex: 2,\n    },\n    boldtext: {\n        fontWeight: 'bold',\n        color: '#3B8EFF',\n    },\n    subtitle: {\n        textAlign: 'center',\n    },\n    image: {\n        flex: 1,\n        width: 200,\n    },\n    button: {\n        backgroundColor: '#3B8EFF',\n        marginVertical: 25,\n        height: 40,\n        width: 500,\n        borderRadius: 20,\n        overflow: 'hidden',\n    },\n    buttonText: {\n        color: 'white',\n        textAlign: 'center',\n        marginTop: 10,\n    },\n    viewList: {\n        textAlign: 'center',\n        alignItems: 'center',\n        borderBottomColor: 'grey',\n        borderBottomWidth: 0.9,\n        overflow: 'hidden',\n    },\n    safeContainer: {\n        flex: 1,\n    },\n    nobodyYet: {\n        textAlign: 'center',\n        marginVertical: 60,\n        color: 'grey',\n        fontStyle: 'italic',\n    },\n    searchBar: {\n        marginBottom: -25,\n    },\n    searchInputStyle: {\n        textAlign: 'center',\n        color: '#495058',\n        fontSize: 15,\n    },\n});\n","import React, { useState, useRef, useEffect } from 'react';\nimport {\n    Text,\n    View,\n    Image,\n    TouchableOpacity,\n    SafeAreaView,\n    ScrollView,\n    ActivityIndicator,\n    BackHandler,\n} from 'react-native';\nimport Swiper from 'react-native-swiper/src';\nimport { Input } from 'react-native-elements';\nimport { useNavigate, useLocation } from 'react-router-native';\n\nimport LoadingBrain from '../../assets/img/home/loading_brain.gif';\nimport { lang as HomeLang } from '../../language/home';\nimport Rows from '../../components/home/Rows';\nimport CreatePerson from '../../components/home/PersonCreation/CreatePerson';\n\nimport * as Person from '../../data/personApi';\n\nimport styles from './styles';\n\nexport default function Home(props) {\n    const [isLoading, setIsLoading] = useState(true);\n    const [persons, setPersons] = useState();\n    const [search, setSearch] = useState();\n    const [index, setIndex] = useState(0);\n    const [btnText, setBtnTxt] = useState(\n        HomeLang[props.lang || lang].AddAPerson\n    );\n    const [active, setActive] = useState(true);\n\n    const swiper = useRef(null);\n    const state = useLocation()?.state;\n    const navigate = useNavigate();\n\n    const username = state?.username || props.username;\n    const lang = state?.lang || props.lang;\n\n    useEffect(() => {\n        if (!username || username?.trim()?.length < 2) {\n            navigate('/');\n        } else {\n            Person.get(search).then((data) => {\n                setPersons(data);\n                setIsLoading(false);\n            });\n        }\n        const backHandler = BackHandler.addEventListener(\n            'hardwareBackPress',\n            () => {\n                return true;\n            }\n        );\n        return () => backHandler.remove();\n    }, [search, username, navigate]);\n\n    const swipePage = (idx) => {\n        if (idx === -1) {\n            idx = 1;\n        }\n        swiper.current.scrollBy(idx - index, true);\n    };\n\n    const changeIndex = (idx) => {\n        setIndex(idx);\n        setTimeout(() => {\n            if (idx === 0) {\n                setBtnTxt(HomeLang[lang].AddAPerson);\n            } else if (idx === 1) {\n                setBtnTxt(HomeLang[lang].ReturnToList);\n            }\n            setActive(true);\n        }, 400);\n    };\n\n    const printRows = (list) => {\n        return list.map((el, i) => {\n            return (\n                <Rows\n                    index={i}\n                    key={el._id}\n                    username={username}\n                    id={el._id}\n                    fullname={el.fullname}\n                    description={el.description}\n                    picture={el.picture}\n                    lang={lang}\n                />\n            );\n        });\n    };\n\n    return (\n        <View style={styles.container}>\n            <View style={styles.wrapper}>\n                <Image\n                    source={LoadingBrain}\n                    resizeMode=\"contain\"\n                    style={styles.topImage}\n                />\n                <Text style={styles.heading}>\n                    {HomeLang[lang].Hello(username)}\n                </Text>\n            </View>\n            <Text style={styles.subtitle}>{HomeLang[lang].WhatsUp}</Text>\n            <View style={styles.viewList}>\n                <TouchableOpacity\n                    style={styles.button}\n                    activeOpacity={0.4}\n                    onPress={(e) => {\n                        if (active === false) {\n                            return;\n                        }\n                        setActive(false);\n                        setBtnTxt(\n                            <ActivityIndicator color={'white'} size={'small'} />\n                        );\n                        swipePage(index - 1);\n                    }}\n                >\n                    <Text style={styles.buttonText}>{btnText}</Text>\n                </TouchableOpacity>\n            </View>\n            <SafeAreaView style={styles.safeContainer}>\n                {isLoading ? (\n                    <ActivityIndicator\n                        color={'blue'}\n                        style={{ marginTop: 70 }}\n                    />\n                ) : (\n                    <Swiper\n                        ref={swiper}\n                        showsButtons={false}\n                        scrollEnabled={false}\n                        loop\n                        pagingEnabled\n                        index={0}\n                        showsPagination={false}\n                        onIndexChanged={(e) => {\n                            changeIndex(e);\n                        }}\n                    >\n                        <ScrollView>\n                            <Input\n                                placeholder={HomeLang[lang].Search}\n                                inputContainerStyle={styles.searchBar}\n                                onChangeText={(e) => {\n                                    setSearch(e);\n                                }}\n                                value={search}\n                                inputStyle={styles.searchInputStyle}\n                            />\n                            {persons && persons.length > 0 ? (\n                                printRows(persons)\n                            ) : (\n                                <Text style={styles.nobodyYet}>\n                                    {HomeLang[lang].NobodyYet}\n                                </Text>\n                            )}\n                        </ScrollView>\n                        <ScrollView>\n                            <CreatePerson\n                                persons={persons}\n                                setPersons={setPersons}\n                                lang={lang}\n                            />\n                        </ScrollView>\n                        <ScrollView />\n                    </Swiper>\n                )}\n            </SafeAreaView>\n        </View>\n    );\n}\n","import React, { useEffect, useState } from 'react';\nimport {\n    Text,\n    View,\n    TextInput,\n    ActivityIndicator,\n    TouchableOpacity,\n    Image,\n    BackHandler,\n} from 'react-native';\nimport { useNavigate } from 'react-router-native';\n\nimport { lang as TutorialLang } from '../../language/tutorial';\nimport { lang as InterfaceLang } from '../../language/interface';\nimport { setUsername, SawTutorial } from '../../data/configApi';\n\nimport ChooseUsernameGIF from '../../assets/img/username/chooseusername.gif';\n\nimport styles from './styles';\nimport Home from '../Home';\n\nexport default function ChooseUsername(props) {\n    const [input, setInput] = useState('');\n    const [isLoading, setIsLoading] = useState(false);\n    const [confirmed, setConfirmed] = useState(false);\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const backAction = () => {\n            return SawTutorial(false)\n                .then(() => {\n                    navigate('/');\n                    return true;\n                })\n                .catch((err) => {\n                    return false;\n                });\n        };\n        const backHandler = BackHandler.addEventListener(\n            'hardwareBackPress',\n            backAction\n        );\n        return () => backHandler.remove();\n    }, []);\n\n    const parseUsername = (input) => {\n        setIsLoading(true);\n        let username = input?.trim() || null;\n        if (username && username?.length >= 2 && username?.length < 11) {\n            setUsername(username)\n                .then((response) => {\n                    setIsLoading(false);\n                    setInput(username);\n                    setConfirmed(true);\n                })\n                .catch((err) => {\n                    console.log(err);\n                });\n        } else {\n            setIsLoading(false);\n        }\n    };\n\n    if (!confirmed) {\n        return (\n            <View style={styles.container}>\n                <View style={styles.wrapper}>\n                    <Image\n                        source={ChooseUsernameGIF}\n                        resizeMode=\"contain\"\n                        style={styles.image}\n                    />\n                </View>\n                <Text style={styles.heading}>\n                    {TutorialLang[props.lang].ChooseUsername}\n                </Text>\n                <Text style={styles.description}>\n                    {TutorialLang[props.lang].WhatIsUsername()}\n                </Text>\n                <View style={styles.viewrow}>\n                    <TextInput\n                        underlineColorAndroid=\"transparent\"\n                        style={styles.textInput}\n                        value={input}\n                        placeholder={InterfaceLang[props.lang].YourUsername}\n                        maxLength={10}\n                        onChangeText={(e) => {\n                            setInput(e);\n                        }}\n                    />\n                    <TouchableOpacity\n                        style={styles.button}\n                        activeOpacity={0.5}\n                        onPress={(e) => {\n                            parseUsername(input);\n                        }}\n                    >\n                        <Text style={styles.buttonText}>\n                            {' '}\n                            {isLoading ? (\n                                <ActivityIndicator\n                                    color=\"white\"\n                                    size=\"small\"\n                                    animating={true}\n                                />\n                            ) : (\n                                'OK'\n                            )}\n                        </Text>\n                    </TouchableOpacity>\n                </View>\n            </View>\n        );\n    } else {\n        return <Home username={input} lang={props.lang} />;\n    }\n}\n","import React from 'react';\nimport { View, Text, ActivityIndicator } from 'react-native';\nimport LoadingImage from '../../assets/img/loading.gif';\n\nimport Lottie from './Lottie';\n\nconst Loading = (props) => {\n    const LottieSource = require('../../assets/img/loading.json');\n    const styles = { width: 200, marginTop: 100 };\n    return (\n        <View style={props.style}>\n            <Lottie\n                LottieSource={LottieSource}\n                LottieStyle={styles}\n                ImageStyle={styles}\n                ImageSource={LoadingImage}\n            />\n            <Text\n                style={{\n                    marginTop: 100,\n                    color: '#56BDC1',\n                    width: 150,\n                    textAlign: 'center',\n                }}\n            >\n                {props.text}\n            </Text>\n            <Text style={{ marginTop: 100 }}>\n                <ActivityIndicator\n                    color={'#246364'}\n                    size={'large'}\n                    style={{ marginTop: 10 }}\n                />\n            </Text>\n        </View>\n    );\n};\n\nexport default Loading;\n","import { StyleSheet } from 'react-native';\n\nexport default StyleSheet.create({\n    wrapper: {\n        justifyContent: 'center',\n        alignItems: 'center',\n    },\n    slide: {\n        flex: 1,\n        padding: 20,\n    },\n    slideOdd: {\n        flex: 1,\n        padding: 20,\n        backgroundColor: '#C8EEFF',\n    },\n    title: {\n        color: 'black',\n        flex: 1,\n        fontSize: 22,\n        fontWeight: 'bold',\n        marginTop: -50,\n        textAlign: 'center',\n    },\n    text: {\n        color: 'black',\n        fontSize: 15,\n        flex: 2,\n        marginTop: -40,\n        textAlign: 'center',\n    },\n    image: {\n        flex: 3,\n        width: 100 + '%',\n        height: 400,\n    },\n    buttonContainer: {\n        flex: 2,\n        marginTop: -40,\n    },\n    button: {\n        marginTop: 10,\n        paddingTop: 15,\n        paddingBottom: 15,\n        marginLeft: 30,\n        marginRight: 30,\n        backgroundColor: '#00BCD4',\n        borderRadius: 10,\n        borderWidth: 1,\n        borderColor: '#fff',\n    },\n    buttonText: {\n        color: '#fff',\n        textAlign: 'center',\n    },\n});\n","import React, { useEffect } from 'react';\nimport { Text, View, Image, TouchableOpacity } from 'react-native';\n\nimport { Link } from 'react-router-native';\n\nimport StepOne from '../../assets/img/tutorial/1.png';\nimport StepTwo from '../../assets/img/tutorial/2.png';\nimport StepThree from '../../assets/img/tutorial/3.png';\nimport StepFour from '../../assets/img/tutorial/4.png';\nimport StepFive from '../../assets/img/tutorial/5.png';\nimport StepSixth from '../../assets/img/tutorial/6.png';\n\nimport SwipeImage from '../../assets/img/tutorial/swipe-right.gif';\n\nimport { lang as TutorialLang } from '../../language/tutorial';\nimport Lottie from '../../components/utils/Lottie';\n\nimport Swiper from 'react-native-swiper/src';\n\nimport styles from './styles';\nimport * as Config from '../../data/configApi';\nimport Home from '../Home';\n\nexport default function Tutorial(props) {\n    const LottieSource = require('../../assets/lottie/swipe-right.json');\n\n    useEffect(() => {\n        Config.getUsername()\n            .then((res) => {\n                if (res[0]?.username) {\n                    return <Home username={res} lang={props.lang} />;\n                }\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }, []);\n\n    return (\n        <>\n            <Lottie\n                LottieSource={LottieSource}\n                ImageSource={SwipeImage}\n                LottieStyle={{\n                    position: 'absolute',\n                    height: 80,\n                    marginTop: 280,\n                    marginLeft: 80,\n                    opacity: 0.8,\n                }}\n                ImageStyle={{\n                    position: 'absolute',\n                    height: 80,\n                    marginTop: 280,\n                    marginLeft: 80,\n                    opacity: 0.8,\n                }}\n            />\n            <Swiper\n                style={styles.wrapper}\n                showsButtons={false}\n                showsPagination={true}\n                loop={false}\n            >\n                <View style={styles.slide}>\n                    <Image\n                        source={StepOne}\n                        resizeMode=\"contain\"\n                        style={styles.image}\n                    />\n                    <Text style={styles.title}>\n                        {TutorialLang[props.lang].Step1Header}\n                    </Text>\n                    <Text style={styles.text}>\n                        {TutorialLang[props.lang].Step1Content()}\n                    </Text>\n                </View>\n\n                <View style={styles.slideOdd}>\n                    <Image\n                        source={StepTwo}\n                        resizeMode=\"contain\"\n                        style={styles.image}\n                    />\n                    <Text style={styles.title}>\n                        {TutorialLang[props.lang].Step2Header}\n                    </Text>\n                    <Text style={styles.text}>\n                        {TutorialLang[props.lang].Step2Content}\n                    </Text>\n                </View>\n\n                <View style={styles.slide}>\n                    <Image\n                        source={StepThree}\n                        resizeMode=\"contain\"\n                        style={styles.image}\n                    />\n                    <Text style={styles.title}>\n                        {TutorialLang[props.lang].Step3Header}\n                    </Text>\n                    <Text style={styles.text}>\n                        {TutorialLang[props.lang].Step3Content()}\n                    </Text>\n                </View>\n\n                <View style={styles.slideOdd}>\n                    <Image\n                        source={StepFour}\n                        resizeMode=\"contain\"\n                        style={styles.image}\n                    />\n                    <Text style={styles.title}>\n                        {TutorialLang[props.lang].Step4Header}\n                    </Text>\n                    <Text style={styles.text}>\n                        {TutorialLang[props.lang].Step4Content()}\n                    </Text>\n                </View>\n\n                <View style={styles.slide}>\n                    <Image\n                        source={StepFive}\n                        resizeMode=\"contain\"\n                        style={styles.image}\n                    />\n                    <Text style={styles.title}>\n                        {TutorialLang[props.lang].Step5Header}\n                    </Text>\n                    <Text style={styles.text}>\n                        {TutorialLang[props.lang].Step5Content}\n                    </Text>\n                </View>\n\n                <View style={styles.slideOdd}>\n                    <Image\n                        source={StepSixth}\n                        resizeMode=\"contain\"\n                        style={styles.image}\n                    />\n                    <Text style={styles.title}>\n                        {TutorialLang[props.lang].LastStepHeader}\n                    </Text>\n                    <View style={styles.buttonContainer}>\n                        <Link\n                            to=\"/username\"\n                            component={TouchableOpacity}\n                            style={styles.button}\n                            onPress={(e) => {\n                                Config.SawTutorial(true);\n                            }}\n                            activeOpacity={0.5}\n                        >\n                            <Text style={styles.buttonText}>\n                                {' '}\n                                {TutorialLang[props.lang].LastStepButton}{' '}\n                            </Text>\n                        </Link>\n                    </View>\n                </View>\n            </Swiper>\n        </>\n    );\n}\n","import React from 'react';\n\nimport Tutorial from '../../pages/Tutorial';\nimport ChooseUsername from '../../pages/ChooseUsername';\nimport Home from '../../pages/Home';\n\nconst HomeOrTutorial = (props) => {\n    if (!props?.hasSeenTutorial) {\n        return <Tutorial lang={props.lang} />;\n    }\n    if (!props?.username || props?.username?.length < 2) {\n        return <ChooseUsername lang={props.lang} />;\n    }\n    return <Home lang={props.lang} username={props.username} />;\n};\n\nexport default HomeOrTutorial;\n","import { Text } from 'react-native';\n\nconst applyBoldStyle = (text) => {\n    let numberOfItemsAdded = 0;\n    const result = text.sentence.split(/\\{\\d+\\}/);\n    text.boldText.forEach((boldText, i) =>\n        result.splice(\n            ++numberOfItemsAdded + i,\n            0,\n            <Text key={i} style={{ fontWeight: 'bold', color: '#3B8EFF' }}>\n                {boldText}\n            </Text>\n        )\n    );\n    return <Text>{result}</Text>;\n};\n\nexport const lang = {\n    fr: {\n        Hello: (username) => {\n            return applyBoldStyle({\n                sentence: 'Bonjour {0} !',\n                boldText: [username],\n            });\n        },\n        Activities: 'Activits',\n        Score: 'Score',\n        Settings: 'Paramtres',\n        ChangeProfile: 'Modifier le profil',\n        ShareProfile: 'Partager le profil',\n        DeleteProfile: 'Supprimer le profil',\n        ResetAccount: '(DEBUG) Reset ($[start])',\n        Simon: 'Jouer au Simon',\n        DoubleMemory: 'Jeu des pairs',\n        Dictaphone: 'Journal vocal',\n        Quiz: 'Jouer  un quiz',\n        SuggestedActivities: 'Activits suggres',\n        Back: 'Retour  la slection',\n\n        ReturnList: 'Retour',\n    },\n    en: {\n        Hello: (username) => {\n            return applyBoldStyle({\n                sentence: 'Hello {0}!',\n                boldText: [username],\n            });\n        },\n        Activities: 'Activities',\n        Score: 'Score',\n        Settings: 'Settings',\n        ChangeProfile: 'Change the profile',\n        ShareProfile: 'Share the profile',\n        DeleteProfile: 'Delete the profile',\n        ResetAccount: '(DEBUG) Reset ($[start])',\n        Simon: 'Play to Simon',\n        Dictaphone: 'Voice log',\n        Quiz: 'Start a quiz',\n        DoubleMemory: 'Double Memory',\n        SuggestedActivities: 'Suggested activities',\n        Back: 'Return to the selection',\n\n        ReturnList: 'Return',\n    },\n};\n","import { StyleSheet } from 'react-native';\n\nexport default StyleSheet.create({\n    containerStyle: {\n        alignItems: 'center',\n        marginTop: 20,\n        marginBottom: 10,\n    },\n    buttonStyle: {\n        width: 250,\n        height: 40,\n    },\n    buttonStyleReturn: {\n        width: 200,\n        height: 40,\n    },\n    buttonStyleDelete: {\n        width: 250,\n        height: 40,\n        backgroundColor: 'red',\n    },\n    buttonStyleBack: {\n        width: 250,\n        height: 40,\n        backgroundColor: '#5EA1E4',\n    },\n    buttonStyleDebug: {\n        width: 250,\n        height: 40,\n        backgroundColor: 'orange',\n    },\n});\n","import React, { useState, useRef, useEffect } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nimport { ScrollView, Alert, SafeAreaView, View } from 'react-native';\nimport { Button } from 'react-native-elements';\nimport Success from '../../../components/home/PersonCreation/Success';\n\nimport { useNavigate } from 'react-router-native';\n\nimport { lang as ActivitiesLang } from '../../../language/activities';\nimport { lang as InterfaceLang } from '../../../language/interface';\nimport * as Person from '../../../data/personApi';\n\nimport styles from './styles';\nimport Form from '../../../components/home/PersonCreation/Form';\n\nexport default function Settings(props) {\n    const [edit, setEdit] = useState(false);\n    const [success, setSuccess] = useState(false);\n    const [image, setImage] = useState();\n    const [fullname, setFullname] = useState(props.person.fullname);\n    const [uriPreview, setUriPreview] = useState(props.person.picture);\n    const [description, setDescription] = useState(props.person.description);\n\n    const navigate = useNavigate();\n\n    const good = () => {\n        setSuccess(true);\n    };\n\n    const clear = () => {\n        setFullname(props.person.fullname);\n        setUriPreview(props.person.picture);\n        setImage('');\n        setDescription(props.person.description);\n        setSuccess(false);\n    };\n\n    const compProps = {\n        lang: props.lang,\n\n        fullname: fullname,\n        setFullname: setFullname,\n\n        image: image,\n        setImage: setImage,\n\n        uriPreview: uriPreview,\n        setUriPreview: setUriPreview,\n\n        description: description,\n        setDescription: setDescription,\n    };\n\n    const debug = async () => {\n        await Person.reset();\n        await AsyncStorage.clear();\n        navigate('/home');\n        return true;\n    };\n\n    const deletePerson = () => {\n        Person.deleteById(props.personId).then((deleted) => {\n            navigate('/home');\n        });\n    };\n\n    const openModalDeleteProfile = () => {\n        return Alert.alert(\n            InterfaceLang[props.lang].AreYouSure,\n            InterfaceLang[props.lang].DeletePerson(props.username),\n            [\n                {\n                    text: InterfaceLang[props.lang].Yes,\n                    onPress: () => {\n                        deletePerson();\n                    },\n                },\n                {\n                    text: InterfaceLang[props.lang].No,\n                },\n            ]\n        );\n    };\n    return (\n        <View style={{ flex: 1 }}>\n            {edit === false ? (\n                <ScrollView style={{ flex: 1 }}>\n                    <Button\n                        icon={{\n                            name: 'user',\n                            type: 'font-awesome',\n                            size: 15,\n                            color: 'white',\n                        }}\n                        iconContainerStyle={{ marginRight: 10 }}\n                        buttonStyle={styles.buttonStyle}\n                        containerStyle={styles.containerStyle}\n                        onPress={() => {\n                            setEdit(true);\n                        }}\n                        title={ActivitiesLang[props.lang]?.ChangeProfile}\n                    />\n                    <Button\n                        icon={{\n                            name: 'bluetooth',\n                            type: 'font-awesome',\n                            size: 15,\n                            color: 'white',\n                        }}\n                        iconContainerStyle={{ marginRight: 10 }}\n                        buttonStyle={styles.buttonStyle}\n                        containerStyle={styles.containerStyle}\n                        title={ActivitiesLang[props.lang]?.ShareProfile}\n                    />\n                    <Button\n                        icon={{\n                            name: 'remove',\n                            type: 'font-awesome',\n                            size: 15,\n                            color: 'white',\n                        }}\n                        iconContainerStyle={{ marginRight: 10 }}\n                        buttonStyle={styles.buttonStyleDelete}\n                        containerStyle={styles.containerStyle}\n                        title={ActivitiesLang[props.lang]?.DeleteProfile}\n                        onPress={() => {\n                            openModalDeleteProfile();\n                        }}\n                    />\n                    <Button\n                        icon={{\n                            name: 'caret-left',\n                            type: 'font-awesome',\n                            size: 15,\n                            color: 'white',\n                        }}\n                        iconContainerStyle={{ marginRight: 10 }}\n                        buttonStyle={styles.buttonStyleBack}\n                        containerStyle={styles.containerStyle}\n                        title={ActivitiesLang[props.lang]?.Back}\n                        onPress={() => {\n                            navigate('/home');\n                        }}\n                    />\n                    <Button\n                        icon={{\n                            name: 'bug',\n                            type: 'font-awesome',\n                            size: 15,\n                            color: 'white',\n                        }}\n                        iconContainerStyle={{ marginRight: 10 }}\n                        buttonStyle={styles.buttonStyleDebug}\n                        containerStyle={styles.containerStyle}\n                        title={ActivitiesLang[props.lang]?.ResetAccount}\n                        onPress={debug}\n                    />\n                </ScrollView>\n            ) : (\n                <ScrollView style={{ flex: 1, backgroundColor: 'white' }}>\n                    <Button\n                        icon={{\n                            name: 'arrow-circle-o-up',\n                            type: 'font-awesome',\n                            size: 15,\n                            color: 'white',\n                        }}\n                        iconContainerStyle={{ marginRight: 10 }}\n                        buttonStyle={styles.buttonStyleReturn}\n                        containerStyle={styles.containerStyle}\n                        title={ActivitiesLang[props.lang]?.ReturnList}\n                        onPress={() => setEdit(false)}\n                    />\n                    {success ? (\n                        <Success {...compProps} close={clear} edit={true} />\n                    ) : (\n                        <Form\n                            {...compProps}\n                            edit={true}\n                            persons={props.person}\n                            setFullnameHeader={props.setFullname}\n                            personId={props.personId}\n                            scs={good}\n                        />\n                    )}\n                </ScrollView>\n            )}\n        </View>\n    );\n}\n","import { Text } from 'react-native';\n\nconst applyBoldStyle = (text) => {\n    let numberOfItemsAdded = 0;\n    const result = text.sentence.split(/\\{\\d+\\}/);\n    text.boldText.forEach((boldText, i) =>\n        result.splice(\n            ++numberOfItemsAdded + i,\n            0,\n            <Text key={i} style={{ fontWeight: 'bold', color: '#3B8EFF' }}>\n                {boldText}\n            </Text>\n        )\n    );\n    return <Text>{result}</Text>;\n};\n\nexport const lang = {\n    fr: {\n        Start: 'Enregistrer',\n        Pause: 'Pause',\n        Stop: 'Stop',\n        Continue: 'Continuer',\n        Untitled: 'Sans titre',\n        ChooseTitle: 'Choississez un titre',\n        PleaseChooseATitle: 'Merci de choisir un titre pour cet enregistrement',\n        Title: \"Nom de l'enregistrement\",\n        Cancel: 'Annuler',\n        Save: 'Sauvegarder',\n        Placeholder: 'Le nom de votre enregistrement (facultatif)',\n        DeleteTrack: \"Suppression de l'enregistrement\",\n        SureDeleteTrack:\n            'tes-vous sr(e) de vouloir supprimer cet enregistrement ? Cette action est irrversible.',\n        Delete: 'Supprimer',\n        NothingYet: 'Aucun enregistrement ralis',\n    },\n    en: {\n        Start: 'Start recording',\n        Pause: 'Pause recording',\n        Stop: 'Stop recording',\n        Continue: 'Continue recording',\n        Untitled: 'Untitled',\n        ChooseTitle: 'Choose a title',\n        PleaseChooseATitle: 'Please choose a title for this record',\n        Title: 'Record name',\n        Cancel: 'Cancel',\n        Save: 'Save',\n        Placeholder: 'The name of your record (optional)',\n        DeleteTrack: 'Delete the track',\n        SureDeleteTrack:\n            'Are you sure to delete this track ? This action cannot be undone.',\n        Delete: 'Delete',\n        NothingYet: 'No track recorded',\n    },\n};\n","import React, { useEffect, useState } from 'react';\nimport { ListItem, Icon, LinearProgress } from 'react-native-elements';\nimport { Platform } from 'react-native';\nimport { Audio } from 'expo-av';\n\nexport default function Rows(props) {\n    const [isPlaying, setIsPlaying] = useState(false);\n    const [progress, setProgress] = useState(0);\n    const [sound, setSound] = useState(new Audio.Sound());\n\n    useEffect(() => {\n        setIsPlaying(false);\n    }, [props.playingSounds]);\n\n    const playTrack = async () => {\n        try {\n            await props.pauseAll();\n            await Audio.setAudioModeAsync({\n                staysActiveInBackground: true,\n                shouldDuckAndroid: true,\n            });\n            setIsPlaying(false);\n            const getSoundStatus = await sound?.getStatusAsync();\n            if (getSoundStatus?.isLoaded === false) {\n                await sound.loadAsync({ uri: props.path });\n                setSound(sound);\n                props.setPlayingSounds([...props.playingSounds, sound]);\n            } else {\n                props.setPlayingSounds([...props.playingSounds]);\n            }\n            await sound.playAsync();\n            sound.setOnPlaybackStatusUpdate(async (playbackStatus) => {\n                if (playbackStatus.didJustFinish) {\n                    await sound.unloadAsync();\n                    setProgress(0);\n                    setIsPlaying(false);\n                } else if (\n                    playbackStatus.positionMillis /\n                        playbackStatus.playableDurationMillis <\n                    1\n                ) {\n                    setProgress(\n                        playbackStatus.positionMillis /\n                            playbackStatus.playableDurationMillis\n                    );\n                }\n            });\n            setIsPlaying(true);\n        } catch (error) {\n            console.error(error);\n        }\n    };\n    const pauseTrack = async () => {\n        await sound.pauseAsync();\n        setIsPlaying(false);\n    };\n\n    var TouchableScale =\n        Platform.OS !== 'web'\n            ? require('react-native-touchable-scale').default\n            : null;\n    let mod =\n        props.index % 2 === 0\n            ? { backgroundColor: 'white' }\n            : { backgroundColor: '#f3f3f3' };\n    let componentProps =\n        Platform.OS !== 'web'\n            ? {\n                  Component: TouchableScale,\n                  key: props._id,\n                  bottomDivider: true,\n                  containerStyle: mod,\n              }\n            : { key: props._id, bottomDivider: true, containerStyle: mod };\n    return (\n        <ListItem\n            {...componentProps}\n            onPress={isPlaying ? pauseTrack : playTrack}\n        >\n            <Icon\n                raised\n                name={isPlaying ? 'pause-circle' : 'play-circle-outline'}\n                type={'ionicon'}\n                color={'blue'}\n            />\n            <ListItem.Content>\n                <ListItem.Title>{props.title}</ListItem.Title>\n                <ListItem.Subtitle>{props.date}</ListItem.Subtitle>\n                <LinearProgress\n                    style={{ marginVertical: 10 }}\n                    value={progress}\n                    variant=\"determinate\"\n                    animation={{ duration: 0 }}\n                />\n            </ListItem.Content>\n            <Icon\n                reverse\n                size={15}\n                style={{ backgroundColor: 'red' }}\n                name={'trash-outline'}\n                type={'ionicon'}\n                color={'red'}\n                onPress={(e) => {\n                    props.deleteId(props._id);\n                }}\n            />\n        </ListItem>\n    );\n}\n","import { StyleSheet } from 'react-native';\n\nexport default StyleSheet.create({\n    view: {\n        marginVertical: 20,\n        flex: 1,\n        alignItems: 'center',\n    },\n    containerStyle: {\n        width: 40 + '%',\n    },\n    recordButton: {\n        backgroundColor: 'red',\n    },\n    titleButton: {\n        fontWeight: 'bold',\n    },\n    actionButtonsView: {\n        flexDirection: 'row',\n    },\n    actionButtons: {\n        marginHorizontal: 5,\n    },\n    safeArea: {\n        backgroundColor: 'white',\n        marginBottom: 40,\n        height: 100 + '%',\n        width: 100 + '%',\n    },\n    loading: {\n        alignContent: 'center',\n        marginTop: 30,\n    },\n    nothingYet: {\n        textAlign: 'center',\n        color: 'gray',\n        marginTop: 30,\n    },\n    divider: {\n        width: 100 + '%',\n        marginTop: 20,\n    },\n    overlay: {\n        borderRadius: 20,\n        paddingHorizontal: 45,\n        paddingVertical: 30,\n        alignItems: 'center',\n    },\n    overlayTitle: {\n        fontWeight: 'bold',\n        textAlign: 'center',\n        fontSize: 18,\n        marginVertical: 10,\n    },\n    overlayDescription: {\n        textAlign: 'center',\n        marginVertical: 10,\n        width: 160,\n    },\n    overlayInput: {\n        fontSize: 14,\n        marginHorizontal: 10,\n    },\n});\n","import React, { useState, useEffect } from 'react';\nimport {\n    View,\n    BackHandler,\n    ScrollView,\n    SafeAreaView,\n    ActivityIndicator,\n    Platform,\n    Modal,\n} from 'react-native';\n\nimport {\n    Button,\n    Divider,\n    Text,\n    Overlay,\n    Input,\n    Icon,\n} from 'react-native-elements';\nimport { Audio } from 'expo-av';\nimport { lang as DictaphoneLang } from '../../../language/activities/dictaphone';\n\nimport * as FileSystem from 'expo-file-system';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport Rows from './Rows';\n\nimport * as API from '../../../data/dictaphoneApi';\n\nimport styles from './styles';\n\nexport default function Dictaphone(props) {\n    const [recording, setRecording] = useState();\n    const [records, setRecords] = useState([]);\n    const [title, setTitle] = useState();\n    const [playingSounds, setPlayingSounds] = useState([]);\n    const [modal, setModal] = useState(false);\n    const [deleteId, setDeleteId] = useState(0);\n    const [isLoading, setIsLoading] = useState(true);\n    const [pause, setPause] = useState(false);\n\n    useEffect(() => {\n        // API.clear();\n\n        // Load all the tracks recorded by this person\n        API.get(props.personId).then((data) => {\n            setRecords(data);\n            setIsLoading(false);\n        });\n\n        // BackHandler managment\n        const backAction = () => {\n            if (recording) {\n                stopRecording();\n            }\n            if (playingSounds?.length > 0) {\n                stopPlayingSounds();\n            }\n            props.setPage(null);\n            return true;\n        };\n        const backHandler = BackHandler.addEventListener(\n            'hardwareBackPress',\n            backAction\n        );\n        return () => backHandler.remove();\n    }, [recording, playingSounds]);\n\n    async function startRecording() {\n        try {\n            await Audio.requestPermissionsAsync();\n            await Audio.setAudioModeAsync({\n                allowsRecordingIOS: true,\n                playsInSilentModeIOS: true,\n                staysActiveInBackground: true,\n            });\n            const { recording } = await Audio.Recording.createAsync(\n                Audio.RECORDING_OPTIONS_PRESET_HIGH_QUALITY\n            );\n            setRecording(recording);\n        } catch (err) {\n            console.error('Failed to start recording', err);\n        }\n    }\n\n    async function stopRecording() {\n        setPause(false);\n        await recording.stopAndUnloadAsync();\n        setModal(true); // Open the confirmation modal\n    }\n\n    async function pauseRecording() {\n        setPause(true);\n        await recording.pauseAsync();\n    }\n\n    async function continueRecording() {\n        setPause(false);\n        await recording.startAsync();\n    }\n\n    const saveRecord = async () => {\n        let path = recording.getURI();\n        if (Platform.OS !== 'web') {\n            const folder = `${FileSystem.documentDirectory}persons/${props.personId}/recordings`;\n            const filename = uuidv4();\n            await FileSystem.copyAsync({\n                from: path,\n                to: folder + `${filename}.m4a`\n            });\n            await FileSystem.deleteAsync(path);\n            path = folder + `${filename}.m4a`;\n        }\n        API.create({\n            name: title?.trim() || DictaphoneLang[props.lang].Untitled,\n            path: path,\n            personId: props.personId,\n        }).then((created) => {\n                setModal(false);\n                setTitle('');\n                setRecording(false);\n        }).catch((err) => {\n            console.log(err);\n        });\n    };\n\n    // Called in children component\n    const deleteRecord = () => {\n        API.del(props.personId, deleteId)\n            .then((data) => {\n                setDeleteId(0);\n                API.get(props.personId)\n                    .then((data) => {\n                        setRecords(data);\n                    })\n                    .catch((err) => {\n                        console.log(err);\n                    });\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    };\n\n    const goBack = async () => {\n        await recording?.stopAndUnloadAsync();\n        stopPlayingSounds();\n        props.setPage(0);\n    }\n\n    // Unload all sounds before the backhandler\n    const stopPlayingSounds = () => {\n        playingSounds.map((el, i) => {\n            el.unloadAsync();\n        });\n    };\n\n    // Called in children component -- used for pause all tracks before playing a new one\n    const pauseAll = async () => {\n        if (playingSounds.length > 0) {\n            playingSounds?.map(async (el, i) => {\n                await el.pauseAsync().catch((err) => {\n                    console.log('(-) not loaded audio');\n                });\n            });\n        }\n    };\n\n    return (\n        <View style={styles.view}>\n            {/* Modal confirmation creation */}\n            <Overlay\n                visible={modal}\n                overlayStyle={styles.overlay}\n                onBackdropPress={() => saveRecord()}\n                ModalComponent={Modal}\n            >\n                <Text style={styles.overlayTitle}>\n                    {DictaphoneLang[props.lang].ChooseTitle}\n                </Text>\n                <Text style={styles.overlayTitle}>\n                    {DictaphoneLang[props.lang].PleaseChooseATitle}\n                </Text>\n                <Input\n                    placeholder={DictaphoneLang[props.lang].Placeholder}\n                    leftIcon={\n                        <Icon\n                            name=\"musical-note\"\n                            size={24}\n                            color=\"grey\"\n                            type=\"ionicon\"\n                        />\n                    }\n                    label={DictaphoneLang[props.lang].Title}\n                    maxLength={25}\n                    inputStyle={styles.overlayInput}\n                    value={title}\n                    onChangeText={(e) => {\n                        setTitle(e);\n                    }}\n                />\n                <View style={{ flexDirection: 'row' }}>\n                    <Button\n                        title={DictaphoneLang[props.lang].Cancel}\n                        buttonStyle={{ backgroundColor: 'red' }}\n                        containerStyle={{ marginRight: 10 }}\n                        onPress={saveRecord}\n                    />\n                    <Button\n                        title={DictaphoneLang[props.lang].Save}\n                        buttonStyle={{ fontWeight: 'bold' }}\n                        onPress={saveRecord}\n                    />\n                </View>\n            </Overlay>\n\n            {/* Modal confirmation deletion */}\n            <Overlay\n                visible={deleteId !== 0}\n                overlayStyle={styles.overlay}\n                ModalComponent={Modal}\n            >\n                <Text style={styles.overlayTitle}>\n                    {DictaphoneLang[props.lang].DeleteTrack}\n                </Text>\n                <Text style={styles.overlayDescription}>\n                    {DictaphoneLang[props.lang].SureDeleteTrack}\n                </Text>\n                <View style={{ flexDirection: 'row' }}>\n                    <Button\n                        title={DictaphoneLang[props.lang].Cancel}\n                        buttonStyle={{ fontWeight: 'bold' }}\n                        containerStyle={{ marginRight: 10 }}\n                        onPress={(e) => {\n                            setDeleteId(0);\n                        }}\n                    />\n                    <Button\n                        title={DictaphoneLang[props.lang].Delete}\n                        buttonStyle={{ backgroundColor: 'red' }}\n                        onPress={(e) => {\n                            deleteRecord();\n                        }}\n                    />\n                </View>\n            </Overlay>\n\n            {recording ? (\n                // is recording\n                <View style={styles.actionButtonsView}>\n                    <Button\n                        title={\n                            pause\n                                ? DictaphoneLang[props.lang].Continue\n                                : DictaphoneLang[props.lang].Pause\n                        }\n                        containerStyle={styles.actionButtons}\n                        icon={{\n                            name: pause\n                                ? 'play-circle-outline'\n                                : 'pause-circle-outline',\n                            type: 'ionicon',\n                            size: 15,\n                            color: 'white',\n                        }}\n                        onPress={pause ? continueRecording : pauseRecording}\n                    />\n\n                    <Button\n                        title={DictaphoneLang[props.lang].Stop}\n                        containerStyle={styles.actionButtons}\n                        icon={{\n                            name: 'stop-circle-outline',\n                            type: 'ionicon',\n                            size: 15,\n                            color: 'white',\n                        }}\n                        onPress={stopRecording}\n                    />\n                    <Button\n                        containerStyle={styles.actionButtons}\n                        icon={{\n                            name: 'caret-back-outline',\n                            type: 'ionicon',\n                            size: 15,\n                            color: 'white',\n                        }}\n                        buttonStyle={styles.recordButton}\n                        title={{}}\n                        titleStyle={styles.titleButton}\n                        onPress={() => goBack()}\n                    />\n                </View>\n            ) : (\n                // Not recording\n                <View style={styles.actionButtonsView}>\n                <Button\n                    containerStyle={styles.containerStyle}\n                    icon={{\n                        name: 'mic-circle',\n                        type: 'ionicon',\n                        size: 15,\n                        color: 'white',\n                    }}\n                    buttonStyle={styles.recordButton}\n                    title={DictaphoneLang[props.lang].Start}\n                    titleStyle={styles.titleButton}\n                    onPress={startRecording}\n                />\n                <Button\n                    containerStyle={styles.actionButtons}\n                    icon={{\n                        name: 'caret-back-outline',\n                        type: 'ionicon',\n                        size: 15,\n                        color: 'white',\n                    }}\n                    buttonStyle={styles.recordButton}\n                    title={{}}\n                    titleStyle={styles.titleButton}\n                    onPress={() => goBack()}\n                />\n                </View>\n            )}\n            <Divider style={styles.divider} width={2} />\n            <SafeAreaView style={styles.safeArea}>\n                <ScrollView style={{marginBottom: 40}}>\n                    {isLoading ? (\n                        <ActivityIndicator\n                            color={'blue'}\n                            size={'large'}\n                            style={styles.loading}\n                        />\n                    ) : records.length > 0 ? (\n                        records.map((el, i) => {\n                            return (\n                                <Rows\n                                    pauseAll={pauseAll}\n                                    playingSounds={playingSounds}\n                                    setPlayingSounds={setPlayingSounds}\n                                    deleteId={setDeleteId}\n                                    index={i}\n                                    key={el._id}\n                                    title={el.name}\n                                    _id={el._id}\n                                    date={`${el.date.toLocaleDateString(\n                                        'fr-FR'\n                                    )} ${el.date.toLocaleTimeString('fr-FR')}`}\n                                    path={el.path}\n                                />\n                            );\n                        })\n                    ) : (\n                        <Text style={styles.nothingYet}>\n                            {DictaphoneLang[props.lang].NothingYet}\n                        </Text>\n                    )}\n                </ScrollView>\n            </SafeAreaView>\n        </View>\n    );\n}\n","import { Text } from 'react-native';\n\nconst applyBoldStyle = (text, clr) => {\n    var color = '#3B8EFF';\n    if (clr === 'red') {\n        color = '#FF5755';\n    } else if (clr === 'green') {\n        color = '#459449';\n    }\n    let numberOfItemsAdded = 0;\n    const result = text.sentence.split(/\\{\\d+\\}/);\n    text.boldText.forEach((boldText, i) =>\n        result.splice(\n            ++numberOfItemsAdded + i,\n            0,\n            <Text key={i} style={{ fontWeight: 'bold', color: color }}>\n                {boldText}\n            </Text>\n        )\n    );\n    return <Text>{result}</Text>;\n};\n\nexport const lang = {\n    fr: {\n        Play: 'Jouer',\n        Help: 'Aide',\n        Leave: 'Retour',\n        AreYouSure: 'En tes-vous sr ?',\n        ToGiveUp:\n            'Si vous abandonnez la partie en cours, votre score sera enregistr, mais vous ne pourrez pas la continuer.',\n        BestScore: (bestScore) => {\n            return applyBoldStyle({\n                sentence: 'Meilleur score: {0}',\n                boldText: [bestScore],\n            });\n        },\n        DailyScore: (dailyScore) => {\n            return applyBoldStyle({\n                sentence: 'Meilleur score du jour: {0}',\n                boldText: [dailyScore],\n            });\n        },\n        YourTurn: () => {\n            return applyBoldStyle({\n                sentence: '{0}',\n                boldText: ['A votre tour !'],\n            });\n        },\n        WaitNSee: () => {\n            return applyBoldStyle({\n                sentence: '{0}',\n                boldText: ['Regardez attentivement...'],\n            });\n        },\n        Failed: () => {\n            return applyBoldStyle(\n                {\n                    sentence: '{0}',\n                    boldText: ['Rat ! ...'],\n                },\n                'red'\n            );\n        },\n        NiceHit: () => {\n            return applyBoldStyle(\n                {\n                    sentence: '{0}',\n                    boldText: ['Bien jou !!'],\n                },\n                'green'\n            );\n        },\n        Tries: (tries) => {\n            return applyBoldStyle(\n                {\n                    sentence: 'Essai(s) restant(s): {0}',\n                    boldText: [tries],\n                },\n                'red'\n            );\n        },\n        BestScoreToday: (score) => {\n            return applyBoldStyle({\n                sentence: 'Vous venez de battre votre record du jour : {0} !',\n                boldText: [score],\n            });\n        },\n        Progress: (order, game) => {\n            return applyBoldStyle({\n                sentence: `Coup(s) ralis(s): ${game} / {0}`,\n                boldText: [order],\n            });\n        },\n        Congratulations: 'Flicitations !!',\n        SoBad: 'Dommage...',\n        ScoreNotBeated:\n            \"Votre score du jour n'a pas t battu... Mais vous pouvez toujours recommencer !\",\n        Retry: 'Recommencer',\n        Exit: 'Quitter le Simon',\n        GiveUp: 'Abandonner',\n        Start: 'Commencer une partie',\n        Cancel: 'Annuler',\n        TimeToStop: \"Oui, je m'arrte l\",\n    },\n    en: {\n        Play: 'Play',\n        Help: 'Help',\n        Leave: 'Go back',\n        AreYouSure: 'Are you sure?',\n        ToGiveUp:\n            \"If you give up, this game, your score will be saved, but you won't be able to continue this party.\",\n        BestScore: (bestScore) => {\n            return applyBoldStyle({\n                sentence: 'Best score: {0}',\n                boldText: [bestScore],\n            });\n        },\n        DailyScore: (dailyScore) => {\n            return applyBoldStyle({\n                sentence: 'Best score today: {0}',\n                boldText: [dailyScore],\n            });\n        },\n        YourTurn: () => {\n            return applyBoldStyle({\n                sentence: '{0}',\n                boldText: ['Your turn!'],\n            });\n        },\n        WaitNSee: () => {\n            return applyBoldStyle({\n                sentence: '{0}',\n                boldText: ['Look carefully...'],\n            });\n        },\n        Failed: () => {\n            return applyBoldStyle(\n                {\n                    sentence: '{0}',\n                    boldText: ['Failed! ...'],\n                },\n                'red'\n            );\n        },\n        Tries: (tries) => {\n            return applyBoldStyle(\n                {\n                    sentence: 'Remaining tries: {0}',\n                    boldText: [tries],\n                },\n                'red'\n            );\n        },\n        NiceHit: () => {\n            return applyBoldStyle(\n                {\n                    sentence: '{0}',\n                    boldText: ['Well done!!'],\n                },\n                'green'\n            );\n        },\n        BestScoreToday: (score) => {\n            return applyBoldStyle({\n                sentence: 'You did your day best score : {0}!',\n                boldText: [score],\n            });\n        },\n        Progress: (order, game) => {\n            return applyBoldStyle({\n                sentence: `Progress: ${game} / {0}`,\n                boldText: [order],\n            });\n        },\n        Congratulations: 'Congratulations!!',\n        SoBad: 'So sad...',\n        ScoreNotBeated:\n            'Your daily score has not been beaten... But you can retry!',\n        Retry: 'Retry',\n        Exit: 'Exit',\n        GiveUp: 'Give up',\n        Start: 'Start a game',\n        Cancel: 'Cancel',\n        TimeToStop: 'Yes, I want to stop',\n    },\n};\n","import { StyleSheet } from 'react-native';\n\nexport default StyleSheet.create({\n    view: {\n        marginVertical: 20,\n        flex: 1,\n        alignItems: 'center',\n    },\n    logo: {\n        width: 80,\n        height: 80,\n        marginVertical: 20,\n        opacity: 0.8,\n        marginBottom: 40,\n    },\n    button: {\n        width: 235,\n        marginBottom: 25,\n        borderRadius: 10,\n        marginHorizontal: 5,\n    },\n    leaveButton: {\n        width: 235,\n        marginTop: 40,\n        backgroundColor: 'red',\n        borderRadius: 10,\n        marginHorizontal: 5,\n    },\n    SimonButtonWeb: {\n        flex: 1,\n        width: 250,\n        height: 250,\n        borderRadius: 10,\n        opacity: 0.5,\n    },\n    SimonButton: {\n        flex: 1,\n        width: 50,\n        height: 125,\n        borderRadius: 10,\n        opacity: 0.5,\n    },\n    SimonLeftButton: {\n        marginLeft: 70,\n        marginRight: 10,\n    },\n    SimonGreen: {\n        borderTopLeftRadius: 60,\n        backgroundColor: '#009f3c',\n    },\n    SimonRed: {\n        marginRight: 70,\n        borderTopRightRadius: 60,\n        backgroundColor: '#df0024',\n    },\n    SimonYellow: {\n        marginLeft: 70,\n        marginRight: 10,\n        borderBottomLeftRadius: 60,\n        backgroundColor: '#f8f400',\n    },\n    SimonBlue: {\n        marginRight: 70,\n        borderBottomEndRadius: 60,\n        backgroundColor: '#00a8ec',\n    },\n    clickedButton: {\n        opacity: 1,\n        borderColor: '#ff8a00',\n        borderWidth: 2,\n    },\n    overlayStyle: {\n        padding: 40,\n        borderRadius: 25,\n        height: 300,\n        alignContent: 'center',\n        alignItems: 'center',\n    },\n    headerOverlay: {\n        fontSize: 20,\n        fontWeight: 'bold',\n    },\n    textOverlay: {\n        width: 190,\n        fontSize: 18,\n        marginBottom: 20,\n        textAlign: 'center',\n    },\n});\n","import React from 'react';\nimport { Image } from 'react-native';\nimport { Button, Icon } from 'react-native-elements';\n\nimport { lang as SimonLang } from '../../../language/activities/simon';\n\nimport SimonLogo from '../../../assets/img/activities/simon/logo.png';\n\nimport styles from './styles';\n\nexport default function Menu(props) {\n    return (\n        <>\n            <Image source={SimonLogo} style={styles.logo} />\n            <Button\n                title={SimonLang[props.lang].Play}\n                containerStyle={styles.button}\n                raised\n                onPress={(e) => props.setTab(1)}\n                icon={\n                    <Icon\n                        name={'play-outline'}\n                        type={'ionicon'}\n                        color={'white'}\n                        size={15}\n                        style={{ marginHorizontal: 5 }}\n                    />\n                }\n            />\n            <Button\n                title={SimonLang[props.lang].Help}\n                containerStyle={styles.button}\n                raised\n                onPress={(e) => props.setTab(2)}\n                icon={\n                    <Icon\n                        name={'help-circle-outline'}\n                        type={'ionicon'}\n                        color={'white'}\n                        size={15}\n                        style={{ marginHorizontal: 5 }}\n                    />\n                }\n            />\n            <Button\n                title={SimonLang[props.lang].Leave}\n                buttonStyle={{ backgroundColor: 'red' }}\n                containerStyle={styles.leaveButton}\n                raised\n                onPress={() => props.setPage(null)}\n                icon={\n                    <Icon\n                        name={'caret-back-outline'}\n                        type={'ionicon'}\n                        color={'white'}\n                        size={15}\n                        style={{ marginHorizontal: 5 }}\n                    />\n                }\n            />\n        </>\n    );\n}\n","import React, { useEffect, useState } from 'react';\nimport { View, Modal, Platform } from 'react-native';\nimport { Text, Button, Overlay } from 'react-native-elements';\nimport { lang as SimonLang } from '../../../language/activities/simon';\nimport { Audio } from 'expo-av';\n\nimport ConfettiCannon from 'react-native-confetti-cannon';\n\nimport Lottie from '../../utils/Lottie';\nimport TrophyImage from '../../../assets/img/activities/trophy.gif';\n\nimport * as API from '../../../data/simonApi';\n\nimport styles from './styles';\nimport { ActivityIndicator } from 'react-native-web';\n\nexport default function Game(props) {\n    const [start, setStart] = useState(false);\n    const [failed, setFailed] = useState(false);\n    const [canPlay, setCanPlay] = useState(false);\n    const [loading, setLoading] = useState(false);\n    const [tries, setTries] = useState(4); // 3 tries at the beginning of the game\n    const [order, setOrder] = useState([Math.round(Math.random() * 3)]); // generate a random first order\n    const [success, setSuccess] = useState(false);\n    const [buttonClicked, setButtonClicked] = useState(-1);\n    const [bestScore, setBestScore] = useState(0);\n    const [dailyScore, setDailyScore] = useState(0);\n    const [niceHit, setNiceHit] = useState(false);\n    const [confetti, setConfetti] = useState(false);\n    const [game, setGame] = useState(new Array(0));\n\n    const [scoreBeaten, setScoreBeaten] = useState(false);\n\n    const LottieSource = require('../../../assets/lottie/trophy.json');\n    const currentDate = new Date().toLocaleDateString('fr-FR');\n\n    const SimonButtonStyle = Platform.OS == 'web' ? styles.SimonButtonWeb : styles.SimonButton;\n\n    useEffect(async () => {\n        // API.clear(props.personId);\n        if (start === false) {\n            setLoading(true);\n            API.getBestScore(props.personId).then((data) => {\n                if (data.length > 0) {\n                    setBestScore(data[0].score);\n                }\n            });\n            API.getScoreDay(props.personId, currentDate).then((data) => {\n                if (data.length > 0) {\n                    setDailyScore(data[0].score);\n                }\n            });\n            setLoading(false);\n        } else {\n            setNiceHit(false);\n            setCanPlay(false);\n            // If the game started, show a demo of the actions.\n            // The useEffect is launched when the game is launched\n            // or when the order is updated (at the end of a turn)\n            for (let i = 0; i < order.length; i++) {\n                if (!success) {\n                    await playButtonDemo(order[i]);\n                }\n            }\n            setCanPlay(true);\n        }\n    }, [start, order]);\n\n    const randomNumber = () => {\n        return Math.round(Math.random() * 3);\n    };\n\n    const pickCorrectSound = (idx) => {\n        switch (idx) {\n            case 0:\n                return require('../../../assets/sound/simon/green.mp3');\n            case 1:\n                return require('../../../assets/sound/simon/red.mp3');\n            case 2:\n                return require('../../../assets/sound/simon/yellow.mp3');\n            case 3:\n                return require('../../../assets/sound/simon/green.mp3');\n            default:\n                break;\n        }\n    };\n\n    const playButtonDemo = async (idx) => {\n        // Play a sound according to the idx and simulates a button pressure according to it\n        return new Promise(async (resolve, reject) => {\n            const { sound } = await Audio.Sound.createAsync(\n                pickCorrectSound(idx)\n            );\n            props.setSound(sound);\n            setButtonClicked(idx);\n            await sound.playAsync().then(async (playBackStatus) => {\n                setTimeout(async () => {\n                    setButtonClicked(-1);\n                    await sound.unloadAsync();\n                    resolve(true);\n                }, playBackStatus.playableDurationMillis - 320);\n            });\n        });\n    };\n\n    const yourTurn = () => {\n        if (failed) {\n            return SimonLang[props.lang].Failed();\n        } else if (niceHit) {\n            return SimonLang[props.lang].NiceHit();\n        } else {\n            return SimonLang[props.lang].YourTurn();\n        }\n    };\n\n    const playButton = async (idx) => {\n        if (!canPlay) {\n            return;\n        }\n        if (game.length >= order.length) {\n            return;\n        }\n        if (idx >= 0 && idx <= 3) {\n            let playedGame = game;\n            playedGame.push(idx);\n            setGame(playedGame);\n\n            if (sound) {\n                await sound.unloadAsync();\n            }\n            setButtonClicked(idx);\n            const { sound } = await Audio.Sound.createAsync(\n                pickCorrectSound(idx)\n            );\n            props.setSound(sound);\n\n            var time = await sound.playAsync().then((data) => {\n                return data.playableDurationMillis;\n            });\n\n            // @todo manage each hit instead of just the last one\n\n            setTimeout(async () => {\n                await sound.unloadAsync();\n                setButtonClicked(-1);\n            }, time - 320);\n            if (game[game.length - 1] !== order[game.length - 1]) {\n                await failRound(time);\n            } else if (game.length === order.length) {\n                await successRound(time, sound);\n            }\n        }\n    };\n\n    const failRound = async (time) => {\n        setFailed(true);\n        setGame([]);\n        setCanPlay(false);\n        setTries(tries - 1);\n        if (tries > 1) {\n            setTimeout(async () => {\n                for (let i = 0; i < order.length; i++) {\n                    await playButtonDemo(order[i]);\n                }\n                setCanPlay(true);\n                setFailed(false);\n            }, time - 320);\n        } else {\n            completeGame();\n        }\n    };\n\n    const completeGame = async () => {\n        props.setModal(false);\n        await API.insertScore(props.personId, order.length - 1, currentDate);\n        setCanPlay(false);\n        setSuccess(true);\n        if (dailyScore < order.length - 1) {\n            setScoreBeaten(true);\n        } else {\n            setScoreBeaten(false);\n        }\n    };\n\n    const successRound = async (time, sound) => {\n        setNiceHit(true);\n        setCanPlay(false);\n        setTimeout(async () => {\n            await sound.unloadAsync();\n            setOrder([...order, randomNumber()]);\n        }, time - 320);\n        setGame([]);\n    };\n\n    const successOverlay = () => {\n        if (!confetti) {\n            setConfetti(true);\n        }\n        return (\n            <>\n                <Text style={styles.headerOverlay}>\n                    {SimonLang[props.lang].Congratulations}\n                </Text>\n                <Text style={styles.textOverlay}>\n                    {SimonLang[props.lang].BestScoreToday(order.length - 1)}\n                </Text>\n                <Lottie\n                    LottieSource={LottieSource}\n                    ImageSource={TrophyImage}\n                    autoplay={true}\n                    loop={false}\n                    LottieStyle={{ height: 60 }}\n                    ImageStyle={{ height: 60 }}\n                />\n            </>\n        );\n    };\n\n    const failOverlay = () => {\n        if (loading) {\n            return <ActivityIndicator />;\n        }\n        return (\n            <>\n                <Text style={styles.headerOverlay}>\n                    {SimonLang[props.lang].SoBad}\n                </Text>\n                <Text style={styles.textOverlay}>\n                    {SimonLang[props.lang].ScoreNotBeated}\n                </Text>\n            </>\n        );\n    };\n\n    const retryGame = () => {\n        setConfetti(false);\n        setSuccess(false);\n        setFailed(false);\n        setTries(4);\n        setOrder([randomNumber()]);\n    };\n\n    return (\n        <>\n            {confetti ? (\n                <ConfettiCannon\n                    fadeOut={true}\n                    autoStart={true}\n                    fallSpeed={6000}\n                    count={50}\n                    origin={{ x: -20, y: -35 }}\n                />\n            ) : (\n                <></>\n            )}\n\n            {/* Overlay modal end of the game */}\n            {success ? (\n                <Overlay\n                    visible={success}\n                    overlayStyle={styles.overlayStyle}\n                    onBackdropPress={() => setSuccess(false)}\n                    ModalComponent={Modal}\n                >\n                    {scoreBeaten ? successOverlay() : failOverlay()}\n                    <View style={{ flexDirection: 'row', marginTop: 30 }}>\n                        <Button\n                            raised\n                            onPress={() => {\n                                retryGame();\n                            }}\n                            title={SimonLang[props.lang].Retry}\n                            containerStyle={{\n                                borderRadius: 13,\n                                marginRight: 10,\n                            }}\n                        />\n                        <Button\n                            raised\n                            onPress={() => {\n                                props.setTab(0);\n                            }}\n                            title={SimonLang[props.lang].Exit}\n                            containerStyle={{ borderRadius: 13 }}\n                            buttonStyle={{ backgroundColor: 'red' }}\n                        />\n                    </View>\n                </Overlay>\n            ) : (\n                <></>\n            )}\n\n            {/* Are you sure to exit - Overlay */}\n            <Overlay\n                visible={props.modal}\n                overlayStyle={styles.overlayStyle}\n                onBackdropPress={() => props.setModal(false)}\n                ModalComponent={Modal}\n            >\n                <Text style={styles.headerOverlay}>\n                    {SimonLang[props.lang].AreYouSure}\n                </Text>\n                <Text style={styles.textOverlay}>\n                    {SimonLang[props.lang].ToGiveUp}\n                </Text>\n                <View style={{ flexDirection: 'row', marginTop: 15 }}>\n                    <Button\n                        raised\n                        onPress={() => {\n                            props.setModal(false);\n                        }}\n                        title={SimonLang[props.lang].Cancel}\n                        containerStyle={{ borderRadius: 13, marginRight: 10 }}\n                    />\n                    <Button\n                        raised\n                        onPress={() => {\n                            completeGame();\n                        }}\n                        title={SimonLang[props.lang].TimeToStop}\n                        containerStyle={{ borderRadius: 13 }}\n                        buttonStyle={{ backgroundColor: 'red' }}\n                    />\n                </View>\n            </Overlay>\n\n            {/* The first row of the Simon */}\n            <View style={{ flexDirection: 'row', marginBottom: 10 }}>\n                <View\n                    style={[\n                        SimonButtonStyle,\n                        styles.SimonLeftButton,\n                        styles.SimonGreen,\n                        buttonClicked === 0 ? styles.clickedButton : '',\n                    ]}\n                    onStartShouldSetResponder={() => true}\n                    onResponderGrant={() => playButton(0)}\n                />\n                <View\n                    style={[\n                        SimonButtonStyle,\n                        styles.SimonRed,\n                        buttonClicked === 1 ? styles.clickedButton : '',\n                    ]}\n                    onStartShouldSetResponder={() => true}\n                    onResponderGrant={() => playButton(1)}\n                />\n            </View>\n\n            {/* The second row of the Simon */}\n            <View style={{ flexDirection: 'row' }}>\n                <View\n                    style={[\n                        SimonButtonStyle,\n                        styles.SimonLeftButton,\n                        styles.SimonYellow,\n                        buttonClicked === 2 ? styles.clickedButton : '',\n                    ]}\n                    onStartShouldSetResponder={() => true}\n                    onResponderGrant={() => playButton(2)}\n                />\n                <View\n                    style={[\n                        SimonButtonStyle,\n                        styles.SimonBlue,\n                        buttonClicked === 3 ? styles.clickedButton : '',\n                    ]}\n                    onStartShouldSetResponder={() => true}\n                    onResponderGrant={() => playButton(3)}\n                />\n            </View>\n\n            <View style={{ marginTop: 15 }}>\n                <Text style={{ textAlign: 'center' }}>\n                    {SimonLang[props.lang].BestScore(bestScore)}\n                </Text>\n                <Text style={{ textAlign: 'center' }}>\n                    {SimonLang[props.lang].DailyScore(dailyScore)}\n                </Text>\n                <Text style={{ textAlign: 'center', marginBottom: 15 }}>\n                    {SimonLang[props.lang].Tries(tries)}\n                </Text>\n                {start ? (\n                    <View\n                        style={{ alignContent: 'center', alignItems: 'center' }}\n                    >\n                        <Text style={{ textAlign: 'center', fontSize: 18 }}>\n                            {canPlay || failed\n                                ? yourTurn()\n                                : SimonLang[props.lang].WaitNSee()}\n                        </Text>\n                        <Text style={{ textAlign: 'center' }}>\n                            {SimonLang[props.lang].Progress(\n                                order.length,\n                                game.length\n                            )}\n                        </Text>\n                        <Button\n                            disabled={!canPlay}\n                            onPress={() => props.setModal(true)}\n                            buttonStyle={{ backgroundColor: 'red' }}\n                            containerStyle={{\n                                marginTop: 20,\n                                width: 150,\n                                borderRadius: 15,\n                            }}\n                            raised\n                            title={SimonLang[props.lang].GiveUp}\n                        />\n                    </View>\n                ) : (\n                    <>\n                        <View\n                            flexDirection={'row'}\n                            style={{\n                                alignContent: 'center',\n                                alignItems: 'center',\n                            }}\n                        >\n                            <Button\n                                buttonStyle={{\n                                    marginRight: 10,\n                                    borderRadius: 13,\n                                }}\n                                title={SimonLang[props.lang].Start}\n                                onPress={() => setStart(true)}\n                            />\n                            <Button\n                                buttonStyle={{\n                                    borderRadius: 13,\n                                    backgroundColor: 'red',\n                                }}\n                                title={SimonLang[props.lang].Leave}\n                                onPress={() => props.setTab(0)}\n                            />\n                        </View>\n                    </>\n                )}\n            </View>\n        </>\n    );\n}\n","import React, { useEffect, useState } from 'react';\nimport { View, BackHandler } from 'react-native';\nimport { Text } from 'react-native-elements';\n\nimport { Audio } from 'expo-av';\n\n// Child Components\nimport Menu from './Menu';\nimport Game from './Game';\n\nimport styles from './styles';\n\nexport default function Simon(props) {\n    const [tab, setTab] = useState(0);\n    const [sound, setSound] = useState(new Audio.Sound());\n    const [modal, setModal] = useState(false);\n\n    useEffect(() => {\n        // API.clear(props.personId);\n        // BackHandler managment\n        const backAction = () => {\n            if (sound) {\n                sound.unloadAsync();\n            }\n            if (tab > 0) {\n                if (tab !== 1) {\n                    setTab(0);\n                } else {\n                    setModal(true);\n                }\n            } else {\n                props.setPage(null);\n            }\n            return true;\n        };\n        const backHandler = BackHandler.addEventListener(\n            'hardwareBackPress',\n            backAction\n        );\n        return () => {\n            backHandler.remove();\n        };\n    }, [tab]);\n\n    const printPage = () => {\n        if (tab === 0) {\n            return (\n                <Menu\n                    setTab={setTab}\n                    lang={props.lang}\n                    setPage={props.setPage}\n                />\n            );\n        } else if (tab === 1) {\n            return (\n                <Game\n                    setTab={setTab}\n                    lang={props.lang}\n                    personId={props.personId}\n                    sound={sound}\n                    setSound={setSound}\n                    modal={modal}\n                    setModal={setModal}\n                />\n            );\n        } else if (tab === 2) {\n            return <Text>Tab 2 (Help)</Text>;\n        } else {\n            return <Text>Invalid tab</Text>;\n        }\n    };\n\n    return (\n        <>\n            <View style={styles.view}>{printPage()}</View>\n        </>\n    );\n}\n","import { Text } from 'react-native';\n\nconst applyBoldStyle = (text, clr, pos) => {\n    var color = '#3B8EFF';\n    if (clr === 'red') {\n        color = '#FF5755';\n    } else if (clr === 'green') {\n        color = '#459449';\n    }\n    let numberOfItemsAdded = 0;\n    const result = text.sentence.split(/\\{\\d+\\}/);\n    text.boldText.forEach((boldText, i) =>\n        result.splice(\n            ++numberOfItemsAdded + i,\n            0,\n            <Text key={i} style={{ fontWeight: 'bold', color: i == pos ? color : '#3B8EFF' }}>\n                {boldText}\n            </Text>\n        )\n    );\n    return <Text>{result}</Text>;\n};\n\nexport const lang = {\n    fr: {\n        Play: 'Jouer',\n        View: 'Voir les quiz',\n        Create: 'Crer un quiz',\n        Help: 'Comment a marche',\n        Leave: 'Retour',\n        NothingYet: 'Aucun quiz cre pour le moment.',\n        NoQuestionYet: 'Aucune question cre pour le moment.',\n        SuccessfulRatio: 'de russite',\n        AddQuestion: 'Ajouter une question',\n        Complete: 'Terminer la cration',\n        ImportFile: \"Importer un fichier de rfrence\",\n        ReferenceFile: \"Un fichier de rfrence est une image ou un fichier sonore que la personne visualisera pour rpondre  la question demande. Par exemple, la photo d'un frre ou d'une sur, ou une musique, ...\",\n        WhatIsTheQuestion: \"Quelle est la question ?\",\n        AddAnswer: \"Ajouter une rponse\",\n        WhatIsAnswer: \"Vous pouvez renseigner plusieurs rponses. Une fois une rponse cre, cliquez sur le bouton (+) pour l'ajouter  la liste des rponses possibles. Vous pouvez ensuite cliquer sur cette rponse une fois ajoute pour la supprimer.\",\n        OK: \"Valider\",\n        GiveUpQuizTitle: \"Abandonner le quiz\",\n        GiveUpQuiz: \"tes-vous sr de vouloir abandonner ce quiz? Le score restera enregistr.\",\n        ReturnToForm: \"Retourner  l'dition de question\",\n        CreatedQuestion: \"La question a t cre avec succs !\",\n        EditedQuestion: \"La question a t dite avec succs !\",\n        PossibleAnswers: \"rponse(s) possible(s)\",\n        DeleteQuiz: \"Supprimer un quiz\",\n        SureDeleteQuiz: \"tes-vous sr(e) de vouloir supprimer ce quiz ? Cette action est irrversible.\",\n        SureDeleteQuestion: \"tes-vous sr(e) de vouloir supprimer cette question ? Cette action est irrversible.\",\n        CompleteQuizTitleHeader: \"Crer un quiz\",\n        CompleteQuizTitle: \"Vous tes sur le point de crer un nouveau quiz. Merci de lui attribuer un titre afin que vous puissez le retrouver plus rapidement.\",\n        QuizTitle: \"Nom du quiz\",\n        CreatedQuiz: \"Quiz cre avec succs !\",\n        EditedQuiz: \"Quiz modifi avec succs !\",\n        QuizListRedirection: \"Vous allez maintenant tre redirig  la liste des quiz.\",\n        selectedQuizz: (quizName) => {\n            return applyBoldStyle({\n                sentence: 'Le quiz slectionn alatoirement est: {0}',\n                boldText: [quizName],\n            });\n        },\n        Questions: \"question(s)\",\n        SuccessTitle: \"Bien jou !! \",\n        Success: \"Bien jou ! C'est la bonne rponse !! Vous pouvez maintenant passer  la suite !\",\n        FailedTitle: \"Dommage... \",\n        Failed: (answers) => {\n            let answersText = answers.join(', ');\n            return `Dommage, mais ce n'tait pas la bonne rponse ! Les rponses possibles taient: ${answersText}.`\n        },\n        SuccessQuizTitle: \"Haut la main !\",\n        SuccessQuiz: (fail, success) => {\n            return applyBoldStyle({\n                sentence: 'Fantastique !! Vous avez russi ce quiz ! Votre score est de {0} russite(s) pour {1} erreur(s) !',\n                boldText: [success, fail]\n            }, 'red', 1)\n        },\n        FailQuizTitle: \"Une autre fois ! ...\",\n        FailQuiz: (fail, success) => {\n            return applyBoldStyle({\n                sentence: 'Dommage... Vous avez rat ce quiz ! ... Votre score est de {0} russite(s) pour {1} erreur(s) !',\n                boldText: [success, fail]\n            }, 'red', 1)\n        },\n        Save: 'Sauvegarder le quiz',\n        SaveContent: \"Sauvegarder la question\",\n        AddContent: \"Ajouter la question\",\n    },\n    en: {\n        Play: 'Play',\n        View: 'View quiz',\n        Create: 'Create a quiz',\n        Help: 'How does it works',\n        Leave: 'Leave',\n        NothingYet: 'No quiz has been created yet.',\n        NoQuestionYet: 'No question has been created yet.',\n        SuccessfulRatio: 'of success',\n        AddQuestion: 'Add a question',\n        Complete: 'Complete the quiz creation',\n        ImportFile: \"Import a reference file\",\n        ReferenceFile: \"A reference file is a picture or a sound the person will see/hear to answer the asked question. For instance, a sibling photo or a music, ...\",\n        WhatIsTheQuestion: \"What is the question?\",\n        AddAnswer: \"Add an answer\",\n        WhatIsAnswer: \"You can set up many answers. When you have done creating one, click on the (+) button. Once added, you can click on the answer in order to delete it.\",\n        OK: \"Valider\",\n        GiveUpQuizTitle: \"Give up\",\n        GiveUpQuiz: \"Are you sure to give up this quiz? The score will be saved.\",\n        ReturnToForm: \"Return to the question edition\",\n        CreatedQuestion: \"The question has been successfuly created!\",\n        EditedQuestion: \"The question has been successfuly edited!\",\n        PossibleAnswers: \"possible answer(s)\",\n        DeleteQuiz: \"Delete a quiz\",\n        SureDeleteQuiz: \"Are you sure to delete this quiz? This action cannot be undone.\",\n        SureDeleteQuestion: \"Are you sure to delete this question? This action cannot be undone.\",\n        CompleteQuizTitleHeader: \"Create a quiz\",\n        CompleteQuizTitle: \"You are about to complete the quiz creation. Please provide a title in order to help you find it easier later.\",\n        QuizTitle: \"Quiz title\",\n        CreatedQuiz: \"Quiz successfuly created!\",\n        EditedQuiz: \"Quiz successfuly edited!\",\n        QuizListRedirection: \"You will now be redirect to the quiz list.\",\n        selectedQuizz: (quizName) => {\n            return applyBoldStyle({\n                sentence: 'The randomly selected quiz is: {0}',\n                boldText: [quizName],\n            });\n        },\n        Questions: \"question(s)\",\n        SuccessTitle: \"Well played!! \",\n        Success: \"Well played! That's the good answer!! You can now go to the next question!\",\n        FailedTitle: \"Oops... \",\n        Failed: (answers) => {\n            let answersText = answers.join(', ');\n            return `Oops, that's not a valid answer... the valid answer${answers.length > 0 ? 's were' : ' was'} : ${answersText}.`\n        },\n        SuccessQuizTitle: \"Easy peasy!\",\n        SuccessQuiz: (fail, success) => {\n            return applyBoldStyle({\n                sentence: 'Congratulations!! You won this quiz! Your score is for {0} good answer(s) for {1} mistake!',\n                boldText: [success, fail]\n            }, 'red', 1)\n        },\n        FailQuizTitle: \"Une autre fois ! ...\",\n        FailQuiz: (fail, success) => {\n            return applyBoldStyle({\n                sentence: \"It's alright... You failed this quiz!... Your score is for {0} good answer(s) for {1} mistake!\",\n                boldText: [success, fail]\n            }, 'red', 1)\n        },\n        Save: 'Save the quiz',\n        SaveContent: \"Save the question\",\n        AddContent: \"Add the question\",\n    },\n};\n","import { StyleSheet } from 'react-native';\n\nexport default StyleSheet.create({\n    view: {\n        marginVertical: 20,\n        flex: 1,\n        alignItems: 'center',\n    },\n    logo: {\n        width: 80,\n        height: 80,\n        marginVertical: 20,\n        opacity: 0.8,\n        marginBottom: 40,\n    },\n    button: {\n        width: 235,\n        marginBottom: 25,\n        borderRadius: 10,\n        marginHorizontal: 5,\n    },\n    leaveButton: {\n        width: 235,\n        marginTop: 40,\n        backgroundColor: 'red',\n        borderRadius: 10,\n        marginHorizontal: 5,\n    },\n    leaveButtonPlay: {\n        width: 235,\n        marginTop: 20,\n        backgroundColor: 'red',\n        borderRadius: 10,\n        marginHorizontal: 5,\n    },\n    playButton: {\n        width: 235,\n        marginTop: 10,\n        backgroundColor: 'blue',\n        borderRadius: 10,\n        marginHorizontal: 5,\n    },\n    createButton: {\n        width: 260,\n        borderRadius: 15,\n    },\n    safeArea: {\n        backgroundColor: 'white',\n        marginTop: 1,\n        marginBottom: 40,\n        height: 100 + '%',\n        width: 100 + '%'\n    },\n    nothingYet: {\n        textAlign: 'center',\n        color: 'gray',\n        marginTop: 30,\n    },\n    loading: {\n        marginTop: 30,\n    },\n    overlay: {\n        borderRadius: 20,\n        paddingHorizontal: 45,\n        paddingVertical: 30,\n        alignItems: 'center',\n    },\n    overlayDescriptionReference: {\n        width: 250,\n        textAlign: 'center',\n        color: '#495058',\n        marginVertical: 15\n    },\n    ScrollView: {\n        alignItems: 'center',\n        marginVertical: 30,\n        paddingBottom: 40\n    },\n    ScrollViewSuccess: {\n        alignItems: 'center',\n        marginVertical: -10,\n        paddingBottom: 40\n    },\n    imageSuccess: {\n        width: 300,\n        height: 300,\n    },\n    successPageTitle: {\n        alignSelf: 'center',\n        width: 250,\n        textAlign: 'center',\n        fontWeight: 'bold',\n        fontSize: 24,\n        color: '#788bff',\n        marginBottom: 10,\n    },\n    modal: {\n        borderRadius: 20,\n        paddingHorizontal: 30,\n        paddingVertical: 30,\n        alignItems: 'center',\n    },\n    modalTitle: {\n        marginBottom: 30,\n        width: 250,\n        textAlign: 'center',\n        fontWeight: 'bold',\n        fontSize: 18\n    },\n    modalDescription: {\n        width: 250,\n        textAlign: 'center',\n        color: '#495058',\n        // marginVertical: 15\n    },\n    quizTitleInputContainer: {\n        width: 290,\n        marginTop: 10\n    },\n    quizTitleInput: {\n        fontSize: 15\n    },\n    badgesView: {\n        flexDirection: 'row',\n        justifyContent:'center',\n        flexWrap:'wrap',\n        alignItems:'center',\n        alignContent:'center',\n        marginBottom: 50\n    },\n    quizzTitle: {\n        fontWeight: 'bold',\n        fontSize: 25,\n        textAlign: 'center',\n        width: 250\n    },\n    topMediaQuestion: {\n        borderRadius: 80,\n        width: 250,\n        height: 250\n    },\n    gameQuestion: {\n        fontSize: 25,\n        marginTop: 10,\n        fontWeight: 'bold',\n        color: '#788bff'\n    },\n    flexQuizGame: {\n        flex: 1,\n        flexDirection: 'row',\n        marginTop: 15,\n        alignContent:'center',\n        width: 70 + '%',\n        justifyContent: 'flex-start'\n    },\n    inputQuizGame: {\n        backgroundColor: 'white',\n        borderTopLeftRadius: 10,\n        borderTopRightRadius: 10,\n        borderColor: 'grey',\n        borderWidth: 1,\n        paddingHorizontal: 20,\n        borderBottomWidth: 0,\n        color: 'grey'\n    },\n    buttonQuizGameOK: {\n        paddingHorizontal: 15,\n        borderRadius: 15\n    }\n});\n","import React from 'react';\nimport { Image, ActivityIndicator } from 'react-native';\nimport { Button, Icon } from 'react-native-elements';\n\nimport { lang as QuizLang } from '../../../language/activities/quiz';\n\nimport QuizLogo from '../../../assets/img/activities/quiz/logo.png';\n\nimport styles from './styles';\n\nexport default function Menu(props) {\n    return (\n        <>\n            <Image source={QuizLogo} style={styles.logo} />\n\n            <Button\n                title={props.isLoading ? <ActivityIndicator color={'blue'} size={'small'} /> : QuizLang[props.lang].Play}\n                containerStyle={styles.button}\n                onPress={() => props.setTab(1)}\n                icon={\n                    <Icon\n                        name={'play-outline'}\n                        type={'ionicon'}\n                        color={'white'}\n                        size={15}\n                        style={{ marginHorizontal: 5 }}\n                    />\n                }\n                disabled={props.quiz.length === 0}\n            />\n\n            <Button\n                title={QuizLang[props.lang].View}\n                containerStyle={styles.button}\n                onPress={() => props.setTab(2)}\n                icon={\n                    <Icon\n                        name={'book-outline'}\n                        type={'ionicon'}\n                        color={'white'}\n                        size={15}\n                        style={{ marginHorizontal: 5 }}\n                    />\n                }\n            />\n\n            <Button\n                title={QuizLang[props.lang].Help}\n                containerStyle={styles.button}\n                onPress={() => props.setTab(3)}\n                icon={\n                    <Icon\n                        name={'help-circle-outline'}\n                        type={'ionicon'}\n                        color={'white'}\n                        size={15}\n                        style={{ marginHorizontal: 5 }}\n                    />\n                }\n            />\n\n            <Button\n                title={QuizLang[props.lang].Leave}\n                buttonStyle={{ backgroundColor: 'red' }}\n                containerStyle={styles.leaveButton}\n                onPress={() => props.setPage(null)}\n                icon={\n                    <Icon\n                        name={'caret-back-outline'}\n                        type={'ionicon'}\n                        color={'white'}\n                        size={15}\n                        style={{ marginHorizontal: 5 }}\n                    />\n                }\n            />\n        </>\n    );\n}\n","import {\n    View,\n    Image\n} from 'react-native';\nimport { Icon, FAB, Avatar } from 'react-native-elements';\nimport { Audio } from 'expo-av';\n\nexport const printFile = (fileType, uri, clearFile, isPlaying, pauseSound, setIsPlaying, sound, setSound) => {\n    if (fileType === 'image') {\n        return (\n            <View>\n                <FAB\n                    color='red'\n                    style={{marginLeft: 20, position:'absolute', zIndex: 9}}\n                    size=\"small\"\n                    icon={{name: 'close-circle-outline', type: 'ionicon', color:'white' }}\n                    onPress={() => {\n                        clearFile();\n                    }}\n                />\n                <Image source={{uri: uri}} style={{width: 200, height: 200, borderRadius: 100, marginBottom: 30}} />\n            </View>\n        );\n    } else if (fileType === 'audio') {\n        return (\n            <View>\n                <FAB\n                    color='red'\n                    style={{marginLeft: 100, position:'absolute', zIndex: 9}}\n                    size=\"small\"\n                    icon={{name: 'close-circle-outline', type: 'ionicon', color:'white' }}\n                    onPress={() => {\n                        clearFile();\n                    }}\n                />\n                <Icon onPress={() => isPlaying ? pauseSound() : playSound(setIsPlaying, sound, setSound, uri) } raised size={50} name={isPlaying ? \"pause-circle-outline\" : \"play-circle-outline\"} color={'#246364'} type={\"ionicon\"} containerStyle={{marginBottom: 30, zIndex: 2}} />\n            </View>\n        );\n    }\n};\n\nexport const playSound = async (setIsPlaying, sound, setSound, uri) => {\n    setIsPlaying(true);\n    await Audio.setAudioModeAsync({\n        staysActiveInBackground: true,\n        shouldDuckAndroid: true,\n    });\n    const getSoundStatus = await sound?.getStatusAsync();\n    if (getSoundStatus?.isLoaded === false) {\n        await sound.loadAsync({ uri: uri });\n        setSound(sound);\n    }\n    await sound.playAsync();\n    sound.setOnPlaybackStatusUpdate(async (playbackStatus) => {\n        if (playbackStatus.didJustFinish) {\n            await sound.unloadAsync();\n            setIsPlaying(false);\n        }\n    });\n};\n\nexport const pickCorrectIcon = (fileType, uri) => {\n    if (fileType === 'image') {\n        return (\n            <Avatar\n                source={{ uri: uri }}\n                rounded\n                size={'medium'}\n                containerStyle={{marginHorizontal: 8}}\n            />\n        );\n    } else if (fileType === 'audio') {\n        return (\n            <Icon\n                raised\n                name={'musical-notes-outline'}\n                type={'ionicon'}\n                color={'#8F9EB0'}\n            />\n        );\n    } else {\n        return (\n            <Icon\n                raised\n                name={'text-outline'}\n                type={'ionicon'}\n                color={'#8F9EB0'}\n            />\n        );\n    }\n};","import React, { useState } from 'react'\nimport {\n    ListItem,\n    Icon,\n    Overlay,\n    Button\n} from 'react-native-elements';\nimport { Platform, Modal, View, Text } from 'react-native';\nimport { lang as QuizLang } from '../../../../language/activities/quiz';\n\nimport { pickCorrectIcon } from '../utils/quizFunc';\n\nimport styles from '../styles';\n\nexport default function QuestionList(props) {\n    const [modal, setModal] = useState(false);\n\n    const length = props.quizEdit?.content?.length + props.newContent?.length;\n\n    const pickOutQuestion = () => {\n        if (length <= 2 && props.quizEdition) return;\n        if (props.quizEdition === true) {\n            if (Number.isInteger(props.questionId)) {\n                // if the questionId is an integer, it means it has not\n                // been added to the api yet, so it's an index of the\n                // newContent array passed in the props from the ViewQuiz Component\n\n                const index = props.questionId - props.quizEdit?.content?.length;\n                const tmp = props.newContent;\n                tmp.splice(index, 1);\n                // take out the new content from the newContent state in the\n                // parent component\n                props.setNewContent([...tmp]);\n            } else {\n                // todo not get by api but update quizedit state\n                // update api only when saving quiz\n                const index = props.quizEdit.content.findIndex(el => el.id == props.questionId );\n                const tmp = props.quizEdit;\n                tmp.content.splice(index, 1);\n                props.setQuizEdit(tmp);\n                props.setReload(!props.reload)\n                props.setEditedQuiz(true);\n            }\n        } else {\n            const tmp = props.quizEdition ? props.content : props.contentList;\n            tmp.splice(props.index, 1)\n            props.setContent([...tmp]);\n        }\n        setModal(false);\n    };\n\n    var TouchableScale = Platform.OS !== 'web' ? require('react-native-touchable-scale').default : null;\n    let mod = props.index % 2 == 0 ? {backgroundColor: 'white'} : {backgroundColor: '#f3f3f3'};\n    let componentProps = \n        Platform.OS !== 'web' ?\n            { Component:TouchableScale, key:props.index, bottomDivider:true, containerStyle:mod } :\n            { key: props.index, bottomDivider:true, containerStyle:mod };\n    return(\n        <>\n        <Overlay\n            visible={modal}\n            overlayStyle={styles.overlay}\n            onBackdropPress={() => setModal(false)}\n            ModalComponent={Modal}\n        >\n            <Text style={{marginBottom: 30, width: 250, textAlign: 'center'}}>{QuizLang[props.lang].SureDeleteQuestion}</Text>\n            <View style={{ flexDirection: 'row' }}>\n                <Button\n                    title={QuizLang[props.lang].Leave}\n                    buttonStyle={{ backgroundColor: 'red' }}\n                    containerStyle={{ marginRight: 10 }}\n                    onPress={() => setModal(false)}\n                />\n                <Button\n                    title={QuizLang[props.lang].OK}\n                    buttonStyle={{ fontWeight: 'bold' }}\n                    onPress={() => pickOutQuestion() }\n                />\n            </View>\n        </Overlay>\n            <ListItem {...componentProps} onPress={() => { props.setEditContent(props.questionId) }} >\n                { pickCorrectIcon(props.content.fileType, props.content.uri) }\n                <ListItem.Content>\n                    <ListItem.Title>{props.content.question}</ListItem.Title>\n                    <ListItem.Subtitle>{props.content?.answers?.length || 1} {QuizLang[props.lang].PossibleAnswers}</ListItem.Subtitle>\n                </ListItem.Content>\n                <Icon disabled={props.quizEdition == true && length <= 2} reverse size={15} style={{backgroundColor:'red'}} name={'trash-outline'} type={'ionicon'} color={'red'} onPress={(e) => { setModal(true) }} />\n            </ListItem>\n        </>\n    )\n};","export function ScoreRatio (content, personId) {\n    var success = 0;\n    var fail = 0;\n    content.map( (el, i) => {\n        const score = el.score.filter( (el) => el.personId == personId );\n        score.map( (el, i) => {\n            success += parseInt(el.success);\n            fail += parseInt(el.failed);\n        });\n    });\n    const total = success + fail;\n    return ((success / total) * 100).toFixed(2);\n};","import React, { useEffect, useState } from 'react';\nimport { ListItem, Icon } from 'react-native-elements';\nimport { Platform, Alert } from 'react-native';\nimport { lang as QuizLang } from '../../../language/activities/quiz';\n\nimport { ScoreRatio } from './utils/scoreFunc';\n\nexport default function QuizList(props) {\n    var TouchableScale =\n        Platform.OS !== 'web'\n            ? require('react-native-touchable-scale').default\n            : null;\n    let mod =\n        props.index % 2 === 0\n            ? { backgroundColor: 'white' }\n            : { backgroundColor: '#f3f3f3' };\n    let componentProps =\n        Platform.OS !== 'web'\n            ? {\n                  Component: TouchableScale,\n                  key: props._id,\n                  bottomDivider: true,\n                  containerStyle: mod,\n              }\n            : { key: props._id, bottomDivider: true, containerStyle: mod };\n\n    return (\n        <ListItem {...componentProps} onPress={() => {\n                props.setEdit(true);\n                props.setQuizEdit(props.quiz);\n            }}>\n            <ListItem.Content>\n                <ListItem.Title>{props.quiz.name}</ListItem.Title>\n                <ListItem.Subtitle>\n                    {ScoreRatio(props.quiz.content, props.personId) || 1}{'% '}\n                    {QuizLang[props.lang].SuccessfulRatio}\n                </ListItem.Subtitle>\n                <ListItem.Subtitle>\n                    {props.quiz?.content?.length || 1}{' '}\n                    {QuizLang[props.lang].Questions}\n                </ListItem.Subtitle>\n            </ListItem.Content>\n            <Icon\n                reverse\n                size={15}\n                style={{ backgroundColor: 'red' }}\n                name={'trash-outline'}\n                type={'ionicon'}\n                color={'red'}\n                onPress={() => {\n                    return Alert.alert(\n                        QuizLang[props.lang].DeleteQuiz,\n                        QuizLang[props.lang].SureDeleteQuiz,\n                        [\n                            {\n                                text: QuizLang[props.lang].Leave,\n                                onPress: () => { null },\n                                style: 'cancel'\n                            },\n                            {\n                                text: QuizLang[props.lang].OK,\n                                onPress: () => {\n                                    props.deleteId(props.quiz._id);\n                                }\n                            },\n                        ]\n                    );\n                }}\n            />\n        </ListItem>\n    );\n}\n","import React from 'react';\nimport {\n    ActivityIndicator,\n    Text,\n    ScrollView,\n} from 'react-native';\nimport { lang as QuizLang } from '../../../language/activities/quiz';\nimport QuizList from './QuizList';\nimport styles from './styles';\n\nimport * as API from '../../../data/quizApi';\n\nexport default function ViewQuizList(props) {\n\n    const deleteId = (quizId) => {\n        API.deleteId(props.personId, quizId).then((data) => {\n            props.setReload(!props.reload);\n        });\n    };\n\n    return (\n        <ScrollView>\n            {props.loading ? (\n                <ActivityIndicator\n                    color={'blue'}\n                    size={'small'}\n                    style={styles.loading}\n                />\n            ) : props.quiz?.length > 0 ? (\n                props.quiz?.map((el, i) => {\n                    return (\n                        <QuizList\n                            index={i}\n                            key={el._id}\n                            quiz={el}\n                            lang={props.lang}\n                            deleteId={deleteId}\n                            personId={props.personId}\n                            setEdit={props.setEdit}\n                            setQuizEdit={props.setQuizEdit}\n                        />\n                    );\n                })\n            ) : (\n                <Text style={styles.nothingYet}>\n                    {QuizLang[props.lang].NothingYet}\n                </Text>\n            )}\n        </ScrollView>\n    );\n}\n","import React from 'react';\nimport { View, Text } from 'react-native';\nimport { Button } from 'react-native-elements';\nimport Lottie from '../../utils/Lottie';\n\nimport SuccessImage from '../../../assets/img/activities/quiz/success.gif';\n\nimport styles from './styles';\n\nimport { lang as QuizLang } from '../../../language/activities/quiz';\n\nexport default function SuccessContent(props) {\n    const LottieSource = require('../../../assets/lottie/success.json');\n\n    return (\n        <View>\n            <Lottie\n                LottieSource={LottieSource}\n                ImageSource={SuccessImage}\n                LottieStyle={styles.imageSuccess}\n                ImageStyle={styles.imageSuccess}\n                loop={false}\n                autoPlay={true}\n            />\n            <Text style={styles.successPageTitle}>\n                {props.edit === false\n                    ? QuizLang[props.lang].CreatedQuestion\n                    : QuizLang[props.lang].EditedQuestion}\n            </Text>\n            <Button\n                title={QuizLang[props.lang].ReturnToForm}\n                style={{ backgroundColor: 'grey' }}\n                onPress={(e) => {\n                    props.close();\n                }}\n            />\n        </View>\n    );\n};","import React, { useState } from 'react';\nimport {\n    View,\n    Text,\n    ScrollView,\n    SafeAreaView,\n} from 'react-native';\nimport { Button, Icon, Input, Badge, FAB } from 'react-native-elements';\nimport * as DocumentPicker from 'expo-document-picker';\nimport { printFile } from '../utils/quizFunc';\n\nimport { lang as QuizLang } from '../../../../language/activities/quiz';\nimport SuccessContent from '../SuccessContent';\n\nimport styles from '../styles';\n\nexport default function FormQuizContent(props) {\n    const [answer, setAnswer] = useState();\n    \n    const addAnswer = () => {\n        if (!answer?.trim() || props.answers.length >= 10) {\n            return null;\n        } else if (props.answers?.includes(answer?.trim()?.toLowerCase()) === false) {\n            props.setAnswers([...props.answers, answer?.trim()?.toLowerCase()]);\n        }\n        setAnswer();\n    };\n\n    const pickOutAnswer = (i) => {\n        const tmp = props.answers;\n        tmp.splice(i, 1)\n        props.setAnswers([...tmp]);\n    };\n\n    const clearFile = () => {\n        props.setFileType();\n        props.setFilename();\n        props.setUri();\n    };\n\n    const pickFile = async () => {\n        if (Platform.OS === 'web') {\n            alert('todo');\n            return;\n        }\n\n        let result = await DocumentPicker.getDocumentAsync({type: ['image/*', 'audio/*']});\n        if (result.type === 'cancel') {\n            return;\n        }\n\n        props.setUri(result.uri);\n        props.setFileType(result.mimeType.split('/')[0]);\n        props.setFilename(result.name);\n    };\n\n    const close = () => {\n        props.setSuccess(false);\n    }\n\n    if (props.success) {\n        return (\n            <SafeAreaView style={styles.safeArea}>\n                <ScrollView contentContainerStyle={styles.ScrollViewSuccess}>\n                    <SuccessContent edit={false} lang={props.lang} close={close} />\n                </ScrollView>\n            </SafeAreaView>\n        );\n    }\n\n    return (\n        <SafeAreaView style={styles.safeArea}>\n            <ScrollView contentContainerStyle={styles.ScrollView}>\n                { printFile(props.fileType, props.uri, clearFile, props.isPlaying, props.pauseSound, props.setIsPlaying, props.sound, props.setSound) }\n                <Button\n                    title={QuizLang[props.lang].ImportFile}\n                    buttonStyle={{ borderRadius: 15 }}\n                    onPress={pickFile}\n                />\n                <Text style={styles.overlayDescriptionReference}>\n                    {QuizLang[props.lang].ReferenceFile}\n                </Text>\n                <View style={{flexDirection: 'row', alignItems: 'center', marginHorizontal: 45, flexShrink: 1, flexWrap:'wrap'}}>\n                    <Input\n                        value={props.question}\n                        inputStyle={{fontSize: 14}}\n                        containerStyle={{marginBottom: 50}}\n                        placeholder={QuizLang[props.lang].WhatIsTheQuestion}\n                        onChangeText={(e) => props.setQuestion(e)}\n                    />\n                    <View style={{flexDirection: 'row', alignItems: 'center', flexShrink: 1, flexWrap:'nowrap', width: 90 + '%'}}>\n                    <Input\n                        placeholder={QuizLang[props.lang].AddAnswer}\n                        inputStyle={{fontSize: 14}}\n                        value={answer}\n                        onChangeText={(e) => setAnswer(e)}\n                    />\n                    <Button\n                        icon={\n                            <Icon\n                                name={'add-circle'}\n                                type={'ionicon'}\n                                color={'white'}\n                                size={18}\n                                style={{ marginHorizontal: 5 }}\n                            />\n                        }\n                        onPress={() => addAnswer()}\n                        disabled={props.answers.length >= 10}\n                    />\n                    </View>\n                </View>\n                <Text style={styles.overlayDescriptionReference}>\n                    {QuizLang[props.lang].WhatIsAnswer}\n                </Text>\n                <View style={styles.badgesView}>\n                    {props.answers.map( (el, i) => {\n                        return(\n                            <Badge\n                                key={i}\n                                value={el}\n                                badgeStyle={{paddingHorizontal: 15, height: 30, marginHorizontal: 10, marginVertical: 4}}\n                                onPress={() => pickOutAnswer(i)}\n                            />\n                        )\n                    })}\n                </View>\n            </ScrollView>\n        </SafeAreaView>\n    );\n};","import React, { useState, useEffect } from 'react';\nimport {\n    View,\n    SafeAreaView,\n    ScrollView,\n    Alert,\n    Text\n} from 'react-native';\nimport { Button, Icon, Divider, FAB } from 'react-native-elements';\n\nimport QuestionList from './Creation/QuestionList';\nimport ViewQuizList from './ViewQuizList';\n\nimport * as API from '../../../data/quizApi';\n\nimport { lang as QuizLang } from '../../../language/activities/quiz';\nimport FormQuizContent from './Creation/FormQuizContent';\n\nimport { Audio } from 'expo-av';\n\nimport styles from './styles';\n\nexport default function ViewQuiz(props) {\n    // if the user is editing or not an existing quiz\n    const [edit, setEdit] = useState(false);\n\n    // if the user want to add a question to an existing quiz\n    const [newQuestion, setNewQuestion] = useState(false);\n\n    // if the user want to edit an existing question to an existing quiz\n    const [editContent, setEditContent] = useState();\n\n    // the existing quiz to edit\n    const [quizEdit, setQuizEdit] = useState();\n\n    // the new content to add in an existing quiz\n    const [newContent, setNewContent] = useState([]);\n\n    // check if something has been edited\n    const [editedQuiz, setEditedQuiz] = useState(false);\n\n    // the states for the quiz edition (add / edit question)\n    const [question, setQuestion] = useState();\n    const [answers, setAnswers] = useState([]);\n    const [uri, setUri] = useState();\n    const [filename, setFilename] = useState();\n    const [fileType, setFileType] = useState();\n    const [isPlaying, setIsPlaying] = useState(false);\n    const [sound, setSound] = useState(new Audio.Sound());\n    const [success, setSuccess] = useState(false);\n\n    // Add a new question on the list\n    const pushContent = () => {\n        const push = {\n            uri: uri,\n            filename: filename,\n            answers: answers,\n            question: question,\n            fileType: fileType\n        };\n        // Clear the creation form\n        setFileType();\n        setUri();\n        setFilename();\n        setAnswers([]);\n        setQuestion();\n\n        setNewContent([...newContent, push]);\n        setEditedQuiz(true);\n        setSuccess(true);\n    };\n\n    const saveContent = () => {\n        let content;\n        let index;\n        if (Number.isInteger(editContent)) {\n            // edit newContent array\n            content = newContent[editContent - quizEdit?.content?.length];\n        } else {\n            // edit quizEdit array\n\n            // for already in api content -- think of reuploading the file\n            // if there's a new one, or to delete it\n            index = quizEdit.content.findIndex(el => el.id == editContent);\n            content = quizEdit.content[index];\n            if (fileType != content.fileType || uri != content.uri)\n                content.editedFile = true;\n        }\n        content.filename= filename;\n        content.fileType = fileType;\n        content.uri = uri;\n        content.answers = answers;\n        content.question = question;\n        setEditedQuiz(true);\n        setSuccess(true);\n        if (Number.isInteger(editContent)) {\n            if (newContent.length == 1)\n                setNewContent([content]);\n            else\n                setNewContent([...content]);\n        } else {\n            quizEdit.content[index] = content;\n            setQuizEdit(quizEdit);\n        }\n    };\n\n    // clear the states before edition or creation of a content\n    const clearState = () => {\n        setAnswers([]);\n        setQuestion();\n        setFileType();\n        setFilename();\n        setUri();\n        setSound(new Audio.Sound());\n    };\n\n    // Save the edited quiz\n    const saveQuiz = () => {\n        if (!editedQuiz) return;\n        const content = quizEdit.content.concat(newContent);\n        API.saveQuiz(props.personId, quizEdit._id, content).then((data) => {\n            return Alert.alert(\n                QuizLang[props.lang].EditedQuiz,\n                QuizLang[props.lang].QuizListRedirection,\n                [\n                    {\n                        text: QuizLang[props.lang].OK,\n                        onPress: () => {\n                            props.setReload(!props.reload);\n                            setNewContent([]);\n                            goBack();\n                        },\n                    }\n                ]\n            );\n        });\n    }\n\n    const pauseSound = async () => {\n        const getSoundStatus = await sound?.getStatusAsync();\n        if (getSoundStatus.isLoaded)\n            await sound.pauseAsync();\n        setIsPlaying(false);\n    };\n\n    const viewPage = () => {\n        if (editContent && !newQuestion) {\n            if (success) setSuccess(false);\n            let content;\n            if (Number.isInteger(editContent)) {\n                content = newContent[editContent - quizEdit?.content?.length];\n            } else {\n                const index = quizEdit.content.findIndex(el => el.id == editContent);\n                content = quizEdit.content[index];\n            }\n            if (!content) return;\n            setFilename(content.filename);\n            setFileType(content.fileType);\n            setUri(content.uri);\n            setQuestion(content.question);\n            setAnswers([...content.answers]);\n            setNewQuestion(true);\n        } else if (newQuestion) { // if the user wants to set a new question for quiz edition\n            return (<FormQuizContent\n                        lang={props.lang}\n                        setAnswers={setAnswers}\n                        setFileType={setFileType}\n                        setQuestion={setQuestion}\n                        setUri={setUri}\n                        setFilename={setFilename}\n                        setSuccess={setSuccess}\n                        setSound={setSound}\n                        setIsPlaying={setIsPlaying}\n                        pauseSound={pauseSound}\n                        uri={uri}\n                        filename={filename}\n                        answers={answers}\n                        fileType={fileType}\n                        question={question}\n                        success={success}\n                        sound={sound}\n                        isPlaying={isPlaying}\n                />);\n        } else if (edit && !newQuestion) {\n             // if the user want to see all the question for the quiz edition\n            return (quizEdit.content)?.concat(newContent)?.map((el, i) => {\n                return (<QuestionList\n                    index={i}\n                    key={i}\n                    id={quizEdit._id || 0}\n                    quizEdit={quizEdit}\n                    newContent={newContent}\n                    content={el}\n                    lang={props.lang}\n                    questionId={el.id || i}\n                    quizEdition={true}\n                    reload={props.reload}\n                    setReload={props.setReload}\n                    setEditedQuiz={setEditedQuiz}\n                    setEditContent={setEditContent}\n                    setQuizEdit={setQuizEdit}\n                    setNewContent={setNewContent}\n                />);\n            })\n        } else {\n             // if the user want to see all the existing quiz for the quiz edition\n            return (<ViewQuizList\n                quiz={props.quiz}\n                loading={props.loading}\n                lang={props.lang}\n                personId={props.personId}\n                setEdit={setEdit}\n                setQuizEdit={setQuizEdit}\n                setReload={props.setReload}\n            />);\n        }\n    };\n\n    const goBack = () => {\n        if (editContent) {\n            clearState();\n            setEditContent();\n            setNewQuestion(false);\n        } else if (newQuestion)\n            setNewQuestion(false);\n        else if (edit) {\n            setEditedQuiz(false);\n            setEdit(false);\n        } else\n            props.setTab(0);\n    };\n\n    const buttonTop = (mode) => {\n        if (editContent) {\n            // edit a question button\n            if (mode == 'title') return QuizLang[props.lang].SaveContent;\n            else if (mode == 'disabled') return !(answers.length > 0 && question.length > 2);\n            else if (mode == 'onpress') return saveContent();\n        } else if (newQuestion) {\n            // add a question button\n            if (mode == 'title') return QuizLang[props.lang].AddContent;\n            else if (mode == 'disabled') return !(answers.length > 0 && question.length > 2);\n            else if (mode == 'onpress') return pushContent();\n        } else if (edit) {\n            // save the quiz button\n            if (mode == 'title') return QuizLang[props.lang].Save;\n            else if (mode == 'disabled') return !(editedQuiz);\n            else if (mode == 'onpress') return saveQuiz();\n        } else {\n            // create a quiz button\n            if (mode == 'title') return QuizLang[props.lang].Create;\n            else if (mode == 'disabled') false;\n            else if (mode == 'onpress') return props.setTab(4);\n        }\n    };\n\n    return (\n        <>\n            <View style={{ flexDirection: 'row' }}>\n                <Button\n                    title={ buttonTop('title') }\n                    containerStyle={styles.createButton}\n                    icon={\n                        <Icon\n                            name={edit ? 'save-outline' : 'construct-outline'}\n                            type={'ionicon'}\n                            color={'white'}\n                            size={15}\n                            style={{ marginHorizontal: 5 }}\n                        />\n                    }\n                    onPress={() => {\n                        buttonTop('onpress')\n                    }}\n                    disabled={ buttonTop('disabled') }\n                />\n                <FAB\n                    color='red'\n                    style={{marginLeft: 20}}\n                    size=\"small\"\n                    icon={{name: 'caret-back-outline', type: 'ionicon', color:'white' }}\n                    onPress={() => goBack() }\n                />\n            </View>\n            <Divider\n                color={'grey'}\n                width={1}\n                style={{ width: 100 + '%', marginTop: 20 }}\n            />\n            <SafeAreaView style={styles.safeArea}>\n                {\n                    edit && !newQuestion && !editContent ?\n                    <Button\n                        title={QuizLang[props.lang].AddQuestion}\n                        icon={\n                            <Icon\n                                name={'add-circle-outline'}\n                                type={'ionicon'}\n                                color={'white'}\n                                size={15}\n                                style={{ marginHorizontal: 5 }}\n                            />\n                        }\n                        onPress={() => setNewQuestion(true) }\n                    /> : <></>\n                }\n                <ScrollView style={{marginBottom: 40}}>\n                { viewPage() }\n                </ScrollView>\n            </SafeAreaView>\n        </>\n    );\n}\n","import React, { useEffect, useState } from 'react';\nimport {\n    View,\n    ActivityIndicator,\n    Text,\n    ScrollView,\n    SafeAreaView,\n    Modal,\n    Alert\n} from 'react-native';\nimport { Button, Icon, Divider, FAB, Overlay, Input } from 'react-native-elements';\n\nimport QuestionList from './QuestionList';\n\nimport FormQuizContent from './FormQuizContent';\n\nimport { lang as QuizLang } from '../../../../language/activities/quiz';\nimport * as API from '../../../../data/quizApi';\nimport { Audio } from 'expo-av';\n\nimport styles from '../styles';\n\nexport default function CreateQuiz(props) {\n    const [createQuestion, setCreateQuestion] = useState(false);\n    const [content, setContent] = useState([]);\n    const [disable, setDisable] = useState(true);\n    const [name, setName] = useState('');\n    const [modal, setModal] = useState(false);\n\n    const [editContent, setEditContent] = useState();\n\n    // Related to the Create Content Component\n    const [uri, setUri] = useState();\n    const [filename, setFilename] = useState();\n    const [fileType, setFileType] = useState();\n    const [answers, setAnswers] = useState([]);\n    const [question, setQuestion] = useState();\n    const [success, setSuccess] = useState(false);\n    const [isPlaying, setIsPlaying] = useState(false);\n    const [sound, setSound] = useState(new Audio.Sound());\n\n    useEffect( () => {\n        if (answers?.length > 0 && question) {\n            setDisable(false);\n        } else {\n            setDisable(true);\n        }\n    }, [answers, question]);\n\n    const createQuiz = () => {\n        API.create(props.personId, {\n            name: name,\n            content: content,\n            personId: props.personId\n        }).then(data => {\n            return Alert.alert(\n                QuizLang[props.lang].CreatedQuiz,\n                QuizLang[props.lang].QuizListRedirection,\n                [\n                    {\n                        text: QuizLang[props.lang].OK,\n                        onPress: () => {\n                            setModal(false);\n                            props.setTab(2);\n                        },\n                    }\n                ]\n            );\n        }).catch(err => {\n            console.log(err);\n        });\n    };\n\n    // Add a new question on the list\n    const pushContent = () => {\n        const newContent = {\n            uri: uri,\n            filename: filename,\n            answers: answers,\n            question: question,\n            fileType: fileType\n        };\n        // Clear the creation form\n        setFileType();\n        setUri();\n        setFilename();\n        setAnswers([]);\n        setQuestion();\n\n        setContent([...content, newContent]);\n        setSuccess(true);\n    };\n\n    const pauseSound = async () => {\n        const getSoundStatus = await sound?.getStatusAsync();\n        if (getSoundStatus.isLoaded)\n            await sound.pauseAsync();\n        setIsPlaying(false);\n    };\n\n    const printQuestionList = () => {\n        if (content.length === 0) {\n            return (<Text style={styles.nothingYet}>\n                {QuizLang[props.lang].NoQuestionYet}\n            </Text>);\n        } else {\n            return content?.map((el, i) => {\n                return (\n                    <QuestionList\n                        index={i}\n                        key={i}\n                        id={i}\n                        content={el}\n                        lang={props.lang}\n                        setContent={setContent}\n                        setEditContent={setEditContent}\n                        contentList={content}\n                    />\n                );\n            });\n        }\n    };\n\n    const printPage = () => {\n        if (createQuestion) { // if the user is creating a new question\n            return <FormQuizContent\n                /* Form to create a quiz */\n                lang={props.lang}\n                setAnswers={setAnswers}\n                setFileType={setFileType}\n                setQuestion={setQuestion}\n                setUri={setUri}\n                setFilename={setFilename}\n                setSuccess={setSuccess}\n                setSound={setSound}\n                setIsPlaying={setIsPlaying}\n                pauseSound={pauseSound}\n                uri={uri}\n                filename={filename}\n                answers={answers}\n                fileType={fileType}\n                question={question}\n                success={success}\n                sound={sound}\n                isPlaying={isPlaying}\n            />\n        } else {\n            return <SafeAreaView style={styles.safeArea}>\n                <Button\n                    title={QuizLang[props.lang].AddQuestion}\n                    icon={\n                        <Icon\n                            name={'add-circle-outline'}\n                            type={'ionicon'}\n                            color={'white'}\n                            size={15}\n                            style={{ marginHorizontal: 5 }}\n                        />\n                    }\n                    onPress={() => setCreateQuestion(true)}\n                />\n                <ScrollView style={{marginBottom: 40}}>\n                    { props.loading ? (\n                        <ActivityIndicator\n                            color={'blue'}\n                            size={'small'}\n                            style={styles.loading}\n                        />\n                    ) : printQuestionList() }\n                </ScrollView>    \n            </SafeAreaView>\n        }\n    };\n\n    return (\n        <>\n            {/* Confirmation quiz creation (setting quiz name and complete creation) */}\n            <Overlay\n                visible={modal}\n                overlayStyle={styles.modal}\n                onBackdropPress={() => setModal(false)}\n                ModalComponent={Modal}\n            >\n                <Text style={styles.modalTitle}>{QuizLang[props.lang].CompleteQuizTitleHeader}</Text>\n                <Text style={styles.modalDescription}>{QuizLang[props.lang].CompleteQuizTitle}</Text>\n                <View style={{ flexDirection: 'row' }}>\n                    <Input placeholder={QuizLang[props.lang].QuizTitle}\n                        containerStyle={styles.quizTitleInputContainer}\n                        inputStyle={styles.quizTitleInput}\n                        onChangeText={(e) => setName(e?.trim())}\n                    />\n                    <Button containerStyle={{ marginTop: 10, width: 40 }} title={{}} icon={\n                        <Icon\n                            name={'checkmark-circle-outline'}\n                            type={'ionicon'}\n                            color={'white'}\n                            size={15}\n                        />\n                    } disabled={name?.length < 3 ? true : false} onPress={createQuiz} />\n                </View>\n            </Overlay>\n\n            <View style={{ flexDirection: 'row' }}>\n                <Button\n                    /* Complete the quiz or question creation / edition */\n                    title={createQuestion ? QuizLang[props.lang].OK : QuizLang[props.lang].Complete}\n                    containerStyle={styles.createButton}\n                    icon={\n                        <Icon\n                            name={createQuestion ? 'save-outline' : 'checkmark-done-circle-outline'}\n                            type={'ionicon'}\n                            color={'white'}\n                            size={15}\n                            style={{ marginHorizontal: 5 }}\n                        />\n                    }\n                    disabled={ (createQuestion && disable) || (!createQuestion && content?.length < 2) ? true : false}\n                    onPress={() => {\n                        pauseSound();\n                        if (createQuestion) pushContent();\n                        else setModal(true);\n                    }}\n                />\n                <FAB\n                    color='red'\n                    style={{marginLeft: 20}}\n                    size=\"small\"\n                    icon={{name: 'caret-back-outline', type: 'ionicon', color:'white' }}\n                    onPress={() => {\n                        pauseSound();\n                        createQuestion ? setCreateQuestion(false) : props.setTab(2)\n                    }}\n                />\n            </View>\n            <Divider\n                color={'grey'}\n                width={1}\n                style={{ width: 100 + '%', marginTop: 20 }}\n            />\n            { printPage() }\n        </>\n    );\n}\n","import React from 'react';\nimport { Text, Button, Icon, FAB } from 'react-native-elements';\n\nimport styles from '../styles';\nimport Lottie from '../../../utils/Lottie';\n\nimport ThinkingLottie from '../../../../assets/lottie/thinking.json';\nimport { lang as QuizLang } from '../../../../language/activities/quiz';\n\nexport default function Menu(props) {\n    const ThinkingImage = require('../../../../assets/img/activities/quiz/thinking.gif');\n    return (\n    <>\n        { props.quizLength > 1 ? <FAB\n            style={{marginTop: 140, position: 'absolute', zIndex: 10}}\n            containerStyle={{marginLeft: 120}}\n            size=\"small\"\n            icon={{name: 'repeat-sharp', type: 'ionicon', color:'white' }}\n            onPress={() => props.pickRandomQuizz()}\n        /> : <></> }\n        <Lottie LottieSource={ThinkingLottie} ImageSource={ThinkingImage} LottieStyle={{marginTop: -25, height: 250, marginBottom: -30}} />\n        <Text style={styles.quizzTitle}>{QuizLang[props.lang].selectedQuizz(props.quiz.name)}</Text>\n        <Button\n            title={QuizLang[props.lang].Play}\n            containerStyle={styles.playButton}\n            onPress={() => props.setPlay(true)}\n            iconRight={true}\n            icon={\n                <Icon\n                    name={'caret-forward-outline'}\n                    type={'ionicon'}\n                    color={'white'}\n                    size={15}\n                    style={{ marginHorizontal: 5 }}\n                />\n            }\n        />\n        <Button\n            title={QuizLang[props.lang].Leave}\n            buttonStyle={{ backgroundColor: 'red' }}\n            containerStyle={styles.leaveButtonPlay}\n            onPress={() => props.setTab(0)}\n            icon={\n                <Icon\n                    name={'caret-back-outline'}\n                    type={'ionicon'}\n                    color={'white'}\n                    size={15}\n                    style={{ marginHorizontal: 5 }}\n                />\n            }\n        />\n    </>);\n};","import React, { useEffect, useState } from 'react';\nimport { ActivityIndicator, Alert, View, Modal } from 'react-native';\nimport { Text, Image, Input, Button, Icon, Overlay } from 'react-native-elements';\nimport ConfettiCannon from 'react-native-confetti-cannon';\n\nimport TrophyImage from '../../../../assets/img/activities/trophy.gif';\nimport SadImage from '../../../../assets/img/activities/sad.gif';\n\nimport styles from '../styles';\n\nimport { shuffle } from '../utils/gameFunc';\n\nimport { lang as QuizLang } from '../../../../language/activities/quiz';\nimport * as API from '../../../../data/quizApi';\n\nimport Lottie from '../../../utils/Lottie';\nimport { Audio } from 'expo-av';\n\nexport default function Game(props) {\n    const [game, setGame] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [current, setCurrent] = useState(0);\n    const [answer, setAnswer] = useState();\n    const [modal, setModal] = useState(false);\n    const [isPlaying, setIsPlaying] = useState(false);\n    const [sound, setSound] = useState(new Audio.Sound());\n\n    const [success, setSuccess] = useState(0);\n    const [fail, setFail] = useState(0);\n    const [confetti, setConfetti] = useState(false);\n\n    useEffect( () => {\n        setGame(shuffle(props.quiz));\n        setLoading(false);\n    }, []);\n\n    const TrophyLottie = require('../../../../assets/lottie/trophy.json');\n    const SadLottie = require('../../../../assets/lottie/sad.json');\n\n\n    const pauseSound = async () => {\n        const getSoundStatus = await sound?.getStatusAsync();\n        if (getSoundStatus.isLoaded)\n            await sound.pauseAsync();\n        setIsPlaying(false);\n    };\n\n    const stopSound = async () => {\n        await pauseSound();\n        setSound(new Audio.Sound());\n        await sound?.unloadAsync();\n    }\n\n    const playSound = async () => {\n        setIsPlaying(true);\n        await Audio.setAudioModeAsync({\n            staysActiveInBackground: true,\n            shouldDuckAndroid: true,\n        });\n        const getSoundStatus = await sound?.getStatusAsync();\n        if (getSoundStatus?.isLoaded === false) {\n            await sound.loadAsync({ uri: game[current].uri });\n            setSound(sound);\n        }\n        await sound.playAsync();\n        sound.setOnPlaybackStatusUpdate(async (playbackStatus) => {\n            if (playbackStatus.didJustFinish) {\n                await sound.unloadAsync();\n                setIsPlaying(false);\n            }\n        });\n    };\n\n    const setMediaType = () => {\n        if (!game[current]) return;\n        switch (game[current].fileType) {\n            case 'image':\n                return <Image source={ {uri: game[current].uri } } style={styles.topMediaQuestion}  />\n            case 'audio':\n                return <Icon onPress={() => isPlaying ? pauseSound() : playSound() } raised size={50} name={isPlaying ? \"pause-circle-outline\" : \"play-circle-outline\"} color={'#246364'} type={\"ionicon\"} containerStyle={{marginBottom: 30}} />\n            default:\n                return <></>;\n        }\n    };\n\n    const openAlertResultQuestion = (result) => {\n        return (\n            Alert.alert(\n                result ? QuizLang[props.lang].SuccessTitle : QuizLang[props.lang].FailedTitle,\n                result ? QuizLang[props.lang].Success : QuizLang[props.lang].Failed(game[current].answers),\n                [\n                    {\n                        text: QuizLang[props.lang].OK,\n                        onPress: () => {\n                            if (current + 1 <= game.length - 1)\n                                setCurrent(current + 1);\n                            else {\n                                if (success >= fail) setConfetti(true);\n                                setModal(true);\n                            }\n                        },\n                    }\n                ]\n            )\n        )\n    };\n\n    const answerQuestion = async () => {\n        const answerTrimedLowercase = answer?.trim()?.toLowerCase();\n        stopSound();\n        setAnswer('');\n        const result = game[current].answers.includes(answerTrimedLowercase);\n        if (result === false) {\n            // increment the fail and update the API\n            setFail(fail + 1);\n            await API.updateScore(props.personId, props.quizId, game[current].id, false);\n        } else {\n            // increment the success and update the API\n            setSuccess(success + 1);\n            await API.updateScore(props.personId, props.quizId, game[current].id, true)\n        }\n        openAlertResultQuestion(result);\n    };\n\n    return (\n    <>\n        {loading ?\n            <ActivityIndicator size={'large'} style={{marginTop: 30}} color={'blue'} />\n               :\n            <>\n                {confetti && success >= fail ? (\n                    <ConfettiCannon\n                        fadeOut={true}\n                        autoStart={true}\n                        fallSpeed={6000}\n                        count={50}\n                        origin={{ x: -20, y: -35 }}\n                    />\n                ) : (\n                    <></>\n                )}\n                <Overlay\n                    visible={modal}\n                    overlayStyle={styles.overlay}\n                    onBackdropPress={() => props.setTab(0)}\n                    ModalComponent={Modal}\n                >\n                    {success >= fail ? \n                        <>\n                            <Lottie LottieSource={TrophyLottie} ImageSource={TrophyImage} LottieStyle={{marginTop: -50, height: 120, marginBottom: -30}} loop={false} />\n                            <Text style={{color:'blue', textAlign: 'center', fontSize: 23, fontWeight: 'bold'}}>{QuizLang[props.lang].SuccessQuizTitle}</Text>\n                            <Text style={{textAlign: 'center', marginTop: 30, fontSize: 18}}>{QuizLang[props.lang].SuccessQuiz(fail, success)}</Text>\n                        </>\n                    :\n                        <>\n                            <Lottie LottieSource={SadLottie} ImageSource={SadImage} LottieStyle={{marginTop: -50, height: 120, marginBottom: -30}} />\n                            <Text style={{color:'red', textAlign: 'center', fontSize: 23, fontWeight: 'bold'}}>{QuizLang[props.lang].FailQuizTitle}</Text>\n                            <Text style={{textAlign: 'center', marginTop: 30, fontSize: 18}}>{QuizLang[props.lang].FailQuiz(fail, success)}</Text>\n                        </>\n                    }\n                    <Button title={QuizLang[props.lang].Leave} onPress={() => props.setTab(0)} containerStyle={styles.leaveButton} icon={\n                        <Icon\n                            name={'caret-back-outline'}\n                            type={'ionicon'}\n                            color={'white'}\n                            size={15}\n                            style={{ marginHorizontal: 5 }}\n                        />\n                    } />\n                </Overlay>\n                { setMediaType() }\n                <Text style={styles.gameQuestion}>{game[current].question}</Text>\n                <View style={styles.flexQuizGame}>\n                    <Input style={styles.inputQuizGame} onChangeText={(e) => { setAnswer(e); }} value={answer} />\n                    <Button buttonStyle={styles.buttonQuizGameOK} title={QuizLang[props.lang].OK} onPress={() => { answerQuestion() }} />\n                </View>\n            </>\n        }\n    </>);\n};","export const shuffle = (arr) => {\n    for (let i = arr.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [arr[i], arr[j]] = [arr[j], arr[i]];\n    }\n    return arr;\n};","import React, { useState } from 'react';\nimport { View } from 'react-native';\n\nimport styles from '../styles';\n\nimport Menu from './Menu';\nimport Game from './Game';\n\n// This component is mounted when the user clicks on 'Play' in the main quiz menu\nexport default function Play(props) {\n    const [play, setPlay] = useState(false);\n\n    return (\n    <View style={styles.view}>\n        { play ?\n            <Game \n                lang={props.lang}\n                quizId={props.quiz._id}\n                personId={props.personId}\n                quiz={props.quiz.content}\n                setTab={props.setTab}\n                setPlay={setPlay}\n            />\n            :\n            <Menu\n                lang={props.lang}\n                pickRandomQuizz={props.pickRandomQuizz}\n                quiz={props.quiz}\n                setTab={props.setTab}\n                setPlay={setPlay}\n                quizLength={props.quizLength}\n            />\n        }\n    </View>);\n};","import React, { useEffect, useState } from 'react';\nimport { View, BackHandler, Alert } from 'react-native';\nimport { Text } from 'react-native-elements';\n\nimport Menu from './Menu';\nimport { randomNumber, randomArrayElement } from '../../../utils/helpers';\n\n// Child components\nimport ViewQuiz from './ViewQuiz';\nimport CreateQuiz from './Creation/CreateQuiz';\nimport Play from './Play';\n\nimport * as API from '../../../data/quizApi';\nimport { lang as QuizLang } from '../../../language/activities/quiz';\n\nimport styles from './styles';\n\nexport default function Quiz(props) {\n    const [isLoading, setIsLoading] = useState(true);\n    const [tab, setTab] = useState(0);\n    const [quiz, setQuiz] = useState([]);\n    const [random, setRandom] = useState(0);\n    const [reload, setReload] = useState(false);\n\n    useEffect(() => {\n        // API.reset();\n\n        API.get(props.personId).then((data) => {\n            if (data.length > 0) {\n                setQuiz(data);\n                setRandom(randomNumber(0, quiz.length - 1));\n            }\n            setIsLoading(false);\n        });\n\n        // BackHandler managment\n        const backAction = () => {\n            if (tab > 0) {\n                if (tab === 1) {\n                    Alert.alert(\n                        QuizLang[props.lang].GiveUpQuizTitle,\n                        QuizLang[props.lang].GiveUpQuiz,\n                        [\n                            {\n                                text: QuizLang[props.lang].Leave,\n                                onPress: () => { null },\n                                style: 'cancel'\n                            },\n                            {\n                                text: QuizLang[props.lang].OK,\n                                onPress: () => {\n                                    setTab(0);\n                                }\n                            },\n                        ]\n                    )\n                }\n                else setTab(0);\n            } else {\n                props.setPage(null);\n            }\n            return true;\n        };\n        const backHandler = BackHandler.addEventListener(\n            'hardwareBackPress',\n            backAction\n        );\n        return () => {\n            backHandler.remove();\n        };\n    }, [tab, reload]);\n\n    const pickRandomQuizz = () => {\n        if (quiz.length > 0) {\n            let rand = randomArrayElement(random, 0, quiz.length - 1);\n            setRandom(rand);\n        }\n    };\n\n    const printPage = () => {\n        if (tab === 0) {\n            return (\n                <Menu\n                    setTab={setTab}\n                    lang={props.lang}\n                    setPage={props.setPage}\n                    quiz={quiz}\n                    isLoading={isLoading}\n                />\n            );\n        } else if (tab === 1) {\n            return <Play\n                quiz={quiz[random]}\n                quizLength={quiz.length}\n                lang={props.lang}\n                personId={props.personId}\n                setTab={setTab}\n                pickRandomQuizz={pickRandomQuizz}\n            />;\n        } else if (tab === 2) {\n            return (\n                <ViewQuiz\n                    loading={isLoading}\n                    setTab={setTab}\n                    lang={props.lang}\n                    setPage={props.setPage}\n                    quiz={quiz}\n                    personId={props.personId}\n                    reload={reload}\n                    setReload={setReload}\n                />\n            );\n        } else if (tab === 3) {\n            return <Text>Tab 3 (Help?)</Text>;\n        } else if (tab === 4) {\n            return (\n                <CreateQuiz\n                    personId={props.personId}\n                    setTab={setTab}\n                    lang={props.lang}\n                    setPage={props.setPage}\n                    setReload={setReload}\n                />\n            );\n        } else {\n            return <Text>Invalid tab</Text>;\n        }\n    };\n\n    return <View style={styles.view}>{printPage()}</View>;\n}\n","import { lang as ActivitiesLang } from '../language/activities';\nimport Dictaphone from '../components/activities/Dictaphone';\nimport Simon from '../components/activities/Simon';\nimport Quiz from '../components/activities/Quiz';\n\nexport default function Activities(lang, personId) {\n    return [\n        {\n            name: ActivitiesLang[lang]?.Simon,\n            icon: 'grid-outline',\n            returnComponent: (lang, setPage) => {\n                return (\n                    <Simon lang={lang} setPage={setPage} personId={personId} />\n                );\n            },\n        },\n        {\n            name: ActivitiesLang[lang]?.DoubleMemory,\n            icon: 'copy-outline',\n            returnComponent: (lang, setPage) => {\n                return null;\n            },\n        },\n        {\n            name: ActivitiesLang[lang]?.Quiz,\n            icon: 'help-circle-outline',\n            returnComponent: (lang, setPage) => {\n                return (\n                    <Quiz lang={lang} setPage={setPage} personId={personId} />\n                );\n            },\n        },\n        {\n            name: ActivitiesLang[lang]?.SuggestedActivities,\n            icon: 'color-palette-outline',\n            returnComponent: (lang, setPage) => {\n                return null;\n            },\n        },\n        {\n            name: ActivitiesLang[lang]?.Dictaphone,\n            icon: 'mic-outline',\n            returnComponent: (lang, setPage) => {\n                return (\n                    <Dictaphone\n                        lang={lang}\n                        setPage={setPage}\n                        personId={personId}\n                    />\n                );\n            },\n        },\n    ];\n}\n","import { StyleSheet } from 'react-native';\n\nexport default StyleSheet.create({\n    containerStyle: {\n        alignItems: 'center',\n        marginTop: 20,\n        marginBottom: 10,\n    },\n    buttonStyle: {\n        width: 250,\n        height: 40,\n        justifyContent: 'flex-start',\n    },\n    buttonStyleDelete: {\n        width: 250,\n        height: 40,\n        backgroundColor: 'red',\n    },\n    buttonStyleDebug: {\n        width: 250,\n        height: 40,\n        backgroundColor: 'orange',\n    },\n});\n","import React, { useState } from 'react';\nimport { ScrollView } from 'react-native';\nimport { Button } from 'react-native-elements';\nimport ActivitiesList from '../../../data/activities';\n\nimport styles from './styles';\n\nexport default function Activities(props) {\n    const [page, setPage] = useState();\n    return page ? (\n        page\n    ) : (\n        <ScrollView style={{ flex: 1 }}>\n            {ActivitiesList(props.lang || 'fr', props.personId).map((el, i) => {\n                return (\n                    <Button\n                        icon={{\n                            name: el.icon,\n                            type: 'ionicon',\n                            size: 15,\n                            color: 'white',\n                        }}\n                        key={i}\n                        iconPosition={'left'}\n                        iconContainerStyle={{ marginRight: 50 }}\n                        buttonStyle={styles.buttonStyle}\n                        containerStyle={styles.containerStyle}\n                        title={el.name}\n                        onPress={(e) => {\n                            setPage(\n                                el.returnComponent(props.lang || 'fr', setPage)\n                            );\n                        }}\n                    />\n                );\n            })}\n        </ScrollView>\n    );\n}\n","import { StyleSheet } from 'react-native';\n\nexport default StyleSheet.create({});\n","import React from 'react';\nimport { ScrollView, Text } from 'react-native';\n\nimport { lang as ActivitiesLang } from '../../../language/activities';\nimport styles from './styles';\n\nexport default function Score(props) {\n    return (\n        <ScrollView style={{ flex: 1 }}>\n            <Text>todo</Text>\n        </ScrollView>\n    );\n}\n","import React from 'react';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport { lang as ActivitiesLang } from '../../language/activities';\n\nimport { Icon } from 'react-native-elements';\n\nimport Settings from './Settings';\nimport Activities from './Activities';\nimport Score from './Score';\n\nconst Tab = createBottomTabNavigator();\n\nexport default function Tabs(props) {\n    return (\n        <Tab.Navigator\n            screenOptions={{\n                tabBarStyle: [{ height: 60, color: '#5bc0de' }],\n                tabBarLabelStyle: [{ color: '#5bc0de', marginBottom: 10 }],\n            }}\n        >\n            <Tab.Screen\n                options={{\n                    headerShown: false,\n                    tabBarIcon: ({ focused }) => {\n                        return (\n                            <Icon\n                                type={'ionicon'}\n                                color={'#5bc0de'}\n                                name={`game-controller${\n                                    focused ? '' : '-outline'\n                                }`}\n                            />\n                        );\n                    },\n                }}\n                name={ActivitiesLang[props.lang]?.Activities}\n                children={() => (\n                    <Activities lang={props.lang} personId={props.personId} />\n                )}\n            />\n            <Tab.Screen\n                options={{\n                    headerShown: false,\n                    tabBarIcon: ({ focused }) => {\n                        return (\n                            <Icon\n                                type={'ionicon'}\n                                color={'#5bc0de'}\n                                name={`star${focused ? '' : '-outline'}`}\n                            />\n                        );\n                    },\n                }}\n                name={ActivitiesLang[props.lang]?.Score}\n                children={() => <Score lang={props.lang} />}\n            />\n            <Tab.Screen\n                options={{\n                    headerShown: false,\n                    tabBarIcon: ({ focused }) => {\n                        return (\n                            <Icon\n                                type={'ionicon'}\n                                color={'#5bc0de'}\n                                name={`settings${focused ? '' : '-outline'}`}\n                            />\n                        );\n                    },\n                }}\n                name={ActivitiesLang[props.lang]?.Settings}\n                children={(e) => (\n                    <Settings\n                        lang={props.lang}\n                        username={props?.username}\n                        person={props.person}\n                        personId={props.personId}\n                        setFullname={props.setFullname}\n                    />\n                )}\n            />\n        </Tab.Navigator>\n    );\n}\n","import { StyleSheet } from 'react-native';\n\nexport default StyleSheet.create({\n    container: {\n        alignItems: 'center',\n        alignContent: 'center',\n        marginBottom: 20,\n        width: 100 + '%',\n        backgroundColor: 'white',\n    },\n    topLottie: {\n        marginTop: -20,\n        width: 200,\n        height: 200,\n        marginBottom: -90,\n    },\n    bgLottie: {\n        width: 100 + '%',\n        opacity: 0.4,\n    },\n    bgImage: {\n        position: 'absolute',\n        width: 100 + '%',\n        height: 100 + '%',\n        opacity: 0.4,\n    },\n    topImage: {\n        marginTop: -40,\n        width: 200,\n        height: 200,\n        marginBottom: -70,\n        backgroundColor: 'white',\n    },\n    heading: {\n        fontSize: 24,\n        color: '#3B8EFF',\n        marginTop: 10,\n        zIndex: 2,\n    },\n    divider: {\n        marginRight: 20,\n        width: 100 + '%',\n    },\n    tabViewItem: {\n        flex: 1,\n        width: 100 + '%',\n    },\n    tabText: {\n        fontSize: 10,\n    },\n    tabView: {\n        alignItems: 'center',\n        alignContent: 'center',\n        width: 100 + '%',\n    },\n});\n","import React, { useState, useEffect } from 'react';\nimport { View, BackHandler, ActivityIndicator } from 'react-native';\nimport { Text, Divider } from 'react-native-elements';\n\nimport { useParams, useNavigate, useLocation } from 'react-router-native';\n\nimport SuccessImage from '../../assets/img/activities/brain.gif';\nimport BackgroundImage from '../../assets/img/activities/bg.gif';\nimport { lang as ActivitiesLang } from '../../language/activities';\nimport Lottie from '../../components/utils/Lottie';\nimport * as Person from '../../data/personApi';\nimport Tabs from './Tabs';\n\nimport { DefaultTheme, NavigationContainer } from '@react-navigation/native';\n\nimport styles from './styles';\n\nexport default function Activities() {\n    const [personId, setPersonId] = useState(useParams('id') || '0');\n    const [person, setPerson] = useState();\n    const [fullname, setFullname] = useState();\n    const [isLoading, setIsLoading] = useState(true);\n\n    const navigate = useNavigate();\n    const state = useLocation()?.state;\n    const lang = state?.lang || 'fr';\n\n    const LottieSource = require('../../assets/img/activities/brain.json');\n    const BgSource = require('../../assets/lottie/bg_activities.json');\n\n    useEffect(() => {\n        Person.getById(personId.id)\n            .then((result) => {\n                if (!result || result?.length === 0) {\n                    navigate('/home');\n                }\n                setPerson(result[0]);\n                setFullname(result[0]?.fullname);\n                setIsLoading(false);\n            })\n            .catch((err) => {\n                console.log(err);\n                navigate('/home', {\n                    state: { username: state?.username, lang: lang },\n                });\n            });\n        const backAction = () => {\n            navigate('/home', {\n                state: { username: state?.username, lang: lang },\n            });\n            return true;\n        };\n        const backHandler = BackHandler.addEventListener(\n            'hardwareBackPress',\n            backAction\n        );\n        return () => backHandler.remove();\n    }, []);\n\n    const navTheme = {\n        ...DefaultTheme,\n        colors: {\n            ...DefaultTheme.colors,\n            background: 'transparent',\n        },\n    };\n\n    if (isLoading) {\n        return (\n            <ActivityIndicator\n                color={'blue'}\n                size={'large'}\n                style={{ marginTop: 250 }}\n            />\n        );\n    }\n    return (\n        <>\n            <View style={styles.container}>\n                <Lottie\n                    LottieSource={LottieSource}\n                    ImageSource={SuccessImage}\n                    LottieStyle={styles.topLottie}\n                    ImageStyle={styles.topImage}\n                    loop={true}\n                    autoPlay={true}\n                />\n                <Text style={styles.heading}>\n                    {ActivitiesLang[lang]?.Hello(fullname) || null}\n                </Text>\n            </View>\n            <Divider color={'grey'} width={1} style={styles.divider} />\n\n            <View style={{ flex: 1 }}>\n                <View style={{ flex: 1, position: 'absolute' }}>\n                    <Lottie\n                        LottieSource={BgSource}\n                        ImageSource={BackgroundImage}\n                        LottieStyle={styles.bgLottie}\n                        ImageStyle={styles.bgImage}\n                        loop={true}\n                        autoPlay={true}\n                    />\n                </View>\n                <NavigationContainer theme={navTheme} style={{ padding: 400 }}>\n                    <Tabs\n                        lang={lang}\n                        username={person?.fullname}\n                        personId={personId.id}\n                        person={person}\n                        setFullname={setFullname}\n                    />\n                </NavigationContainer>\n            </View>\n        </>\n    );\n}\n","import { registerRootComponent } from 'expo';\n\nimport App from './App';\n\n// registerRootComponent calls AppRegistry.registerComponent('main', () => App);\n// It also ensures that whether you load the app in Expo Go or in a native build,\n// the environment is set up appropriately\nregisterRootComponent(App);\n","import { StatusBar } from 'expo-status-bar';\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { NativeRouter, Route, Routes } from 'react-router-native';\nimport { View } from 'react-native';\n\nimport * as Localization from 'expo-localization';\nimport { getConfig } from './data/configApi';\nimport { lang as LangInterface } from './language/interface';\n\nimport ChooseUsername from './pages/ChooseUsername';\nimport Loading from './components/utils/Loading';\n\nimport HomeOrTutorial from './components/utils/HomeOrTutorial';\nimport Home from './pages/Home';\nimport Activities from './pages/Activities';\n\nexport default function App() {\n    const [config, setConfig] = useState();\n    const [isLoading, setIsLoading] = useState(true);\n\n    useEffect(() => {\n        loadDataCallback();\n    }, [loadDataCallback]);\n\n    let local = Localization.locale?.split('-')[0] || 'fr';\n    const lang = ['en', 'fr'].includes(local) ? local : 'fr';\n\n    const loadDataCallback = useCallback(async () => {\n        try {\n            fetchData();\n        } catch (err) {\n            console.error(err);\n        }\n    }, []);\n\n    const fetchData = async () => {\n        getConfig().then((resp) => {\n            setConfig(resp);\n            setIsLoading(false);\n        });\n    };\n\n    return (\n        <View style={{ flex: 1 }}>\n            <StatusBar hidden={true} />\n            {isLoading ? (\n                <Loading\n                    style={{ flex: 1, alignItems: 'center' }}\n                    text={LangInterface[lang]?.GlobalLoading}\n                />\n            ) : (\n                <NativeRouter>\n                    <Routes>\n                        <Route\n                            exact\n                            path=\"/\"\n                            element={\n                                <HomeOrTutorial\n                                    hasSeenTutorial={config?.hasSeenTutorial}\n                                    lang={lang}\n                                    username={config?.username}\n                                />\n                            }\n                        />\n                        <Route\n                            exact\n                            path=\"/username\"\n                            element={<ChooseUsername lang={lang} />}\n                        />\n                        <Route\n                            exact\n                            path=\"/home\"\n                            element={\n                                <Home\n                                    hasSeenTutorial={config?.hasSeenTutorial}\n                                    lang={lang}\n                                    username={config?.username}\n                                />\n                            }\n                        />\n                        <Route\n                            path=\"/activities/:id\"\n                            element={<Activities />}\n                        />\n                    </Routes>\n                </NativeRouter>\n            )}\n        </View>\n    );\n}\n"],"sourceRoot":""}